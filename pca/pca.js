var e1=Object.defineProperty;var Da=ze=>{throw TypeError(ze)};var t1=(ze,Ae,tt)=>Ae in ze?e1(ze,Ae,{enumerable:!0,configurable:!0,writable:!0,value:tt}):ze[Ae]=tt;var Lr=(ze,Ae,tt)=>t1(ze,typeof Ae!="symbol"?Ae+"":Ae,tt),fl=(ze,Ae,tt)=>Ae.has(ze)||Da("Cannot "+tt);var ur=(ze,Ae,tt)=>(fl(ze,Ae,"read from private field"),tt?tt.call(ze):Ae.get(ze)),bn=(ze,Ae,tt)=>Ae.has(ze)?Da("Cannot add the same private member more than once"):Ae instanceof WeakSet?Ae.add(ze):Ae.set(ze,tt),dl=(ze,Ae,tt,Rr)=>(fl(ze,Ae,"write to private field"),Rr?Rr.call(ze,tt):Ae.set(ze,tt),tt),Ya=(ze,Ae,tt)=>(fl(ze,Ae,"access private method"),tt);(function(){"use strict";var yr,Zr,hn,Qn,Ua;var ze=document.createElement("style");ze.textContent=`button.svelte-ymtj5z{display:inline-block;font-size:.9em;padding:0 .5em;line-height:1.5em;border-radius:.25em;box-shadow:none;margin:0;text-align:center;border:1px solid}.button.svelte-ymtj5z:focus-visible{outline:solid 2px;outline-offset:2px}button.svelte-bx9fh5{display:inline-block;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin:0 .25em;text-align:center;padding:0;background-size:45% 45%;background-position:50%;background-repeat:no-repeat}button.svelte-bx9fh5:last-of-type{margin-right:0}.button.svelte-bx9fh5:focus-visible{outline:solid 2px;outline-offset:2px}.control-element.svelte-h4yni9{font-size:.85em;background:var(--container-bg-color, #fff);color:var(--text-color-dark, #606570);padding:.5em .5em .5em 1em;border-radius:0;display:flex;justify-items:flex-start;justify-content:flex-start;align-items:center;margin-bottom:.5px}.control-element.svelte-h4yni9:hover{background:var(--container-bg-color, #fafdff)}.control-element.svelte-h4yni9:first-child{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.control-element.svelte-h4yni9:last-child{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-h4yni9{display:none}.control-element.error.svelte-h4yni9{background:var(--warning-color, crimson);color:var(--warning-text-color, #fefefe)}.label.svelte-h4yni9{padding-right:.75em;flex-grow:0;flex-shrink:1;color:var(--text-color-dark, #606570)}.control-element.svelte-h4yni9>.wrapper{flex:1 1 auto;position:relative;box-sizing:border-box;display:inline-block;margin:0;padding:0;width:auto;align-items:flex-start;justify-content:center;justify-items:flex-start}.control-element.svelte-h4yni9>h2{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:1.1em}.control-element.svelte-h4yni9>p{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:max(12px,.9em)}.control-element.error p{color:var(--warning-text-color, #fefafa)}.control-element.error a{color:var(--warning-link-color, #ffeeaa)}.control-element.error a:hover{color:var(--warning-link-hover-color, #ffee80)}.control-element.svelte-h4yni9>.title{font-size:1.05em;font-weight:700;color:var(--text-color-dark, #606570);flex-grow:1;padding:.3em 0;margin:0}.control-element.svelte-h4yni9>.range-slider-container{outline-color:var(--outline-color, #ccc);background:var(--bg-color-light, #f0f0f0)}.control-element.svelte-h4yni9>.range-slider-container:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-h4yni9 .range-slider{color:var(--text-color-light, #fafafa);background-color:var(--main-color1, #6eb8ff);border-right-color:var(--main-color2, #528abe)}.control-element.svelte-h4yni9 .range-value{color:var(--text-color-light, #fafafa)}.control-element.svelte-h4yni9 .range-value_left,.control-element.svelte-h4yni9 .range-value_right{color:var(--text-color-dark, #606570)}.control-element.svelte-h4yni9 .button{border-color:transparent;background-color:var(--bg-color-dark, #606570);color:var(--text-color-light, #fafafa);outline-color:var(--outline-color, #ccc)}.control-element.svelte-h4yni9 .button:hover{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #5086b9)}.control-element.svelte-h4yni9 .button-cancel{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="2.0" viewBox="0 0 100 100" style="stroke:%23fafafa;stroke-width:1em;" ><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}.control-element.svelte-h4yni9 .button-cancel:hover{background-color:var(--warning-color, crimson)}.control-element.svelte-h4yni9 .button-undo{background-image:url('data:image/svg+xml;utf8,<svg width="99px" height="99px" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-linecap="round" stroke-linejoin="round" ><path d="M6 7L7 6L4.70711 3.70711L5.19868 3.21553C5.97697 2.43724 7.03256 2 8.13323 2C11.361 2 14 4.68015 14 7.93274C14 11.2589 11.3013 14 8 14C6.46292 14 4.92913 13.4144 3.75736 12.2426L2.34315 13.6569C3.90505 15.2188 5.95417 16 8 16C12.4307 16 16 12.3385 16 7.93274C16 3.60052 12.4903 0 8.13323 0C6.50213 0 4.93783 0.647954 3.78447 1.80132L3.29289 2.29289L1 0L0 1V7H6Z" fill="%23fafafa"></path> </g></svg>')}.control-element.svelte-h4yni9 .button-undo:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-h4yni9 .selector:focus-visible{outline:2px solid;outline-offset:2px;outline-color:var(--outline-color, #ccc)}.control-element.svelte-h4yni9 .selector>.option{color:var(--text-color-dark, #606570);background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-h4yni9 .plot-selector>.option>svg{stroke:var(--main-color1, #606570)}.control-element.svelte-h4yni9 .plot-selector>.option.selected>svg{stroke:var(--text-color-light, #fefefe)}.control-element.svelte-h4yni9 .selector>.option.selected{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-h4yni9 .selector>.option:not(.selected):hover{border:1px solid var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-h4yni9 .selector>.option:not(.selected):hover>svg{stroke:var(--main-color2, #4777a4)}.control-element.svelte-h4yni9 .file-selector:before{color:var(--text-color-dark, #606570)}.control-element.svelte-h4yni9 .file-selector.selected:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-h4yni9 .file-selector:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-h4yni9 .file-selector:focus-visible:before{outline-color:var(--outline-color, #ccc);color:var(--main-color1, #6eb8ff)}.control-element.svelte-h4yni9 .file-selector:hover:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-h4yni9 .textinput>input{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-h4yni9 .textinput>input:placeholder-shown{color:var(--text-color-dark, #a0a0a0);background-color:var(--bg-color-light, #f0f0f0);border-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-h4yni9 .textinput>input::placeholder{color:#a0a0a0}.control-element.svelte-h4yni9 .textinput>input:active::placeholder,.control-element.svelte-h4yni9 .textinput>input:focus::placeholder{color:transparent}.control-element.svelte-h4yni9 .textinput>input:focus,.control-element.svelte-h4yni9 .textinput>input:active{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-h4yni9 .textinput.error>input,.control-element.svelte-h4yni9 .textinput.error>input:focus,.control-element.svelte-h4yni9 .textinput.error>input:active{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce);border-color:var(--warning-color, crimson)}.control-element.svelte-h4yni9 .textinput.error>.error-message{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce)}.control-element.svelte-h4yni9 .spinner:after{border-color:var(--main-color1, #6eb8ff) transparent var(--main-color1, #6eb8ff) transparent}.control-element.svelte-h4yni9 .number-container{background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-h4yni9 .number-container>.value{color:var(--text-color-dark, #606570)}.control-element.svelte-h4yni9 .number-container>.button-small>svg>polygon{fill:var(--main-color2, #4777a4)}.control-element.svelte-h4yni9 .number-container>.button-small:hover>svg>polygon{fill:var(--main-color1, #6eb8ff)}.control-element.svelte-h4yni9 .number-container:focus-visible{outline-color:var(--outline-color, #ccc)}.range-slider-container.svelte-vhx0r0{position:relative;box-sizing:border-box;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-vhx0r0:focus-visible{outline:solid 2px #ccc;outline-offset:2px}.range-slider.svelte-vhx0r0{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;border-right:solid 5px;text-align:right;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_right.svelte-vhx0r0{justify-content:left}.range-value.svelte-vhx0r0{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;position:relative;user-select:none;-webkit-user-select:none;-moz-user-select:none;right:.25em}.range-value_right.svelte-vhx0r0{left:calc(100% + 5px + .25em)}.range-slider-container.svelte-xdlm7u{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-xdlm7u:focus-visible{outline:solid 2px;outline-offset:2px}.range-slider.svelte-xdlm7u{position:relative;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-radius:2px;text-align:center;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_left.svelte-xdlm7u{justify-content:left}.range-slider_right.svelte-xdlm7u{justify-content:right}.range-value.svelte-xdlm7u{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value_left.svelte-xdlm7u{position:relative;left:calc(100% + .25em)}.range-value_right.svelte-xdlm7u{position:relative;right:calc(100% + .25em)}input.svelte-1i17tox{display:none}.selector.svelte-1i17tox{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.selector.svelte-1i17tox:focus-visible{outline:solid 2px;outline-offset:2px}.option.svelte-1i17tox{cursor:default;padding:.25em .5em;margin:0 .3em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em}.option.svelte-1i17tox:not(.selected):hover{border:1px solid}.file-selector.svelte-1k0x7uv>input:where(.svelte-1k0x7uv){display:none}.file-selector.svelte-1k0x7uv{display:flex;align-items:baseline;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0;border-radius:2px;cursor:default}.file-selector.svelte-1k0x7uv:focus-visible{outline:solid 2px;outline-offset:2px}.file-selector.svelte-1k0x7uv:before{display:inline-block;content:"⇪";font-size:1.1em;margin:0 .5em 0 0;padding:0}.file-selector.selected.svelte-1k0x7uv:before{content:"☷";font-size:1.3em;letter-spacing:-.2em;font-weight:700}.textinput.svelte-1qtiwcs{box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex;position:relative}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs){flex:1 1 auto;font-size:.9em;width:100%;cursor:default;padding:.25em .5em;border:1px solid;border-radius:.3em;outline:none}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):focus,.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):active{border:1px solid}.error-message.svelte-1qtiwcs{position:absolute;left:0;bottom:calc(100% + 2px);border-radius:.3em;line-height:1em;font-size:.75em;padding:.5em}.spinner.svelte-n48urb{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-n48urb:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid;animation:svelte-n48urb-spinner 1.2s linear infinite}@keyframes svelte-n48urb-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-yf64an{display:none}.selector.svelte-yf64an{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yf64an{cursor:default;padding:0;padding-inline:0;padding-block:0;margin:0 .2em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em;height:auto;display:flex;justify-content:center}.option.svelte-yf64an:not(.selected):hover{border:1px solid}.number-container.svelte-giqvuu{box-sizing:border-box;flex:0 1 auto;height:1.5em;margin:0 5px 0 0;padding:0;width:auto;border-radius:2px;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:grid;grid-template-areas:"value up" "value down";grid-template-columns:1fr 1em;grid-template-rows:1fr 1fr;justify-items:center;align-items:center}.number-container.svelte-giqvuu:focus-visible{outline:solid 2px;outline-offset:2px}.value.svelte-giqvuu{grid-area:value;box-sizing:border-box;height:100%;display:block;padding:.1em .1em .1em .3em;text-align:right}.button-small.svelte-giqvuu{padding:0;margin:0;border:none;background:none;outline:none;width:.6em;height:.6em;box-sizing:border-box;font-size:inherit;display:flex;align-items:center;justify-content:center}.button-small.svelte-giqvuu>svg:where(.svelte-giqvuu){font-size:inherit;width:.6em;height:.6em}.button-up.svelte-giqvuu{grid-area:up}.button-down.svelte-giqvuu{grid-area:down}.color-picker.svelte-1ajmk4v{width:3em;height:1.25em;margin-right:2px;background:#000;border:3px solid #f0f0f0;border-radius:2px}input[type=color i].svelte-1ajmk4v{width:0;height:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent}.dataset-info.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name:where(.svelte-gdjwex),.dataset-info.svelte-gdjwex>.file-size:where(.svelte-gdjwex){display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}table.svelte-1xneg44{width:100%;border-collapse:collapse}tr.svelte-1xneg44{width:100%}th.svelte-1xneg44{border-bottom:1px solid #a0a0a0}th.svelte-1xneg44,td.svelte-1xneg44{text-align:right;padding:.2em .5em .2em .1em;color:#404040;margin:0}.outliers.svelte-1ggez3e{line-height:1.5em;text-align:left;padding:.5em 0;flex:0 0 80%}.outliers.svelte-1ggez3e>.item:where(.svelte-1ggez3e){color:#dc143c;background:#dc143c20;display:inline-block;white-space:nowrap;vertical-align:middle;max-width:10ch;overflow:hidden;text-overflow:ellipsis;padding:.1em .5em;margin:.2em .1em;border-radius:.2em}.show-download-links-none.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){display:none}.show-download-links-hover.svelte-1jtdxd0:hover>.download-links:where(.svelte-1jtdxd0){bottom:0}.show-download-links-fixed.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){bottom:0}.download-links.svelte-1jtdxd0{position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0){box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0):hover{background:#433;color:#fafafa}.download-links.svelte-1jtdxd0>button.error{background:#e43}.download-links.svelte-1jtdxd0>button.copied{background:#48e}.plot-container.svelte-1jtdxd0{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot-error.svelte-1jtdxd0{display:flex;justify-content:center;align-items:center}.message-error.svelte-1jtdxd0{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-1jtdxd0{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-1jtdxd0{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.drop.svelte-1vipsv{position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-1vipsv{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "body";grid-template-rows:30px 1fr;width:auto;height:auto;border-radius:.25rem}.body.svelte-1vipsv{grid-area:body;box-sizing:border-box;padding:0 1em .5em;width:100%;height:100%}.header.svelte-1vipsv{grid-area:header}.close-button.svelte-1vipsv{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-1vipsv:hover{background-color:#4e5052}.wrapper.svelte-ha02r1{width:95vw;height:90vh;display:grid;grid-template-areas:"plot" "message" "controls";grid-template-rows:1fr 15px min-content}.plot-container.svelte-ha02r1{grid-area:plot}.plot-controls.svelte-ha02r1{grid-area:controls;display:flex;width:100%;justify-content:center;border-radius:.5rem}.plot-controls.svelte-ha02r1>.control-element{background:transparent}.msg-select.svelte-ha02r1{grid-area:message;height:15px;font-size:12px;color:#aaa;text-align:center}.selected-buttons.svelte-8mh2yv>.control-element{background:#fff0c8}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type{color:#fff;border-color:#dc143c;background:#dc143c;margin-left:5px}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type:hover{background:#dc143c20;border-color:#dc143c80;color:#dc143c}.plot-panel.svelte-8mh2yv{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-8mh2yv{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-8mh2yv{padding:0 .25em 0 .5em}.plot-selector.svelte-8mh2yv{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-8mh2yv:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:#fff;z-index:999}.plot.svelte-8mh2yv{width:100%;height:calc(100% - 15px)}.plot-select-msg.svelte-8mh2yv{height:15px;font-size:12px;color:#aaa;text-align:center}@media (min-width:1100px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr 400px}}.app-container.svelte-1dk0fsp{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1dk0fsp{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1dk0fsp{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1dk0fsp>div:where(.svelte-1dk0fsp){border-radius:.25rem}.app-controls.svelte-1dk0fsp>.result-stats:where(.svelte-1dk0fsp){background:#e8e8e8}.help-text.svelte-1dk0fsp{margin-top:.25rem}.help-text.svelte-1dk0fsp>p:where(.svelte-1dk0fsp),.help-text.svelte-1dk0fsp>div:where(.svelte-1dk0fsp){background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1dk0fsp table:where(.svelte-1dk0fsp){border-collapse:collapse}.help-text.svelte-1dk0fsp table:where(.svelte-1dk0fsp) td:where(.svelte-1dk0fsp){padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-1dk0fsp table:where(.svelte-1dk0fsp) thead:where(.svelte-1dk0fsp) tr:where(.svelte-1dk0fsp) td:where(.svelte-1dk0fsp){font-weight:700;background:#f8f4e0}.help-text.svelte-1dk0fsp table:where(.svelte-1dk0fsp) td:where(.svelte-1dk0fsp):first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-1dk0fsp table:where(.svelte-1dk0fsp) tbody:where(.svelte-1dk0fsp) td:where(.svelte-1dk0fsp):nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-1dk0fsp>p:where(.svelte-1dk0fsp):first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1dk0fsp>p:where(.svelte-1dk0fsp):last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1dk0fsp{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-1dk0fsp{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1dk0fsp{grid-template-columns:min(320px,30%) 1fr}}.info-text.svelte-3v2vv7{line-height:1.5em}.info-text.svelte-3v2vv7>span{vertical-align:top;color:#a0a0a0}.info-text.svelte-3v2vv7>.file-name:where(.svelte-3v2vv7){display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}.app-container.svelte-1mqkfgh{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-1mqkfgh{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-1mqkfgh{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-1mqkfgh>div:where(.svelte-1mqkfgh){border-radius:.25rem}.app-controls.svelte-1mqkfgh>.result-stats:where(.svelte-1mqkfgh){background:#e8e8e8}.help-text.svelte-1mqkfgh{margin-top:.25rem}.help-text.svelte-1mqkfgh>p:where(.svelte-1mqkfgh){background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-1mqkfgh>p:where(.svelte-1mqkfgh):first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-1mqkfgh>p:where(.svelte-1mqkfgh):last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.result-stats.svelte-1mqkfgh{padding:.5rem 1rem;margin-top:.25rem;font-size:.85em}@media (min-width:1300px){.app-container.svelte-1mqkfgh{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-1mqkfgh{grid-template-columns:min(320px,30%) 1fr}}.page.svelte-1946064{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1946064{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1946064{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1946064{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-1946064>h1:where(.svelte-1946064){margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1946064>p:where(.svelte-1946064){margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1946064{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1946064>div:where(.svelte-1946064){height:100%}footer.svelte-1946064{display:grid;grid-template-columns:20% 60% 20%;grid-template-areas:"session info .";align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1946064 .session:where(.svelte-1946064){grid-area:session;padding-left:.5em;display:flex;align-items:center}footer.svelte-1946064 .session:where(.svelte-1946064) input:where(.svelte-1946064){display:none}footer.svelte-1946064 .session:where(.svelte-1946064) .session-message:where(.svelte-1946064){color:silver;padding-right:.5em}footer.svelte-1946064 .session:where(.svelte-1946064):hover .session-message:where(.svelte-1946064){color:#f8ebc5}footer.svelte-1946064 .session.no-buttons:where(.svelte-1946064) .clear-button:where(.svelte-1946064),footer.svelte-1946064 .session.no-buttons:where(.svelte-1946064) .upload-button:where(.svelte-1946064),footer.svelte-1946064 .session.no-buttons:where(.svelte-1946064) .download-button:where(.svelte-1946064){display:none}footer.svelte-1946064 .session:where(.svelte-1946064) .clear-button:where(.svelte-1946064),footer.svelte-1946064 .session:where(.svelte-1946064) .upload-button:where(.svelte-1946064),footer.svelte-1946064 .session:where(.svelte-1946064) .download-button:where(.svelte-1946064){font-size:1em;font-weight:700;background:#5e6062;color:silver;box-shadow:none;padding:0 .5em;margin:0 0 0 .2em;border-radius:3px;border:none;height:20px;box-sizing:border-box;display:inline-block}footer.svelte-1946064 .session:where(.svelte-1946064) .clear-button:where(.svelte-1946064){margin-left:.5em}footer.svelte-1946064 .session:where(.svelte-1946064) .upload-button:where(.svelte-1946064):hover,footer.svelte-1946064 .session:where(.svelte-1946064) .download-button:where(.svelte-1946064):hover{background-color:#f8ebc5;color:#4e5052}footer.svelte-1946064 .session:where(.svelte-1946064) .clear-button:where(.svelte-1946064):hover{background-color:#f96666;color:#4e5052}footer.svelte-1946064 .info:where(.svelte-1946064){grid-area:info;display:flex;justify-content:center;align-items:center}footer.svelte-1946064 .info:where(.svelte-1946064) .button-info:where(.svelte-1946064){cursor:default;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}footer.svelte-1946064 p{margin:0 .5em;text-align:center;padding:.15em}footer.svelte-1946064 span,footer.svelte-1946064 a{color:#f8ebc5}.hidden.svelte-1946064{display:none}.nav.svelte-1946064,.nav.svelte-1946064 :where(.svelte-1946064){-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1946064{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1946064{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-1946064>button:where(.svelte-1946064){cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1946064>button:where(.svelte-1946064)>span{color:#888}.nav-item.selected.svelte-1946064{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1946064>button:where(.svelte-1946064){font-weight:700;cursor:default}.nav-item.selected.svelte-1946064:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1946064>header:where(.svelte-1946064){border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1946064>footer:where(.svelte-1946064){border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.info-container.svelte-1946064{width:900px}.info-container.svelte-1946064>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1946064>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1946064>h2{font-size:1.5em;line-height:1.25em;padding:0em 1rem .5em;margin:0}.info-container.svelte-1946064>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1946064>ul{margin:0}.info-container.svelte-1946064>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1946064>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1946064 a{color:#ae8032}.info-container.svelte-1946064 a:hover{color:#eb9707}.info-container.svelte-1946064:last-child{padding-bottom:2rem}
/*$vite$:1*/`,document.head.appendChild(ze);var Ae=typeof document<"u"?document.currentScript:null;const tt=!1;var Rr=Array.isArray,Wa=Array.prototype.indexOf,lo=Array.from,Ha=Object.defineProperty,fr=Object.getOwnPropertyDescriptor,vl=Object.getOwnPropertyDescriptors,Ga=Object.prototype,Ka=Array.prototype,so=Object.getPrototypeOf;function jr(t){return typeof t=="function"}const it=()=>{};function Xa(t){return typeof(t==null?void 0:t.then)=="function"}function Qa(t){return t()}function ao(t){for(var e=0;e<t.length;e++)t[e]()}const Bt=2,hl=4,wn=8,_n=16,tr=32,$r=64,yn=128,Lt=256,xn=512,pt=1024,rr=2048,Fr=4096,nr=8192,kn=16384,ml=32768,qr=65536,Ja=1<<17,Za=1<<19,gl=1<<20,dr=Symbol("$state"),pl=Symbol("legacy props"),$a=Symbol("");function bl(t){return t===this.v}function wl(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ei(t,e){return t!==e}function io(t){return!wl(t,this.v)}function ti(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ri(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ni(t){throw new Error("https://svelte.dev/e/effect_orphan")}function oi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function li(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function si(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ai(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ii(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ci(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Or=!1,ui=!1;function fi(){Or=!0}const co=1,uo=2,_l=4,di=8,vi=16,hi=1,mi=2,gi=4,pi=8,bi=16,wi=4,yl=1,_i=2,ut=Symbol();function fo(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Re=null;function En(t){Re=t}function St(t){return xl().get(t)}function yi(t,e){return xl().set(t,e),e}function pe(t,e=!1,r){Re={p:Re,c:null,e:null,m:!1,s:t,x:null,l:null},Or&&!e&&(Re.l={s:null,u:null,r1:[],r2:bt(!1)})}function be(t){const e=Re;if(e!==null){const c=e.e;if(c!==null){var r=Fe,o=Be;e.e=null;try{for(var s=0;s<c.length;s++){var a=c[s];Ft(a.effect),jt(a.reaction),en(a.fn)}}finally{Ft(r),jt(o)}}Re=e.p,e.m=!0}return{}}function xr(){return!Or||Re!==null&&Re.l===null}function xl(t){return Re===null&&fo(),Re.c??(Re.c=new Map(xi(Re)||void 0))}function xi(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}function bt(t,e){var r={f:0,v:t,reactions:null,equals:bl,rv:0,wv:0};return r}function ae(t){return ki(bt(t))}function An(t,e=!1){var o;const r=bt(t);return e||(r.equals=io),Or&&Re!==null&&Re.l!==null&&((o=Re.l).s??(o.s=[])).push(r),r}function ki(t){return Be!==null&&!Qt&&Be.f&Bt&&(Jt===null?ji([t]):Jt.push(t)),t}function B(t,e){return Be!==null&&!Qt&&xr()&&Be.f&(Bt|_n)&&(Jt===null||!Jt.includes(t))&&ci(),Vr(t,e)}function Vr(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=Dl(),kl(t,rr),xr()&&Fe!==null&&Fe.f&pt&&!(Fe.f&(tr|$r))&&(lr===null?Fi([t]):lr.push(t))),e}function kl(t,e){var r=t.reactions;if(r!==null)for(var o=xr(),s=r.length,a=0;a<s;a++){var c=r[a],d=c.f;d&rr||!o&&c===Fe||(Zt(c,e),d&(pt|Lt)&&(d&Bt?kl(c,Fr):Rn(c)))}}let vo=!1;function te(t,e=null,r){if(typeof t!="object"||t===null||dr in t)return t;const o=so(t);if(o!==Ga&&o!==Ka)return t;var s=new Map,a=Rr(t),c=bt(0);a&&s.set("length",bt(t.length));var d;return new Proxy(t,{defineProperty(u,f,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&si();var m=s.get(f);return m===void 0?(m=bt(v.value),s.set(f,m)):B(m,te(v.value,d)),!0},deleteProperty(u,f){var v=s.get(f);if(v===void 0)f in u&&s.set(f,bt(ut));else{if(a&&typeof f=="string"){var m=s.get("length"),h=Number(f);Number.isInteger(h)&&h<m.v&&B(m,h)}B(v,ut),El(c)}return!0},get(u,f,v){var p;if(f===dr)return t;var m=s.get(f),h=f in u;if(m===void 0&&(!h||(p=fr(u,f))!=null&&p.writable)&&(m=bt(te(h?u[f]:ut,d)),s.set(f,m)),m!==void 0){var g=l(m);return g===ut?void 0:g}return Reflect.get(u,f,v)},getOwnPropertyDescriptor(u,f){var v=Reflect.getOwnPropertyDescriptor(u,f);if(v&&"value"in v){var m=s.get(f);m&&(v.value=l(m))}else if(v===void 0){var h=s.get(f),g=h==null?void 0:h.v;if(h!==void 0&&g!==ut)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return v},has(u,f){var g;if(f===dr)return!0;var v=s.get(f),m=v!==void 0&&v.v!==ut||Reflect.has(u,f);if(v!==void 0||Fe!==null&&(!m||(g=fr(u,f))!=null&&g.writable)){v===void 0&&(v=bt(m?te(u[f],d):ut),s.set(f,v));var h=l(v);if(h===ut)return!1}return m},set(u,f,v,m){var C;var h=s.get(f),g=f in u;if(a&&f==="length")for(var p=v;p<h.v;p+=1){var w=s.get(p+"");w!==void 0?B(w,ut):p in u&&(w=bt(ut),s.set(p+"",w))}h===void 0?(!g||(C=fr(u,f))!=null&&C.writable)&&(h=bt(void 0),B(h,te(v,d)),s.set(f,h)):(g=h.v!==ut,B(h,te(v,d)));var b=Reflect.getOwnPropertyDescriptor(u,f);if(b!=null&&b.set&&b.set.call(m,v),!g){if(a&&typeof f=="string"){var _=s.get("length"),k=Number(f);Number.isInteger(k)&&k>=_.v&&B(_,k+1)}El(c)}return!0},ownKeys(u){l(c);var f=Reflect.ownKeys(u).filter(h=>{var g=s.get(h);return g===void 0||g.v!==ut});for(var[v,m]of s)m.v!==ut&&!(v in u)&&f.push(v);return f},setPrototypeOf(){ai()}})}function El(t,e=1){B(t,t.v+e)}var Cn,Al,Cl,Ml;function Ei(){if(Cn===void 0){Cn=window,Al=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;Cl=fr(e,"firstChild").get,Ml=fr(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function ho(t=""){return document.createTextNode(t)}function Nt(t){return Cl.call(t)}function Mn(t){return Ml.call(t)}function V(t,e){return Nt(t)}function J(t,e){{var r=Nt(t);return r instanceof Comment&&r.data===""?Mn(r):r}}function O(t,e=1,r=!1){let o=t;for(;e--;)o=Mn(o);return o}function Ai(t){t.textContent=""}function E(t){var e=Bt|rr,r=Be!==null&&Be.f&Bt?Be:null;return Fe===null||r!==null&&r.f&Lt?e|=Lt:Fe.f|=gl,{ctx:Re,deps:null,effects:null,equals:bl,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??Fe}}function Sl(t){const e=E(t);return e.equals=io,e}function Nl(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Xt(e[r])}}function Ci(t){for(var e=t.parent;e!==null;){if(!(e.f&Bt))return e;e=e.parent}return null}function Mi(t){var e,r=Fe;Ft(Ci(t));try{Nl(t),e=Ul(t)}finally{Ft(r)}return e}function Tl(t){var e=Mi(t),r=(hr||t.f&Lt)&&t.deps!==null?Fr:pt;Zt(t,r),t.equals(e)||(t.v=e,t.wv=Dl())}function Il(t){Fe===null&&Be===null&&ni(),Be!==null&&Be.f&Lt&&Fe===null&&ri(),bo&&ti()}function Si(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Br(t,e,r,o=!0){var s=(t&$r)!==0,a=Fe,c={ctx:Re,deps:null,nodes_start:null,nodes_end:null,f:t|rr,first:null,fn:e,last:null,next:null,parent:s?null:a,prev:null,teardown:null,transitions:null,wv:0};if(r){var d=zr;try{Vl(!0),wo(c),c.f|=ml}catch(v){throw Xt(c),v}finally{Vl(d)}}else e!==null&&Rn(c);var u=r&&c.deps===null&&c.first===null&&c.nodes_start===null&&c.teardown===null&&(c.f&(gl|yn))===0;if(!u&&!s&&o&&(a!==null&&Si(c,a),Be!==null&&Be.f&Bt)){var f=Be;(f.effects??(f.effects=[])).push(c)}return c}function Ni(t){const e=Br(wn,null,!1);return Zt(e,pt),e.teardown=t,e}function De(t){Il();var e=Fe!==null&&(Fe.f&tr)!==0&&Re!==null&&!Re.m;if(e){var r=Re;(r.e??(r.e=[])).push({fn:t,effect:Fe,reaction:Be})}else{var o=en(t);return o}}function Ti(t){return Il(),mo(t)}function Ii(t){const e=Br($r,t,!0);return(r={})=>new Promise(o=>{r.outro?or(e,()=>{Xt(e),o(void 0)}):(Xt(e),o(void 0))})}function en(t){return Br(hl,t,!1)}function mo(t){return Br(wn,t,!0)}function re(t,e=[],r=E){const o=e.map(r);return vr(()=>t(...o.map(l)))}function vr(t,e=0){return Br(wn|_n|e,t,!0)}function Rt(t,e=!0){return Br(wn|tr,t,!0,e)}function Pl(t){var e=t.teardown;if(e!==null){const r=bo,o=Be;Bl(!0),jt(null);try{e.call(null)}finally{Bl(r),jt(o)}}}function Ll(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var o=r.next;Xt(r,e),r=o}}function Pi(t){for(var e=t.first;e!==null;){var r=e.next;e.f&tr||Xt(e),e=r}}function Xt(t,e=!0){var r=!1;if((e||t.f&Za)&&t.nodes_start!==null){for(var o=t.nodes_start,s=t.nodes_end;o!==null;){var a=o===s?null:Mn(o);o.remove(),o=a}r=!0}Ll(t,e&&!r),Ln(t,0),Zt(t,kn);var c=t.transitions;if(c!==null)for(const u of c)u.stop();Pl(t);var d=t.parent;d!==null&&d.first!==null&&Rl(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Rl(t){var e=t.parent,r=t.prev,o=t.next;r!==null&&(r.next=o),o!==null&&(o.prev=r),e!==null&&(e.first===t&&(e.first=o),e.last===t&&(e.last=r))}function or(t,e){var r=[];go(t,r,!0),jl(r,()=>{Xt(t),e&&e()})}function jl(t,e){var r=t.length;if(r>0){var o=()=>--r||e();for(var s of t)s.out(o)}else e()}function go(t,e,r){if(!(t.f&nr)){if(t.f^=nr,t.transitions!==null)for(const c of t.transitions)(c.is_global||r)&&e.push(c);for(var o=t.first;o!==null;){var s=o.next,a=(o.f&qr)!==0||(o.f&tr)!==0;go(o,e,a?r:!1),o=s}}}function kr(t){Fl(t,!0)}function Fl(t,e){if(t.f&nr){t.f^=nr,t.f&pt||(t.f^=pt),on(t)&&(Zt(t,rr),Rn(t));for(var r=t.first;r!==null;){var o=r.next,s=(r.f&qr)!==0||(r.f&tr)!==0;Fl(r,s?e:!1),r=o}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let Sn=!1,po=[];function ql(){Sn=!1;const t=po.slice();po=[],ao(t)}function tn(t){Sn||(Sn=!0,queueMicrotask(ql)),po.push(t)}function Li(){Sn&&ql()}const Ol=0,Ri=1;let Nn=!1,Tn=Ol,rn=!1,nn=null,zr=!1,bo=!1;function Vl(t){zr=t}function Bl(t){bo=t}let Er=[],Dr=0,r1=[],Be=null,Qt=!1;function jt(t){Be=t}let Fe=null;function Ft(t){Fe=t}let Jt=null;function ji(t){Jt=t}let wt=null,Tt=0,lr=null;function Fi(t){lr=t}let zl=1,In=0,hr=!1;function Dl(){return++zl}function on(t){var m;var e=t.f;if(e&rr)return!0;if(e&Fr){var r=t.deps,o=(e&Lt)!==0;if(r!==null){var s,a,c=(e&xn)!==0,d=o&&Fe!==null&&!hr,u=r.length;if(c||d){var f=t,v=f.parent;for(s=0;s<u;s++)a=r[s],(c||!((m=a==null?void 0:a.reactions)!=null&&m.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);c&&(f.f^=xn),d&&v!==null&&!(v.f&Lt)&&(f.f^=Lt)}for(s=0;s<u;s++)if(a=r[s],on(a)&&Tl(a),a.wv>t.wv)return!0}(!o||Fe!==null&&!hr)&&Zt(t,pt)}return!1}function qi(t,e){for(var r=e;r!==null;){if(r.f&yn)try{r.fn(t);return}catch{r.f^=yn}r=r.parent}throw Nn=!1,t}function Oi(t){return(t.f&kn)===0&&(t.parent===null||(t.parent.f&yn)===0)}function Pn(t,e,r,o){if(Nn){if(r===null&&(Nn=!1),Oi(e))throw t;return}r!==null&&(Nn=!0);{qi(t,e);return}}function Yl(t,e,r=!0){var o=t.reactions;if(o!==null)for(var s=0;s<o.length;s++){var a=o[s];a.f&Bt?Yl(a,e,!1):e===a&&(r?Zt(a,rr):a.f&pt&&Zt(a,Fr),Rn(a))}}function Ul(t){var g;var e=wt,r=Tt,o=lr,s=Be,a=hr,c=Jt,d=Re,u=Qt,f=t.f;wt=null,Tt=0,lr=null,Be=f&(tr|$r)?null:t,hr=(f&Lt)!==0&&(!zr||s===null||u),Jt=null,En(t.ctx),Qt=!1,In++;try{var v=(0,t.fn)(),m=t.deps;if(wt!==null){var h;if(Ln(t,Tt),m!==null&&Tt>0)for(m.length=Tt+wt.length,h=0;h<wt.length;h++)m[Tt+h]=wt[h];else t.deps=m=wt;if(!hr)for(h=Tt;h<m.length;h++)((g=m[h]).reactions??(g.reactions=[])).push(t)}else m!==null&&Tt<m.length&&(Ln(t,Tt),m.length=Tt);if(xr()&&lr!==null&&!Qt&&m!==null&&!(t.f&(Bt|Fr|rr)))for(h=0;h<lr.length;h++)Yl(lr[h],t);return s!==null&&In++,v}finally{wt=e,Tt=r,lr=o,Be=s,hr=a,Jt=c,En(d),Qt=u}}function Vi(t,e){let r=e.reactions;if(r!==null){var o=Wa.call(r,t);if(o!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[o]=r[s],r.pop())}}r===null&&e.f&Bt&&(wt===null||!wt.includes(e))&&(Zt(e,Fr),e.f&(Lt|xn)||(e.f^=xn),Nl(e),Ln(e,0))}function Ln(t,e){var r=t.deps;if(r!==null)for(var o=e;o<r.length;o++)Vi(t,r[o])}function wo(t){var e=t.f;if(!(e&kn)){Zt(t,pt);var r=Fe,o=Re;Fe=t;try{e&_n?Pi(t):Ll(t),Pl(t);var s=Ul(t);t.teardown=typeof s=="function"?s:null,t.wv=zl;var a=t.deps,c;tt&&ui&&t.f&rr}catch(d){Pn(d,t,r,o||t.ctx)}finally{Fe=r}}}function Wl(){if(Dr>1e3){Dr=0;try{oi()}catch(t){if(nn!==null)Pn(t,nn,null);else throw t}}Dr++}function Hl(t){var e=t.length;if(e!==0){Wl();var r=zr;zr=!0;try{for(var o=0;o<e;o++){var s=t[o];s.f&pt||(s.f^=pt);var a=Di(s);Bi(a)}}finally{zr=r}}}function Bi(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var o=t[r];if(!(o.f&(kn|nr)))try{on(o)&&(wo(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null?Rl(o):o.fn=null))}catch(s){Pn(s,o,null,o.ctx)}}}function zi(){if(rn=!1,Dr>1001)return;const t=Er;Er=[],Hl(t),rn||(Dr=0,nn=null)}function Rn(t){Tn===Ol&&(rn||(rn=!0,queueMicrotask(zi))),nn=t;for(var e=t;e.parent!==null;){e=e.parent;var r=e.f;if(r&($r|tr)){if(!(r&pt))return;e.f^=pt}}Er.push(e)}function Di(t){var e=[],r=t.first;e:for(;r!==null;){var o=r.f,s=(o&tr)!==0,a=s&&(o&pt)!==0,c=r.next;if(!a&&!(o&nr)){if(o&hl)e.push(r);else if(s)r.f^=pt;else{var d=Be;try{Be=r,on(r)&&wo(r)}catch(v){Pn(v,r,null,r.ctx)}finally{Be=d}}var u=r.first;if(u!==null){r=u;continue}}if(c===null){let v=r.parent;for(;v!==null;){if(t===v)break e;var f=v.next;if(f!==null){r=f;continue e}v=v.parent}}r=c}return e}function Gl(t){var e=Tn,r=Er;try{Wl();const s=[];Tn=Ri,Er=s,rn=!1,Hl(r);var o=t==null?void 0:t();return Li(),(Er.length>0||s.length>0)&&Gl(),Dr=0,nn=null,o}finally{Tn=e,Er=r}}function l(t){var e=t.f,r=(e&Bt)!==0;if(Be!==null&&!Qt){Jt!==null&&Jt.includes(t)&&ii();var o=Be.deps;t.rv<In&&(t.rv=In,wt===null&&o!==null&&o[Tt]===t?Tt++:wt===null?wt=[t]:(!hr||!wt.includes(t))&&wt.push(t))}else if(r&&t.deps===null&&t.effects===null){var s=t,a=s.parent;a!==null&&!(a.f&Lt)&&(s.f^=Lt)}return r&&(s=t,on(s)&&Tl(s)),t.v}function sr(t){var e=Qt;try{return Qt=!0,t()}finally{Qt=e}}const Yi=-7169;function Zt(t,e){t.f=t.f&Yi|e}function Ui(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(dr in t)_o(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&dr in r&&_o(r)}}}function _o(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let o in t)try{_o(t[o],e)}catch{}const r=so(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const o=vl(r);for(let s in o){const a=o[s].get;if(a)try{a.call(t)}catch{}}}}}const Wi=["touchstart","touchmove"];function Hi(t){return Wi.includes(t)}let Kl=!1;function Gi(){Kl||(Kl=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function yo(t){var e=Be,r=Fe;jt(null),Ft(null);try{return t()}finally{jt(e),Ft(r)}}function Ki(t,e,r,o=r){t.addEventListener(e,()=>yo(r));const s=t.__on_r;s?t.__on_r=()=>{s(),o(!0)}:t.__on_r=()=>o(!0),Gi()}const Xl=new Set,xo=new Set;function Xi(t,e,r,o={}){function s(a){if(o.capture||ln.call(e,a),!a.cancelBubble)return yo(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?tn(()=>{e.addEventListener(t,s,o)}):e.addEventListener(t,s,o),s}function mr(t,e,r,o,s){var a={capture:o,passive:s},c=Xi(t,e,r,a);(e===document.body||e===window||e===document)&&Ni(()=>{e.removeEventListener(t,c,a)})}function Ze(t){for(var e=0;e<t.length;e++)Xl.add(t[e]);for(var r of xo)r(t)}function ln(t){var k;var e=this,r=e.ownerDocument,o=t.type,s=((k=t.composedPath)==null?void 0:k.call(t))||[],a=s[0]||t.target,c=0,d=t.__root;if(d){var u=s.indexOf(d);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var f=s.indexOf(e);if(f===-1)return;u<=f&&(c=u)}if(a=s[c]||t.target,a!==e){Ha(t,"currentTarget",{configurable:!0,get(){return a||r}});var v=Be,m=Fe;jt(null),Ft(null);try{for(var h,g=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+o];if(w!==void 0&&!a.disabled)if(Rr(w)){var[b,..._]=w;b.apply(a,[t,..._])}else w.call(a,t)}catch(C){h?g.push(C):h=C}if(t.cancelBubble||p===e||p===null)break;a=p}if(h){for(let C of g)queueMicrotask(()=>{throw C});throw h}}finally{t.__root=e,delete t.currentTarget,jt(v),Ft(m)}}}function ko(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Yr(t,e){var r=Fe;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Z(t,e){var r=(e&yl)!==0,o=(e&_i)!==0,s,a=!t.startsWith("<!>");return()=>{s===void 0&&(s=ko(a?t:"<!>"+t),r||(s=Nt(s)));var c=o||Al?document.importNode(s,!0):s.cloneNode(!0);if(r){var d=Nt(c),u=c.lastChild;Yr(d,u)}else Yr(c,c);return c}}function de(t,e,r="svg"){var o=!t.startsWith("<!>"),s=(e&yl)!==0,a=`<${r}>${o?t:"<!>"+t}</${r}>`,c;return()=>{if(!c){var d=ko(a),u=Nt(d);if(s)for(c=document.createDocumentFragment();Nt(u);)c.appendChild(Nt(u));else c=Nt(u)}var f=c.cloneNode(!0);if(s){var v=Nt(f),m=f.lastChild;Yr(v,m)}else Yr(f,f);return f}}function ge(){var t=document.createDocumentFragment(),e=document.createComment(""),r=ho();return t.append(e,r),Yr(e,r),t}function T(t,e){t!==null&&t.before(e)}let Eo=!0;function ke(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Qi(t,e){return Ji(t,e)}const Ur=new Map;function Ji(t,{target:e,anchor:r,props:o={},events:s,context:a,intro:c=!0}){Ei();var d=new Set,u=m=>{for(var h=0;h<m.length;h++){var g=m[h];if(!d.has(g)){d.add(g);var p=Hi(g);e.addEventListener(g,ln,{passive:p});var w=Ur.get(g);w===void 0?(document.addEventListener(g,ln,{passive:p}),Ur.set(g,1)):Ur.set(g,w+1)}}};u(lo(Xl)),xo.add(u);var f=void 0,v=Ii(()=>{var m=r??e.appendChild(ho());return Rt(()=>{if(a){pe({});var h=Re;h.c=a}s&&(o.$$events=s),Eo=c,f=t(m,o)||{},Eo=!0,a&&be()}),()=>{var p;for(var h of d){e.removeEventListener(h,ln);var g=Ur.get(h);--g===0?(document.removeEventListener(h,ln),Ur.delete(h)):Ur.set(h,g)}xo.delete(u),m!==r&&((p=m.parentNode)==null||p.removeChild(m))}});return Zi.set(f,v),f}let Zi=new WeakMap;const Ao=0,jn=1,Co=2;function Ql(t,e,r,o,s){var a=t,c=xr(),d=Re,u=ut,f,v,m,h=(c?bt:An)(void 0),g=(c?bt:An)(void 0),p=!1;function w(_,k){p=!0,k&&(Ft(b),jt(b),En(d));try{_===Ao&&r&&(f?kr(f):f=Rt(()=>r(a))),_===jn&&o&&(v?kr(v):v=Rt(()=>o(a,h))),_===Co&&s&&(m?kr(m):m=Rt(()=>s(a,g))),_!==Ao&&f&&or(f,()=>f=null),_!==jn&&v&&or(v,()=>v=null),_!==Co&&m&&or(m,()=>m=null)}finally{k&&(En(null),jt(null),Ft(null),Gl())}}var b=vr(()=>{if(u!==(u=e())){if(Xa(u)){var _=u;p=!1,_.then(k=>{_===u&&(Vr(h,k),w(jn,!0))},k=>{if(_===u&&(Vr(g,k),w(Co,!0),!s))throw g.v}),tn(()=>{p||w(Ao,!0)})}else Vr(h,u),w(jn,!1);return()=>u=ut}})}function W(t,e,r=!1){var o=t,s=null,a=null,c=ut,d=r?qr:0,u=!1;const f=(m,h=!0)=>{u=!0,v(h,m)},v=(m,h)=>{c!==(c=m)&&(c?(s?kr(s):h&&(s=Rt(()=>h(o))),a&&or(a,()=>{a=null})):(a?kr(a):h&&(a=Rt(()=>h(o))),s&&or(s,()=>{s=null})))};vr(()=>{u=!1,e(f),u||v(null,null)},d)}function Fn(t,e,r){var o=t,s=ut,a,c=xr()?ei:wl;vr(()=>{c(s,s=e())&&(a&&or(a),a=Rt(()=>r(o)))})}function Xe(t,e){return e}function $i(t,e,r,o){for(var s=[],a=e.length,c=0;c<a;c++)go(e[c].e,s,!0);var d=a>0&&s.length===0&&r!==null;if(d){var u=r.parentNode;Ai(u),u.append(r),o.clear(),gr(t,e[0].prev,e[a-1].next)}jl(s,()=>{for(var f=0;f<a;f++){var v=e[f];d||(o.delete(v.k),gr(t,v.prev,v.next)),Xt(v.e,!d)}})}function Ye(t,e,r,o,s,a=null){var c=t,d={flags:e,items:new Map,first:null},u=(e&_l)!==0;if(u){var f=t;c=f.appendChild(ho())}var v=null,m=!1,h=Sl(()=>{var g=r();return Rr(g)?g:g==null?[]:lo(g)});vr(()=>{var g=l(h),p=g.length;m&&p===0||(m=p===0,ec(g,d,c,s,e,o,r),a!==null&&(p===0?v?kr(v):v=Rt(()=>a(c)):v!==null&&or(v,()=>{v=null})),l(h))})}function ec(t,e,r,o,s,a,c){var U,$,F,G;var d=(s&di)!==0,u=(s&(co|uo))!==0,f=t.length,v=e.items,m=e.first,h=m,g,p=null,w,b=[],_=[],k,C,y,A;if(d)for(A=0;A<f;A+=1)k=t[A],C=a(k,A),y=v.get(C),y!==void 0&&((U=y.a)==null||U.measure(),(w??(w=new Set)).add(y));for(A=0;A<f;A+=1){if(k=t[A],C=a(k,A),y=v.get(C),y===void 0){var I=h?h.e.nodes_start:r;p=rc(I,e,p,p===null?e.first:p.next,k,C,A,o,s,c),v.set(C,p),b=[],_=[],h=p.next;continue}if(u&&tc(y,k,A,s),y.e.f&nr&&(kr(y.e),d&&(($=y.a)==null||$.unfix(),(w??(w=new Set)).delete(y))),y!==h){if(g!==void 0&&g.has(y)){if(b.length<_.length){var M=_[0],S;p=M.prev;var P=b[0],z=b[b.length-1];for(S=0;S<b.length;S+=1)Jl(b[S],M,r);for(S=0;S<_.length;S+=1)g.delete(_[S]);gr(e,P.prev,z.next),gr(e,p,P),gr(e,z,M),h=M,p=z,A-=1,b=[],_=[]}else g.delete(y),Jl(y,h,r),gr(e,y.prev,y.next),gr(e,y,p===null?e.first:p.next),gr(e,p,y),p=y;continue}for(b=[],_=[];h!==null&&h.k!==C;)h.e.f&nr||(g??(g=new Set)).add(h),_.push(h),h=h.next;if(h===null)continue;y=h}b.push(y),p=y,h=y.next}if(h!==null||g!==void 0){for(var j=g===void 0?[]:lo(g);h!==null;)h.e.f&nr||j.push(h),h=h.next;var R=j.length;if(R>0){var D=s&_l&&f===0?r:null;if(d){for(A=0;A<R;A+=1)(F=j[A].a)==null||F.measure();for(A=0;A<R;A+=1)(G=j[A].a)==null||G.fix()}$i(e,j,D,v)}}d&&tn(()=>{var K;if(w!==void 0)for(y of w)(K=y.a)==null||K.apply()}),Fe.first=e.first&&e.first.e,Fe.last=p&&p.e}function tc(t,e,r,o){o&co&&Vr(t.v,e),o&uo?Vr(t.i,r):t.i=r}function rc(t,e,r,o,s,a,c,d,u,f){var v=(u&co)!==0,m=(u&vi)===0,h=v?m?An(s):bt(s):s,g=u&uo?bt(c):c,p={i:g,v:h,k:a,a:null,e:null,prev:r,next:o};try{return p.e=Rt(()=>d(t,h,g,f),vo),p.e.prev=r&&r.e,p.e.next=o&&o.e,r===null?e.first=p:(r.next=p,r.e.next=p.e),o!==null&&(o.prev=p,o.e.prev=p.e),p}finally{}}function Jl(t,e,r){for(var o=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==o;){var c=Mn(a);s.before(a),a=c}}function gr(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ht(t,e,r,o,s){var a=t,c="",d;vr(()=>{c!==(c=e()??"")&&(d!==void 0&&(Xt(d),d=void 0),c!==""&&(d=Rt(()=>{var u=c+"";r&&(u=`<svg>${u}</svg>`);var f=ko(u);if((r||o)&&(f=Nt(f)),Yr(Nt(f),f.lastChild),r||o)for(;Nt(f);)a.before(Nt(f));else a.before(f)})))})}function Ar(t,e,...r){var o=t,s=it,a;vr(()=>{s!==(s=e())&&(a&&(Xt(a),a=null),a=Rt(()=>s(o,...r)))},qr)}function Mo(t,e,r){var o=t,s,a;vr(()=>{s!==(s=e())&&(a&&(or(a),a=null),s&&(a=Rt(()=>r(o,s))))},qr)}function Zl(t){var e,r,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Zl(t[e]))&&(o&&(o+=" "),o+=r)}else for(r in t)t[r]&&(o&&(o+=" "),o+=r);return o}function nc(){for(var t,e,r=0,o="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Zl(t))&&(o&&(o+=" "),o+=e);return o}function oc(t){return typeof t=="object"?nc(t):t??""}function N(t,e,r,o){var s=t.__attributes??(t.__attributes={});s[e]!==(s[e]=r)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[$a]=r),r==null?t.removeAttribute(e):typeof r!="string"&&lc(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var $l=new Map;function lc(t){var e=$l.get(t.nodeName);if(e)return e;$l.set(t.nodeName,e=[]);for(var r,o=t,s=Element.prototype;s!==o;){r=vl(o);for(var a in r)r[a].set&&e.push(a);o=so(o)}return e}function So(t,e,r){var o=t.__className,s=es(e);(o!==s||vo)&&(s===""?t.removeAttribute("class"):t.setAttribute("class",s),t.__className=s)}function Wr(t,e,r){var o=t.__className,s=es(e);(o!==s||vo)&&(e==null?t.removeAttribute("class"):t.className=s,t.__className=s)}function es(t,e){return(t??"")+""}function xt(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}const sc=()=>performance.now(),ar={tick:t=>requestAnimationFrame(t),now:()=>sc(),tasks:new Set};function ts(){const t=ar.now();ar.tasks.forEach(e=>{e.c(t)||(ar.tasks.delete(e),e.f())}),ar.tasks.size!==0&&ar.tick(ts)}function ac(t){let e;return ar.tasks.size===0&&ar.tick(ts),{promise:new Promise(r=>{ar.tasks.add(e={c:t,f:r})}),abort(){ar.tasks.delete(e)}}}function qn(t,e){yo(()=>{t.dispatchEvent(new CustomEvent(e))})}function ic(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function rs(t){const e={},r=t.split(";");for(const o of r){const[s,a]=o.split(":");if(!s||a===void 0)break;const c=ic(s.trim());e[c]=a.trim()}return e}const cc=t=>t;function uc(t,e,r,o){var s=(t&wi)!==0,a="both",c,d=e.inert,u=e.style.overflow,f,v;function m(){var b=Be,_=Fe;jt(null),Ft(null);try{return c??(c=r()(e,(o==null?void 0:o())??{},{direction:a}))}finally{jt(b),Ft(_)}}var h={is_global:s,in(){e.inert=d,qn(e,"introstart"),f=No(e,m(),v,1,()=>{qn(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=u})},out(b){e.inert=!0,qn(e,"outrostart"),v=No(e,m(),f,0,()=>{qn(e,"outroend"),b==null||b()})},stop:()=>{f==null||f.abort(),v==null||v.abort()}},g=Fe;if((g.transitions??(g.transitions=[])).push(h),Eo){var p=s;if(!p){for(var w=g.parent;w&&w.f&qr;)for(;(w=w.parent)&&!(w.f&_n););p=!w||(w.f&ml)!==0}p&&en(()=>{sr(()=>h.in())})}}function No(t,e,r,o,s){var a=o===1;if(jr(e)){var c,d=!1;return tn(()=>{if(!d){var b=e({direction:a?"in":"out"});c=No(t,b,r,o,s)}}),{abort:()=>{d=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:it,deactivate:it,reset:it,t:()=>o};const{delay:u=0,css:f,tick:v,easing:m=cc}=e;var h=[];if(a&&r===void 0&&(v&&v(0,1),f)){var g=rs(f(0,1));h.push(g,g)}var p=()=>1-o,w=t.animate(h,{duration:u});return w.onfinish=()=>{var b=(r==null?void 0:r.t())??1-o;r==null||r.abort();var _=o-b,k=e.duration*Math.abs(_),C=[];if(k>0){var y=!1;if(f)for(var A=Math.ceil(k/16.666666666666668),I=0;I<=A;I+=1){var M=b+_*m(I/A),S=rs(f(M,1-M));C.push(S),y||(y=S.overflow==="hidden")}y&&(t.style.overflow="hidden"),p=()=>{var P=w.currentTime;return b+_*m(P/k)},v&&ac(()=>{if(w.playState!=="running")return!1;var P=p();return v(P,1-P),!0})}w=t.animate(C,{duration:k,fill:"forwards"}),w.onfinish=()=>{p=()=>o,v==null||v(o,1-o),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=it)},deactivate:()=>{s=it},reset:()=>{o===0&&(v==null||v(1,0))},t:()=>p()}}function To(t,e,r=e){var o=xr();Ki(t,"input",s=>{var a=s?t.defaultValue:t.value;if(a=Io(t)?Po(a):a,r(a),o&&a!==(a=e())){var c=t.selectionStart,d=t.selectionEnd;t.value=a??"",d!==null&&(t.selectionStart=c,t.selectionEnd=Math.min(d,t.value.length))}}),sr(e)==null&&t.value&&r(Io(t)?Po(t.value):t.value),mo(()=>{var s=e();Io(t)&&s===Po(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function Io(t){var e=t.type;return e==="number"||e==="range"}function Po(t){return t===""?null:+t}const Jn=class Jn{constructor(e){bn(this,Qn);bn(this,yr,new WeakMap);bn(this,Zr);bn(this,hn);dl(this,hn,e)}observe(e,r){var o=ur(this,yr).get(e)||new Set;return o.add(r),ur(this,yr).set(e,o),Ya(this,Qn,Ua).call(this).observe(e,ur(this,hn)),()=>{var s=ur(this,yr).get(e);s.delete(r),s.size===0&&(ur(this,yr).delete(e),ur(this,Zr).unobserve(e))}}};yr=new WeakMap,Zr=new WeakMap,hn=new WeakMap,Qn=new WeakSet,Ua=function(){return ur(this,Zr)??dl(this,Zr,new ResizeObserver(e=>{for(var r of e){Jn.entries.set(r.target,r);for(var o of ur(this,yr).get(r.target)||[])o(r)}}))},Lr(Jn,"entries",new WeakMap);let Lo=Jn;var fc=new Lo({box:"border-box"});function ns(t,e,r){var o=fc.observe(t,()=>r(t[e]));en(()=>(sr(()=>r(t[e])),o))}function os(t,e){return t===e||(t==null?void 0:t[dr])===e}function Hr(t={},e,r,o){return en(()=>{var s,a;return mo(()=>{s=a,a=[],sr(()=>{t!==r(...a)&&(e(t,...a),s&&os(r(...s),t)&&e(null,...s))})}),()=>{tn(()=>{a&&os(r(...a),t)&&e(null,...a)})}}),t}function dc(t=!1){const e=Re,r=e.l.u;if(!r)return;let o=()=>Ui(e.s);if(t){let s=0,a={};const c=E(()=>{let d=!1;const u=e.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],d=!0);return d&&s++,s});o=()=>l(c)}r.b.length&&Ti(()=>{ls(e,o),ao(r.b)}),De(()=>{const s=sr(()=>r.m.map(Qa));return()=>{for(const a of s)typeof a=="function"&&a()}}),r.a.length&&De(()=>{ls(e,o),ao(r.a)})}function ls(t,e){if(t.l.s)for(const r of t.l.s)l(r);e()}let On=!1;function vc(t){var e=On;try{return On=!1,[t(),On]}finally{On=e}}const hc={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function mc(t,e,r){return new Proxy({props:t,exclude:e},hc)}const gc={get(t,e){let r=t.props.length;for(;r--;){let o=t.props[r];if(jr(o)&&(o=o()),typeof o=="object"&&o!==null&&e in o)return o[e]}},set(t,e,r){let o=t.props.length;for(;o--;){let s=t.props[o];jr(s)&&(s=s());const a=fr(s,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let o=t.props[r];if(jr(o)&&(o=o()),typeof o=="object"&&o!==null&&e in o){const s=fr(o,e);return s&&!s.configurable&&(s.configurable=!0),s}}},has(t,e){if(e===dr||e===pl)return!1;for(let r of t.props)if(jr(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props){jr(r)&&(r=r());for(const o in r)e.includes(o)||e.push(o)}return e}};function Gr(...t){return new Proxy({props:t},gc)}function q(t,e,r,o){var I;var s=(r&hi)!==0,a=!Or||(r&mi)!==0,c=(r&pi)!==0,d=(r&bi)!==0,u=!1,f;c?[f,u]=vc(()=>t[e]):f=t[e];var v=dr in t||pl in t,m=c&&(((I=fr(t,e))==null?void 0:I.set)??(v&&e in t&&(M=>t[e]=M)))||void 0,h=o,g=!0,p=!1,w=()=>(p=!0,g&&(g=!1,d?h=sr(o):h=o),h);f===void 0&&o!==void 0&&(m&&a&&li(),f=w(),m&&m(f));var b;if(a)b=()=>{var M=t[e];return M===void 0?w():(g=!0,p=!1,M)};else{var _=(s?E:Sl)(()=>t[e]);_.f|=Ja,b=()=>{var M=l(_);return M!==void 0&&(h=void 0),M===void 0?h:M}}if(!(r&gi))return b;if(m){var k=t.$$legacy;return function(M,S){return arguments.length>0?((!a||!S||k||u)&&m(S?b():M),M):b()}}var C=!1,y=An(f),A=E(()=>{var M=b(),S=l(y);return C?(C=!1,S):y.v=M});return s||(A.equals=io),function(M,S){if(arguments.length>0){const P=S?l(A):a&&c?te(M):M;return A.equals(P)||(C=!0,B(y,P),p&&h!==void 0&&(h=P),sr(()=>l(A))),M}return l(A)}}function ss(t){Re===null&&fo(),Or&&Re.l!==null?bc(Re).m.push(t):De(()=>{const e=sr(t);if(typeof e=="function")return e})}function pc(t){Re===null&&fo(),ss(()=>()=>sr(t))}function bc(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const wc="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wc),fi();function as(t){if(Ne(t))return as(t.v);const e=new Ce.valuesConstructor(t.length-1);for(let r=0;r<t.length-1;r++)e[r]=t[r+1]-t[r];return new Ce(e)}function Vn(t){if(Ne(t))return Vn(t.v);let e=t[0],r=t[0];for(let o=1;o<t.length;o++)t[o]<e&&(e=t[o]),t[o]>r&&(r=t[o]);return[e,r]}function Ro(t,e){return Ne(t)?Ro(t.v,e):Math.sqrt(is(t,e))}function is(t,e){if(e===void 0&&(e=!1),Ne(t))return is(t.v);const r=Bn(t);let o=0;for(let s=0;s<t.length;s++){const a=t[s]-r;o=o+a*a}return o/(e?t.length:t.length-1)}function Bn(t){return Ne(t)?Bn(t.v):cs(t)/t.length}function cs(t){if(Ne(t))return cs(t.v);let e=0;for(let r=0;r<t.length;r++)e=e+t[r];return e}function us(t){if(Ne(t))return us(t.v);let e=1;for(let r=0;r<t.length;r++)e=e*t[r];return e}function Kr(t){return Ne(t)||Yt(t)?t.v[jo(t.v)-1]:t[jo(t)-1]}function jo(t){if(Ne(t)||Yt(t))return jo(t.v);let e=1,r=t[0];for(let o=2;o<=t.length;o++)t[o-1]<r&&(e=o,r=t[o-1]);return e}function Cr(t){return Ne(t)||Yt(t)?t.v[Fo(t.v)-1]:t[Fo(t)-1]}function Fo(t){if(Ne(t)||Yt(t))return Fo(t.v);let e=1,r=t[0];for(let o=2;o<=t.length;o++)t[o-1]>r&&(e=o,r=t[o-1]);return e}const qo=30,_c=1e-7,yc=1e-7,fs=1e-13,ds=1e3,xc=100;function vs(t,e,r,o,s){o===void 0&&(o=ds),r===void 0&&(r=fs),s===void 0&&(s=xc);let a=r,c=o,d=(c-a)/s;for(let u=0;u<s;u++){let f,v;for(let g=0;g<s;g++){f=a+g*d,v=a+(g+1)*d;const p=e(f),w=e(v);if(p<=t&&w>=t)break}const m=(f+v)/2,h=e(m);if(Math.abs(h-t)<_c||(a=f,c=v,d=(c-a)/s,d/c<yc))return m}return(a+c)/2}function hs(t,e=0,r=1){let o=Ce.zeros(t);for(let s=0;s<t;s++)o.v[s]=e+Math.random()*(r-e);return o}function ms(t,e=0,r=1){let o=Ce.zeros(t);for(let s=0;s<t;s++){const a=Math.sqrt(-2*Math.log(Math.random())),c=2*Math.PI*Math.random();o.v[s]=a*Math.sin(c)*r+e}return o}function gs(t,e=0,r=1){if(Ne(t))return t.apply(s=>gs(s,e,r));const o=1/(Math.sqrt(2)*r);return .5*(1+Ec((t-e)*o))}function Oo(t,e=0,r=1){if(Ne(t))return t.apply(D=>Oo(D,e,r));if(e!==0||r!==1)return Oo(t)*r+e;if(t<0||t>1)throw Error('Parameter "p" must be between 0 and 1.');if(t<1e-10)return-1/0;if(t>.9999999999)return 1/0;const o=.425,s=5,a=.180625,c=1.6,d=3.3871327179,u=5.0434271938*10,f=1.5929113202*100,v=5.910937472*10,m=1.7895169469*10,h=7.8757757664*10,g=6.71875636*10,p=1.4234372777,w=2.75681539,b=1.3067284816,_=1.7023821103*.1,k=7.370016425*.1,C=1.2021132975*.1,y=6.657905115,A=3.081226386,I=4.2868294337*.1,M=1.7337203997*.01,S=2.4197894225*.1,P=1.2258202635*.01,z=t-.5;let j;if(Math.abs(z)<=o)return j=a-z*z,z*(((v*j+f)*j+u)*j+d)/(((g*j+h)*j+m)*j+1);j=z<0?t:1-t,j=Math.sqrt(-Math.log(j));let R;return j<=s?(j=j-c,R=(((_*j+b)*j+w)*j+p)/((C*j+k)*j+1)):(j=j-s,R=((M*j+I)*j+A+y)/((P*j+S)*j+1)),z<0?-R:R}function Vo(t,e,r){if(r<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(t))return Vo(Ue(t),e,r);if(Ne(t))return t.apply(o=>Vo(o,e,r));if(t<=0)return 0;if(r<=0&&ML_ERR_return_NAN,r==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(t<1)return 0;if(t==1)return .5;if(t>1)return 1}return zn(t*e,e)}return e==Number.POSITIVE_INFINITY?1-zn(r/t,r):e*t>r?1-Yn(r/(r+e*t),r/2,e/2):Yn(e*t/(r+e*t),e/2,r/2)}function ps(t,e,r){if(t===0)return 0;if(t===1)return Inf;if(r<=0)return NaN;let o=ds,s=fs;if(t>.9997&&r===1?(o=1e7,s=6e5,t=.9997):t>.9992&&r===1?(o=1e7,s=6e5):t>.997&&r===1?(o=1e6,s=45e3):t>.992&&r===1?(o=1e5,s=5e3):t>.97&&r===1&&(o=1e4,s=400),Array.isArray(t))return ps(Ue(t),e,r);const a=d=>Vo(d,e,r);function c(d,u,f){return d===0?0:d===1?Inf:u===0?NaN:f===0?NaN:vs(d,a,s,o)}return Ne(t)?t.apply(c,e,r):c(t,e,r)}function zn(t,e){if(Array.isArray(t))return zn(Ue(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),o=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(o);function a(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const f=u/e,v=Math.pow(f,1/6)-.5*Math.pow(f,1/3)+1/3*Math.pow(f,1/2);return gs(v,r,s)}function c(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:kc(u/2,e/2)/sn(e/2)}const d=e>qo?a:c;return Ne(t)?t.apply(d):d(t)}function Dn(t,e){if(Array.isArray(t))return Dn(Ue(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),o=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),s=Math.sqrt(o);function a(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const f=Oo(u,r,s),v=Math.pow(Math.sqrt(36*f*f-30*f+13)/4+(3*f-3/2)/2+1/8,1/3);return Math.pow(v-3/(4*v)+.5,6)*e}function c(u){return u===0?0:u===1?Inf:e===0?0:vs(u,v=>zn(v,e),0,qo*10)}const d=e>qo?a:c;return Ne(t)?t.apply(d):d(t)}function Yn(t,e,r){if(Array.isArray(t))return Yn(Ue(t),e,r);if(Ne(t))return t.apply(s=>Yn(s,e,r));if(t<=0)return 0;if(t>=1)return 1;if(e==0||r==0||!Number.isFinite(e)||!Number.isFinite(r))return e==0&&r==0?.5:e==0||e/r==0?1:r==0||r/e==0||t<.5?0:1;const o=.5-t+.5;return Fc(e,r,t,o)}function sn(t){if(Ne(t))return t.apply(sn);if(t<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.PI/(Math.sin(Math.PI*t)+sn(1-t));t=t-1;let r=.9999999999998099;for(let s=0;s<e.length;s++)r=r+e[s]/(t+s+1);const o=t+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*r}function kc(t,e){let s=0;for(let a=0;a<1e4;a++){const c=Math.pow(t,a)/sn(e+a+1);if(isNaN(c)||c<1e-18)break;s+=c}return Math.pow(t,e)*sn(e)*Math.exp(-t)*s}function Ec(t){const e=t>=0?1:-1;t=Math.abs(t);const r=.254829592,o=-.284496736,s=1.421413741,a=-1.453152027,c=1.061405429,u=1/(1+.3275911*t),f=1-((((c*u+a)*u+s)*u+o)*u+r)*u*Math.exp(-t*t);return e*f}function bs(t,e){const r=.564189583547756,o=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],a=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],c=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],d=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let f,v,m,h,g=Math.abs(e);if(g<=.5)return v=e*e,h=(((o[0]*v+o[1])*v+o[2])*v+o[3])*v+o[4]+1,m=((s[0]*v+s[1])*v+s[2])*v+1,f=.5-e*(h/m)+.5,f=Math.exp(v)*f,f;if(g<=4)h=((((((a[0]*g+a[1])*g+a[2])*g+a[3])*g+a[4])*g+a[5])*g+a[6])*g+a[7],m=((((((c[0]*g+c[1])*g+c[2])*g+c[3])*g+c[4])*g+c[5])*g+c[6])*g+c[7],f=h/m;else{if(e<=-5.6)return f=2,f=Math.exp(e*e)*2,f;v=1/(e*e),h=(((d[0]*v+d[1])*v+d[2])*v+d[3])*v+d[4],m=(((u[0]*v+u[1])*v+u[2])*v+u[3])*v+1,f=(r-v*h/m)/g}return e<0&&(f=Math.exp(e*e)*2-f),f}function ws(t,e){let r=t+e-2;return r<=.25?qt(r+1):r<=1.25?qt(r)+br(r):qt(r-1)+Math.log(r*(r+1))}function Un(t,e){const r=.0833333333333333,o=-.00277777777760991,s=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,d=-.00165322962780713;let u,f,v,m,h,g,p,w,b,_,k,C,y,A,I;return v=Math.min(t,e),m=Math.max(t,e),g=v/m,h=g/(g+1),b=1/(g+1),C=b*b,_=b+C+1,k=b+C*_+1,y=b+C*k+1,A=b+C*y+1,I=b+C*A+1,f=1/m,p=f*f,w=((((d*I*p+c*A)*p+a*y)*p+s*k)*p+o*_)*p+r,w*=h/m,f=1/v,p=f*f,u=(((((d*p+c)*p+a)*p+s)*p+o)*p+r)/v+w,u}function Je(t){let e,r,o,s,a;if(r=t,e=t-.5,e>0&&(r=e-.5),r<0){const c=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],d=.273076135303957,u=.0559398236957378;return a=(((((((c[8]*r+c[7])*r+c[6])*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],s=(u*r+d)*r+1,o=a/s,e>0?r*o/t:t*(o+.5+.5)}else{if(r==0)return 0;{const c=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],d=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return a=(((((c[6]*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],s=(((d[4]*r+d[3])*r+d[2])*r+d[1])*r+1,o=a/s,e>0?r/t*(o-.5-.5):t*o}}}function Ac(t,e,r){let o,s,a,c;if(t<-1.1||t>1.1)return Number.NaN;c=t*2,a=s=0,o=0;for(let d=1;d<=r;d++)a=s,s=o,o=c*s-a+e[r-d];return(o-a)*.5}function _s(t){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],r=22,o=-.999999985;if(t==0)return 0;if(t==-1)return Number.NEGATIVE_INFINITY;if(t<-1)return Number.NaN;if(Math.abs(t)<=.375)return Math.abs(t)<.5*Number.EPSILON?t:0<t&&t<1e-8||-1e-9<t&&t<0?t*(1-.5*t):t*(1-t*Ac(t/.375,e,r));if(t<o)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+t)}function pr(t,e){const r=.0833333333333333,o=-.00277777777760991,s=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,d=-.00165322962780713;let u,f,v,m,h,g,p,w,b,_,k,C,y,A;return t>e?(v=e/t,u=1/(v+1),w=v/(v+1),f=t+(e-.5)):(v=t/e,u=v/(v+1),w=1/(v+1),f=e+(t-.5)),k=w*w,b=w+k+1,_=w+k*b+1,C=w+k*_+1,y=w+k*C+1,A=w+k*y+1,m=1/(e*e),p=((((d*A*m+c*y)*m+a*C)*m+s*_)*m+o*b)*m+r,p*=u/e,h=f*br(t/e),g=t*(Math.log(e)-1),h>g?p-g-h:p-h-g}function qt(t){if(t<.6){const p=((((((-.00271935708322958*t+-.0673562214325671)*t+-.402055799310489)*t+-.780427615533591)*t+-.168860593646662)*t+.844203922187225)*t+.577215664901533)/((((((.000667465618796164*t+.0325038868253937)*t+.361951990101499)*t+1.56875193295039)*t+3.12755088914843)*t+2.88743195473681)*t+1);return-t*p}else{const e=.422784335098467,r=.848044614534529,o=.565221050691933,s=.156513060486551,a=.017050248402265,c=.000497958207639485,d=1.24313399877507,u=.548042109832463,f=.10155218743983,v=.00713309612391,m=.000116165475989616,h=t-.5-.5,g=(((((c*h+a)*h+s)*h+o)*h+r)*h+e)/(((((m*h+v)*h+f)*h+u)*h+d)*h+1);return h*g}}function zt(t){const e=.418938533204673,r=.0833333333333333,o=-.00277777777760991,s=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,d=-.00165322962780713;if(t<=.8)return qt(t)-Math.log(t);if(t<=2.25)return qt(t-.5-.5);if(t<10){let v=Math.round(t-1.25),m=t,h=1;for(let g=1;g<=v;++g)m+=-1,h*=m;return qt(m-1)+Math.log(h)}let u=1/(t*t),f=(((((d*u+c)*u+a)*u+s)*u+o)*u+r)/t;return e+f+(t-.5)*(Math.log(t)-1)}function Bo(t,e){const r=.918938533204673;let o=Math.min(t,e),s=Math.max(t,e);function a(c,d,u){let f=Math.round(u-1),v=1;for(let m=1;m<=f;++m)u+=-1,v*=u/(d+u);return c+Math.log(v)+(zt(d)+(zt(u)-ws(d,u)))}if(o<8){if(o<1)return s<8?zt(o)+(zt(s)-zt(o+s)):zt(o)+pr(o,s);let c;if(o<2)return s<=2?zt(o)+zt(s)-ws(o,s):s<8?(c=0,a(c,o,s)):zt(o)+pr(o,s);if(s<=1e3){let d=Math.round(o-1);c=1;for(let u=1;u<=d;++u){o+=-1;let f=o/s;c*=f/(f+1)}return c=Math.log(c),s>=8?c+zt(o)+pr(o,s):a(c,o,s)}else{let d=Math.round(o-1);c=1;for(let u=1;u<=d;++u)o+=-1,c*=o/(o/s+1);return log(c)-d*log(s)+(zt(o)+pr(o,s))}}else{let c=Un(o,s),d=o/s,u=-(o-.5)*Math.log(d/(d+1)),f=s*br(d);return u>f?Math.log(s)*-.5+r+c-f-u:Math.log(s)*-.5+r+c-u-f}}function ys(t){return(t==0?1024:-300)*.69314718055995*.99999}function Xr(t){const e=.0566749439387324,r=.0456512608815524,o=.333333333333333,s=-.224696413112536,a=.00620886815375787,c=-1.27408923933623,d=.354508718369557;let u,f,v,m,h;return t<-.39||t>.57?(m=t+.5+.5,t-Math.log(m)):(t<-.18?(u=t+.3,u/=.7,h=e-u*.3):t>.18?(u=t*.75-.25,h=r+u/3):(u=t,h=0),f=u/(u+2),v=f*f,m=((a*v+s)*v+o)/((d*v+c)*v+1),v*2*(1/(1-f)-f*m)+h)}function br(t){if(Math.abs(t)>.375)return Math.log(1+t);const e=-1.29418923021993,r=.405303492862024,o=-.0178874546012214,s=-1.62752256355323,a=.747811014037616,c=-.0845104217945565;let d=t/(t+2),u=d*d,f=(((o*u+r)*u+e)*u+1)/(((c*u+a)*u+s)*u+1);return d*2*f}function Cc(t){const e=.564189583547756,r=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],o=[.00301048631703895,.0538971687740286,.375795757275549],s=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],a=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],c=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],d=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,f,v,m,h;if(v=Math.abs(t),v<=.5)return u=t*t,h=(((r[0]*u+r[1])*u+r[2])*u+r[3])*u+r[4]+1,m=((o[0]*u+o[1])*u+o[2])*u+1,t*(h/m);if(v<=4){h=((((((s[0]*v+s[1])*v+s[2])*v+s[3])*v+s[4])*v+s[5])*v+s[6])*v+s[7],m=((((((a[0]*v+a[1])*v+a[2])*v+a[3])*v+a[4])*v+a[5])*v+a[6])*v+a[7];let p=.5-Math.exp(-t*t)*h/m+.5;return t<0?-p:p}if(v>=5.8)return t>0?1:-1;f=t*t,u=1/f,h=(((c[0]*u+c[1])*u+c[2])*u+c[3])*u+c[4],m=(((d[0]*u+d[1])*u+d[2])*u+d[3])*u+1,u=(e-h/(f*m))/v;let g=.5-Math.exp(-f)*u+.5;return t<0?-g:g}function Mc(t){const e=914041914819518e-24,r=.0238082361044469,o=-.499999999085958,s=.107141568980644,a=-.0119041179760821,c=.000595130811860248;if(Math.abs(t)<=.15)return t*(((r*t+e)*t+1)/((((c*t+a)*t+s)*t+o)*t+1));{let d=Math.exp(t);return t>0?d*(.5-1/d+.5):d-.5-.5}}function an(t,e){let r;if(e>0){if(t>0||(r=t+e,r<0))return Math.exp(t)*Math.exp(e)}else if(t<0||(r=t+e,r>0))return Math.exp(t)*Math.exp(e);return Math.exp(r)}function Sc(t){const e=.785398163397448,r=1.4616321449683622,o=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],s=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],a=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],c=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let d,u,f,v,m,h,g,p,w,b,_,k,C;if(_=Number.MAX_SAFE_INTEGER,v=.5/(.5*Number.EPSILON),_>v&&(_=v),C=1e-9,p=0,t<.5){if(fabs(t)<=C){if(t==0)return 0;p=-1/t}else{if(m=-t,w=e,m<=0&&(m=-m,w=-w),m>=_)return 0;if(f=Math.round(m),m-=f,f=Math.round(m*4),m=(m-f*.25)*4,u=f/2,u+u!=f&&(m=1-m),h=e*m,d=u/2,d+d!=u&&(w=-w),u=(f+1)/2,d=u/2,d+=d,d==u){if(h==0)return 0;p=w*(cos(h)/sin(h)*4)}else p=w*(sin(h)/cos(h)*4)}t=1-t}if(t<=3){g=t,k=o[0]*t;for(let y=1;y<=5;++y)g=(g+s[y-1])*t,k=(k+o[y])*t;return g=(k+o[6])/(g+s[5]),b=t-r,g*b+p}if(t<_){m=1/(t*t),g=m,k=a[0]*m;for(let y=1;y<=3;++y)g=(g+c[y-1])*m,k=(k+a[y])*m;p=k/(g+c[3])-.5/t+p}return p+log(t)}function Nc(t,e,r,o){let s,a,c,d,u,f;if(t>o*.001){if(d=t*Math.log(r),d<Math.exparg(1))return 0;s=Math.exp(d)}else s=1;for(s*=e/t,f=o/t,u=t+1,d=r,c=d/u,u+=1,d=r*d,a=d/u,c+=a;Math.abs(r)>f;)u+=1,d=r*d,a=d/u,c+=a;return s*=t*c+1,s}function Tc(t,e,r,o){const s=.577215664901533;let a,c,d,u,f,v,m=e*r;for(f=r-m,c=e*o<=.02?Math.log(r)+Sc(e)+s+f:Math.log(m)+s+f,a=o*5*Math.abs(c),d=1,u=0,d+=1,f*=r-m/d,v=f/d,u+=v;Math.abs(v)>a;)d+=1,f*=r-m/d,v=f/d,u+=v;return-t*(c+u)}function zo(t,e,r,o){let s,a,c,d,u,f,v,m,h;if(r==0)return 0;if(v=Math.min(t,e),v>=1)f=t*Math.log(r)-Bo(t,e),a=Math.exp(f)/t;else if(m=Math.max(t,e),m<8)if(m<=1){if(a=Math.pow(r,t),a==0)return a;h=t+e,h>1?(u=t+e-1,f=(Je(u)+1)/h):f=Je(h)+1,c=(Je(t)+1)*(Je(e)+1)/f,a*=c*(e/h)}else{if(u=qt(v),s=Math.round(m-1),s>=1){c=1;for(let _=1;_<=s;++_)m+=-1,c*=m/(v+m);u+=Math.log(c)}f=t*Math.log(r)-u,m+=-1,h=v+m,h>1?(u=v+m-1,d=(Je(u)+1)/h):d=Je(h)+1,a=Math.exp(f)*(v/t)*(Je(m)+1)/d}else u=qt(v)+pr(v,m),f=t*Math.log(r)-u,a=v/t*Math.exp(f);if(a==0||t<=o*.1)return a;let g=o/t,p=0,w=0,b;for(c=1,p+=1,c*=(.5-e/p+.5)*r,b=c/(t+p),w+=b;p<1e7&&Math.abs(b)>g;)p+=1,c*=(.5-e/p+.5)*r,b=c/(t+p),w+=b;return t*w>-1?a*=t*w+1:a=0,a}function Wn(t,e,r,o,s,a){let c,d,u,f,v,m=t+e,h=t+1;if(s>1&&t>=1&&m>=h*1.1?(u=Math.round(Math.abs(ys(1))),d=Math.round(ys(0)),u>d&&(u=d),f=Math.exp(-u)):(u=0,f=1),c=Lc(u,t,e,r,o)/t,s==1||c==0)return c;let g=s-1,p=f;if(d=0,e>1){if(o>1e-4){let w=(e-1)*r/o-t;w>=1&&(d=w<g?Math.round(w):g)}else d=g;for(let w=0;w<d;++w)v=w,f*=(m+v)/(h+v)*r,p+=f}for(let w=d;w<g&&(v=w,f*=(m+v)/(h+v)*r,p+=f,!(f<=a*p));++w);return c*=p,c}function Ic(t,e,r,o,s,a){let c,d,u,f,v,m,h,g,p,w,b,_,k,C,y,A,I,M,S;if(!Number.isFinite(s)||(S=Pc(t,e,r,o),Number.isNaN(S)))return Number.NaN;if(S==0)return 0;for(c=s+1,p=e/t,w=1/t+1,C=o+1,u=0,f=1,m=t+1,_=0,k=1,y=1,A=c/w,v=w/c,u+=1,h=u/t,g=u*(e-u)*r,d=t/m,M=f*(f+p)*d*d*(g*r),d=(h+1)/(w+h+h),I=u+g/m+d*(c+u*C),f=h+1,m+=2,h=M*_+I*y,_=y,y=h,h=M*k+I*A,k=A,A=h,b=v,v=y/A,_/=A,k/=A,y=v,A=1;u<1e4&&(u+=1,h=u/t,g=u*(e-u)*r,d=t/m,M=f*(f+p)*d*d*(g*r),d=(h+1)/(w+h+h),I=u+g/m+d*(c+u*C),f=h+1,m+=2,h=M*_+I*y,_=y,y=h,h=M*k+I*A,k=A,A=h,b=v,v=y/A,!(Math.abs(v-b)<=a*v));)_/=A,k/=A,y=v,A=1;return S*v}function Pc(t,e,r,o){const s=.398942280401433;let a,c,d,u,f,v,m,h,g;if(r==0||o==0)return 0;if(m=Math.min(t,e),m<8){let p,w;if(r<=.375?(p=Math.log(r),w=br(-r)):o>.375?(p=Math.log(r),w=Math.log(o)):(p=br(-o),w=Math.log(o)),v=t*p+e*w,m>=1)return v-=Bo(t,e),Math.exp(v);if(h=Math.max(t,e),h>=8)return u=qt(m)+pr(m,h),m*Math.exp(v-u);if(h<=1){let _=Math.exp(v);return _==0?0:(g=t+e,g>1?(u=t+e-1,v=(Je(u)+1)/g):v=Je(g)+1,c=(Je(t)+1)*(Je(e)+1)/v,_*(m*c)/(m/h+1))}if(u=qt(m),a=Math.round(h-1),a>=1){c=1;for(let _=1;_<=a;++_)h+=-1,c*=h/(m+h);u=Math.log(c)+u}v-=u,h+=-1,g=m+h;let b;return g>1?(u=m+h-1,b=(Je(u)+1)/g):b=Je(g)+1,m*Math.exp(v)*(Je(h)+1)/b}else{let p,w,b,_;return t<=e?(p=t/e,w=p/(p+1),b=1/(p+1),_=t-(t+e)*r):(p=e/t,w=1/(p+1),b=p/(p+1),_=(t+e)*o-e),d=-_/t,u=Math.abs(d)>.6?d-Math.log(r/w):Xr(d),d=_/e,f=Math.abs(d)<=.6?Xr(d):d-Math.log(o/b),v=Math.exp(-(t*u+e*f)),s*Math.sqrt(e*w)*v*Math.exp(-Un(t,e))}}function Lc(t,e,r,o,s){const a=.398942280401433;let c,d,u,f,v,m,h,g;if(m=Math.min(e,r),m<8){let p,w;if(o<=.375?(p=Math.log(o),w=br(-o)):s>.375?(p=Math.log(o),w=Math.log(s)):(p=br(-s),w=Math.log(s)),v=e*p+r*w,m>=1)return v-=Bo(e,r),an(t,v);if(h=Math.max(e,r),h>=8)return u=qt(m)+pr(m,h),m*an(t,v-u);if(h<=1){let _=an(t,v);return _==0?_:(g=e+r,g>1?(u=e+r-1,v=(Je(u)+1)/g):v=Je(g)+1,c=(Je(e)+1)*(Je(r)+1)/v,_*(m*c)/(m/h+1))}u=qt(m);let b=Math.round(h-1);if(b>=1){c=1;for(let _=1;_<=b;++_)h+=-1,c*=h/(m+h);u+=Math.log(c)}return v-=u,h+=-1,g=m+h,d=g>1?(Je(g-1)+1)/g:Je(g)+1,m*an(t,v)*(Je(h)+1)/d}else{let p,w,b,_;e>r?(p=r/e,w=1/(p+1),b=p/(p+1),_=(e+r)*s-r):(p=e/r,w=p/(p+1),b=1/(p+1),_=e-(e+r)*o),-_s(r/e);let k=-_/e;return u=Math.abs(k)>.6?k-Math.log(o/w):Xr(k),k=_/r,f=Math.abs(k)>.6?k-Math.log(s/b):Xr(k),v=an(t,-(e*u+r*f)),a*Math.sqrt(r*w)*v*Math.exp(-Un(e,r))}}function Do(t,e,r,o,s,a){let d=Array(30),u=Array(30),f=e-.5-.5,v=t+f*.5,m=o>.375?Math.log(r):br(-o),h=-v*m;if(e*h==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+_s(Je(e))+e*Math.log(h)+v*m,p=g-(pr(e,t)+e*Math.log(v)),w=Math.exp(p);if(p==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=w==0,_=s==0?0:Math.exp(Math.log(s)-p),k=Rc(e,h,g,a),C=.25/(v*v),y=m*.25*m,A=k,I=A,M=1,S=1,P=0;for(let z=1;z<=30;++z){let j=e+P;A=(j*(j+1)*A+(h+j+1)*M)*C,P+=2,M*=y,S/=P*(P+1);let R=z-1;d[R]=S;let D=0;if(z>1){let $=e-z;for(let F=1;F<=R;++F)D+=$*d[F-1]*u[R-F],$+=e}u[R]=f*S+D/z;let U=u[R]*A;if(I+=U,I<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(U)<=a*(I+_))break}return s+=b?Math.exp(p+Math.log(I)):w*I,s}function Rc(t,e,r,o){const s=1.772453850905516;if(t*e==0)return e<=t?Math.exp(-r):0;if(t==.5){if(e<.25)return(.5-Cc(Math.sqrt(e))+.5)*Math.exp(-r);{let a=Math.sqrt(e);return bs(1,a)/a*s}}else if(e<1.1){let a=3,c=e,d=e/(t+3),u=o*.1/(t+1),f;for(a+=1,c*=-(e/a),f=c/(t+a),d+=f;Math.abs(f)>u;)a+=1,c*=-(e/a),f=c/(t+a),d+=f;let v=t*e*((d/6-.5/(t+2))*e+1/(t+1)),m=t*Math.log(e),h=Je(t),g=h+1;if(e>=.25&&t<e/2.59||m>-.13394){let p=Mc(m),w=((p+.5+.5)*v-p)*g-h;return w<=0?0:w*Math.exp(-r)}else return(.5-Math.exp(m)*g*(.5-v+.5)+.5)*Math.exp(-r)}else{let a=1,c=1,d=e,u=e+(1-t),f=1,v,m;a=e*c+f*a,d=e*u+f*d,v=a/d,f+=1;let h=f-t;for(c=a+h*c,u=d+h*u,m=c/u;Math.abs(m-v)>=o*m;)a=e*c+f*a,d=e*u+f*d,v=a/d,f+=1,h=f-t,c=a+h*c,u=d+h*u,m=c/u;return m}}function jc(t,e,r,o){const a=1.12837916709551,c=.353553390593274,d=Array(21),u=Array(21),f=Array(21),v=Array(21);let m=t*Xr(-r/t)+e*Xr(r/e),h;if(h=Math.exp(-m),h==0)return 0;let g=Math.sqrt(m),p=g/c*.5,w=m+m,b,_,k,C;t<e?(b=t/e,_=1/(b+1),k=(e-t)/e,C=1/Math.sqrt(t*(b+1))):(b=e/t,_=1/(b+1),k=(e-t)/t,C=1/Math.sqrt(e*(b+1))),d[0]=k*.6666666666666666,f[0]=d[0]*-.5,v[0]=-f[0];let y=.5/a*bs(1,g),A=c,I=y+v[0]*C*A,M=1,S=b*b,P=1,z=C,j=p,R=w;for(let U=2;U<=20;U+=2){P*=S,d[U-1]=_*2*(b*P+1)/(U+2);let $=U+1;M+=P,d[$-1]=k*2*M/(U+3);for(let K=U;K<=$;++K){let H=(K+1)*-.5;u[0]=H*d[0];for(let X=2;X<=K;++X){let ie=0;for(let Q=1;Q<=X-1;++Q){let ne=X-Q;ie+=(Q*H-ne)*d[Q-1]*u[ne-1]}u[X-1]=H*d[X-1]+ie/X}f[K-1]=u[K-1]/(K+1);let ee=0;for(let X=1;X<=K-1;++X)ee+=v[K-X-1]*f[X-1];v[K-1]=-(ee+f[K-1])}y=c*j+(U-1)*y,A=c*R+U*A,j=w*j,R=w*R,z*=C;let F=v[U-1]*z*y;z*=C;let G=v[$-1]*z*A;if(I+=F+G,Math.abs(F)+Math.abs(G)<=o*I)break}let D=Math.exp(-Un(t,e));return a*h*D*I}function Fc(t,e,r,o){let a=0,c=0;function d(b,_,k,C){const y=zo(b,_,k,1e-15);return C?.5-y+.5:y}function u(b,_,k,C){const y=zo(_,b,k,1e-15);return C?y:.5-y+.5}function f(b,_,k,C,y,A){const I=Ic(b,_,k,C,y,15000000000000002e-30);return A?.5-I+.5:I}function v(b,_,k,C,y){let A=Math.round(_);_=_-A,_===0&&(A=A-1,_=1);let I=Wn(_,b,C,k,A,1e-15);return k<=.7?(I=I+zo(b,_,k,1e-15),y?.5-I+.5:I):(b<=15&&(A=20,I=I+Wn(b,_,k,C,A,1e-15),b=b+A),I=Do(b,_,k,C,I,15*1e-15),y?.5-I+.5:I)}if(t<1e-15*.001&&e<1e-15*.001)return e/(t+e);let m,h,g,p,w;if(t<=1||e<=1){if(r>.5?(w=!0,m=e,g=o,h=t,p=r):(w=!1,m=t,g=r,h=e,p=o),h<Math.min(1e-15,1e-15*m))return a=Nc(m,h,g,1e-15),w?.5-a+.5:a;if(m<Math.min(1e-15,1e-15*h)&&h*g<=1)return c=Tc(m,h,g,1e-15),w?c:.5-c+.5;if(Math.max(m,h)>1){if(h<=1)return d(m,h,g,w);if(g>=.29)return u(m,h,p,w);if(g<.1&&Math.pow(g*h,m)<=.7)return d(m,h,g,w)}else{if(m>=Math.min(.2,h)||Math.pow(g,m)<=.9)return d(m,h,g,w);if(g>=.3)return u(m,h,p,w)}let b=!1;return Math.max(m,h)>1&&h>15?c=0:(b=!0,c=Wn(h,m,p,g,20,1e-15),h+=20),c=Do(h,m,p,g,c,15*1e-15),c==0||0<c&&c<Number.MIN_VALUE?(b?c=Wn(h-n,m,p,g,n,1e-15):c=Number.NEGATIVE_INFINITY,c=Do(h,m,p,g,c,15*1e-15),a=-expm1(c),w?.5-a+.5:a):(a=.5-c+.5,w?.5-a+.5:a)}else{let b=Number.isFinite(t+e)?t>e?(t+e)*o-e:t-(t+e)*r:t*o-e*r;const _=b<0;let k,C,y,A;if(_?(b=-b,k=e,y=o,C=t,A=r):(k=t,y=r,C=e,A=o),C<40)return C*y<=.7?d(k,C,y,_):v(k,C,y,A,_);if(k>C){if(C<=100||b>C*.03)return f(k,C,y,A,b,_)}else{if(k<=100)return f(k,C,y,A,b,_);if(b>k*.03)return f(k,C,y,A,b,_)}return a=jc(k,C,b,1e-15*100),_?.5-a+.5:a}}function xs(t){const e=t.nrows,r=t.ncols;if(e<r){const c=xs(t.subset([],kt.seq(1,e)));return{Q:c.Q,R:Vc(c.Q,t)}}let o=Dt.eye(e),s=t.t();for(let c=1;c<=r;c++)for(let d=e;d>=c+1;d--){const u=s.v.subarray((d-2)*r,d*r),f=o.v.subarray((d-2)*e,d*e),v=u.slice(),m=f.slice(),[h,g,p]=qc(v[c-1],v[c-1+r]);for(let w=0;w<r;w++)u[w]=v[w]*h+v[w+r]*g,u[w+r]=v[w]*-g+v[w+r]*h,f[w]=m[w]*h+m[w+e]*g,f[w+e]=m[w]*-g+m[w+e]*h;for(let w=r;w<e;w++)f[w]=m[w]*h+m[w+e]*g,f[w+e]=m[w]*-g+m[w+e]*h}const a=kt.seq(1,r);return{Q:e===r?o:o.subset([],a),R:e===r?s.t():s.subset([],a).t()}}function qc(t,e){if(t==0)return[0,1,e];if(Math.abs(t)>Math.abs(e)){const a=e/t,c=Math.sqrt(1+a*a),d=1/c;return[d,a*d,t*c]}const r=t/e,o=Math.sqrt(1+r*r),s=1/o;return[r*s,s,e*o]}function ks(t){return typeof t=="number"}function Oc(t,e){e===void 0&&(e=t);const r=t.nrows,o=t.ncols,s=e.nrows;e.ncols;const a=r,c=s,d=o,u=new Float64Array(a*c);for(let f=0;f<d;f++){const v=t.v.subarray(f*r,(f+1)*r),m=e.v.subarray(f*s,(f+1)*s);for(let h=0;h<c;h++){const g=u.subarray(h*a,(h+1)*a);for(let p=0;p<a;p++)g[p]+=v[p]*m[h]}}return new Dt(u,a,c)}function Vc(t,e){if(e===void 0&&(e=t),!wr(t)||!wr(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const r=t.nrows,o=t.ncols,s=e.nrows,a=e.ncols,c=o,d=a,u=r,f=new Float64Array(c*d);for(let v=0;v<d;v++){const m=e.v.subarray(v*s,(v+1)*s),h=f.subarray(v*c,(v+1)*c);for(let g=0;g<c;g++){const p=t.v.subarray(g*r,(g+1)*r);let w=0;for(let b=0;b<u;b++)w+=p[b]*m[b];h[g]=w}}return new Dt(f,c,d)}function Es(t,e,r){if(r===void 0){if(e!==t.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ce(t.v)}if(t.v.length!==e*r)throw Error("reshape: provided dimension does not match number of values in the object.");return new Dt(t.v,e,r)}function wr(t){return t&&t.constructor===Dt}function Bc(t,e,r){return new Dt(new Float64Array(t),e,r)}const Ee=class Ee{constructor(e,r,o){if(!ArrayBuffer.isView(e)||e.constructor!==Ee.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(r===0||o===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==r*o)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=r,this.ncols=o}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return Ee.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const o=Ee.eye(e),s=Ee.eye(e),a=this.t(),c=a.v[(e-1)*e+(e-1)],d=e-1;for(let u=0;u<e;u++)s.v[d*e+u]=o.v[d*e+u]/c;for(let u=e-2;u>=0;u--){let f=o.getcolumn(u+1);const v=a.getcolref(u+1);for(let m=u+1;m<e;m++){const h=s.getcolumn(m+1);f=f.subtract(h.mult(v[m]))}s.v.set(f.divide(v[u]).v,u*e)}return s.t()}if(this.islowertriangular()){const o=this.diag();if(us(o)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const s=Ee.eye(e),a=Ee.eye(e),c=this.t(),d=0,u=c.v[0];for(let f=0;f<e;f++)a.v[d*e+f]=s.v[d*e+f]/u;for(let f=1;f<e;f++){let v=s.getcolumn(f+1);const m=c.getcolref(f+1);for(let h=0;h<f;h++){const g=a.getcolumn(h+1);v=v.subtract(g.mult(m[h]))}a.v.set(v.divide(m[f]).v,f*e)}return a.t()}const r=xs(this);if(!r.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return r.R.inv().dot(r.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let r=0;r<e;r++)if(Math.abs(this.v[e*this.nrows+r])>Ee.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let r=e+1;r<this.nrows;r++)if(Math.abs(this.v[e*this.nrows+r])>Ee.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),r=new Float64Array(e);for(let o=0;o<e;o++)r[o]=this.getcolref(o+1)[o];return new Ce(r)}t(){const e=this.nrows,r=this.ncols,o=new Ee.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let s=0;s<this.ncols;s++){const a=this.v.subarray(s*this.nrows,(s+1)*this.nrows);for(let c=0;c<this.nrows;c++)o[c*r+s]=a[c]}return new Ee(o,r,e)}for(let s=0;s<this.nrows;s++){const a=o.subarray(s*r,(s+1)*r);for(let c=0;c<this.ncols;c++)a[c]=this.v[c*this.nrows+s]}return new Ee(o,r,e)}dot(e){if(Ne(e))return new Ee(Wo(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(wr(e))return new Ee(Wo(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,r,o){if(wr(e))return new Ee(Yo(this.v,e.v,r),this.nrows,this.ncols);if(ks(e))return new Ee(Uo(this.v,e,r),this.nrows,this.ncols);if(!Ne(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(o===void 0&&(o=e.length===this.ncols?2:1),o===2&&e.length===this.ncols){const s=new Ee.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)s.set(Uo(this.getcolref(a+1),e.v[a],r),a*this.nrows);return new Ee(s,this.nrows,this.ncols)}if(o===1&&e.length===this.nrows){const s=new Ee.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)s.set(Yo(this.getcolref(a+1),e.v,r),a*this.nrows);return new Ee(s,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(r,o)=>r+o)}subtract(e){return this.op(e,(r,o)=>r-o)}mult(e){return this.op(e,(r,o)=>r*o)}divide(e){return this.op(e,(r,o)=>r/o)}apply(e,r){if(r===void 0&&(r=2),r==2){const o=this.ncols,s=new Ee.valuesConstructor(o);for(let a=0;a<o;a++)s[a]=e(this.getcolref(a+1));return new Ce(s)}if(r==1)return this.t().apply(e,2);if(r==0){const o=this.v.length,s=new Ee.valuesConstructor(o);for(let a=0;a<o;a++)s[a]=e(this.v[a]);return new Ee(s,this.nrows,this.ncols)}}replace(e,r,o){typeof r=="number"&&(r=[r]),r.length===0&&(r=kt.seq(1,this.nrows)),Yt(r)||(r=Ut(r)),typeof o=="number"&&(o=[o]),o.length===0&&(o=kt.seq(1,this.ncols)),Yt(o)||(o=Ut(o));const s=r.length,a=o.length;if(Kr(r)<1||Cr(r)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Kr(o)<1||Cr(o)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==s||e.ncols!==a)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let c=0;c<o.length;c++){const d=e.getcolref(c+1),u=(o.v[c]-1)*this.nrows;for(let f=0;f<r.length;f++){const v=r.v[f];this.v[u+v-1]=d[f]}}return this}copy(){return new Ee(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const r=new Ce.valuesConstructor(this.ncols);for(let o=0;o<this.ncols;o++)r[o]=this.getcolref(o+1)[e-1];return new Ce(r)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ce(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,r){if(typeof e=="number"&&(e=Ut([e])),typeof r=="number"&&(r=Ut([r])),Array.isArray(e)&&(e=e.length===0?null:Ut(e)),Array.isArray(r)&&(r=r.length===0?null:Ut(r)),e!==null&&!Yt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(r!==null&&!Yt(r))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Kr(e)<1||Cr(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(r!==null&&(Kr(r)<1||Cr(r)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const d=r.length,u=this.nrows,f=new Ee.valuesConstructor(u*d);for(let v=0;v<r.length;v++)f.set(this.v.slice((r.v[v]-1)*this.nrows,r.v[v]*this.nrows),v*this.nrows);return new Ee(f,u,d)}if(r==null)return this.t().subset(r,e).t();const o=e.length,s=r.length,a=new Ee.valuesConstructor(o*s);let c=new Ee.valuesConstructor(o);for(let d=0;d<s;d++){const u=this.v.subarray((r.v[d]-1)*this.nrows,r.v[d]*this.nrows);for(let f=0;f<o;f++)c[f]=u[e.v[f]-1];a.set(c,d*o)}return new Ee(a,o,s)}toString(e){function r(c,d){return" ".repeat(d-c.length)+c}e===void 0&&(e=2),this.ncols;const o=Math.round(Math.abs(Math.log10(Cr(this.v))))+e+3;let s="";const a=this.t();for(let c=1;c<=a.ncols;c++)s+=Array.from(a.getcolref(c)).map(d=>r(d.toFixed(e),o)).join(" ")+`
`;return s}toCSV(e,r,o,s){e===void 0&&(e=","),r===void 0&&(r=e===";"?",":".");const a=s!=null&&s.length>0,c=o!=null&&o.length>0;if(a&&s.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(c&&o.length!==this.ncols+(a?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const d=this.t();let u=c?o.join(e)+`
`:"";for(let f=1;f<=d.ncols;f++)u=u+(a?s[f-1]+e:"")+d.getcolref(f).join(e)+`
`;return u=u.replace(/\./g,r),u}static randn(e,r,o,s){return Es(ms(e*r,o,s),e,r)}static rand(e,r,o,s){return Es(hs(e*r,o,s),e,r)}static eye(e,r){r===void 0&&(r=e);const o=new Float64Array(e*r);for(let s=0;s<Math.min(e,r);s++)o[s*e+s]=1;return new Ee(o,e,r)}static diagm(e){if(!Ne(e))throw Error('diagm: the argument "x" must be a Vector.');const r=e.length,o=new Float64Array(r*r);for(let s=0;s<r;s++)o[s*r+s]=e.v[s];return new Ee(o,r,r)}static zeros(e,r){return r===void 0&&(r=e),new Ee(new Float64Array(e*r),e,r)}static ones(e,r){return Ee.fill(1,e,r)}static fill(e,r,o){o===void 0&&(o=r);const s=new Float64Array(r*o);for(let a=0;a<s.length;a++)s[a]=e;return new Ee(s,r,o)}static outer(e,r,o){if(Array.isArray(e)&&(e=Ue(e)),Array.isArray(r)&&(r=Ue(r)),!Ne(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Ne(r))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const s=Ee.zeros(e.length,r.length);for(let a=0;a<r.length;a++){const c=r.v[a],d=s.getcolref(a+1);for(let u=0;u<e.length;u++)d[u]=o(e.v[u],c)}return s}static parseCSV(e,r,o,s){function a(b){return b.some(_=>Number.isNaN(Number.parseFloat(_.trim())))}r===void 0&&(r=",");const c=r===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let d=e.split(/\n/),u=[],f=0;const v=d[0].split(r);(o||o===void 0&&a(v))&&(u=v,f=1),d=d.filter(b=>b.trim().length>1);let m=[],h=0;s&&(h=1);const g=d.length-f,p=v.length-h;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=Ee.zeros(p,g);for(let b=f;b<g+f;b++){const _=d[b].split(r);let k;if(s?(m[b-f]=_[0],k=_.slice(1).map(C=>Number.parseFloat(C.trim().replace(c,".")))):k=_.map(C=>Number.parseFloat(C.trim().replace(c,"."))),k.some(C=>Number.isNaN(C)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(k.length!=p)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(k),(b-f)*p)}return{values:w.t(),header:u,labels:m,sep:r,dec:c}}};Lr(Ee,"valuesConstructor",Float64Array),Lr(Ee,"TOLERANCE",Math.pow(10,-9));let Dt=Ee;function Ne(t){return t&&t.constructor===Ce}function Ue(t){return new Ce(new Float64Array(t))}const $e=class $e{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const r=new kt.valuesConstructor(this.length);let o=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(r[o]=s+1,o=o+1);return new kt(r.subarray(0,o))}filter(e){const r=new $e.valuesConstructor(this.length);let o=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(r[o]=this.v[s],o=o+1);return new $e(r.subarray(0,o))}shuffle(){return new $e(Ss(this.v))}sort(e){return new $e(Ns(this.v,e))}sortind(e){return new kt(Ts(this.v,e))}rep(e){return Cs(this,e)}repeach(e){return Ms(this,e)}replace(e,r){typeof r=="number"&&(r=[r]),r.length===0&&(r=kt.seq(1,this.length)),Yt(r)||(r=Ut(r));const o=r.length;if(Kr(r)<1||Cr(r)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==o)throw Error('Vector.replace: length of "x" does not match the indices.');for(let s=0;s<r.length;s++){const a=r.v[s];this.v[a-1]=e.v[s]}return this}subset(e){if(typeof e=="number"&&(e=Ut([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?kt.bool2ind(e):Ut(e)),!Yt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,o=$e.zeros(r);for(let s=0;s<r;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");o.v[s]=this.v[e.v[s]-1]}return o}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new $e(this.v.slice(e-1,r))}copy(){return new $e(this.v.slice())}dot(e){return e===void 0&&(e=this),Wo(this.v,e.v,1,this.length,e.length,1)[0]}op(e,r){if(Ne(e))return new $e(Yo(this.v,e.v,r));if(ks(e))return new $e(Uo(this.v,e,r));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(r,o)=>r+o)}subtract(e){return this.op(e,(r,o)=>r-o)}mult(e){return this.op(e,(r,o)=>r*o)}divide(e){return this.op(e,(r,o)=>r/o)}apply(e){const r=this.v.length,o=$e.zeros(r);for(let s=0;s<r;s++)o.v[s]=e(this.v[s]);return o}static c(...e){if(e.length===1)return e[0];const r=e.reduce((a,c)=>a+(typeof c=="number"?1:c.length),0),o=new $e.valuesConstructor(r);let s=0;for(const a of e)typeof a=="number"?(o[s]=a,s+=1):(o.set(Ne(a)?a.v:new $e.valuesConstructor(a),s),s+=typeof a=="number"?1:a.length);return new $e(o)}static seq(e,r,o){return As(e,r,o,$e)}static randn(e,r,o){return ms(e,r,o)}static rand(e,r,o){return hs(e,r,o)}static zeros(e){return new $e(new $e.valuesConstructor(e))}static ones(e){return $e.fill(1,e)}static fill(e,r){const o=new $e.valuesConstructor(r);for(let s=0;s<o.length;s++)o[s]=e;return new $e(o)}};Lr($e,"valuesConstructor",Float64Array);let Ce=$e;function Yt(t){return t.constructor===kt}function Ut(t){return new kt(new Int32Array(t))}const lt=class lt{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const r=new lt.valuesConstructor(this.length);let o=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(r[o]=s+1,o=o+1);return new lt(r.subarray(0,o))}filter(e){const r=new lt.valuesConstructor(this.length);let o=0;for(let s=0;s<this.length;s++)e(this.v[s],s)&&(r[o]=this.v[s],o=o+1);return new lt(r.subarray(0,o))}shuffle(){return new lt(Ss(this.v))}sort(e){return new lt(Ns(this.v,e))}sortind(e){return new lt(Ts(this.v,e))}rep(e){return Cs(this,e)}repeach(e){return Ms(this,e)}subset(e){if(typeof e=="number"&&(e=Ut([e])),Array.isArray(e)&&(e=Ut(e)),!Yt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,o=new lt.valuesConstructor(r);for(let s=0;s<r;s++){if(e.v[s]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[s]>this.length)throw Error("subset: index exceeds the length of the vector.");o[s]=this.v[e.v[s]-1]}return new lt(o)}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new lt(this.v.slice(e-1,r))}static seq(e,r,o){return As(e,r,o,lt)}static ones(e){return lt.fill(1,e)}static fill(e,r){const o=new lt.valuesConstructor(r);for(let s=0;s<o.length;s++)o[s]=e;return new lt(o)}static bool2ind(e){let r=0;const o=new lt.valuesConstructor(e.length);for(let s=0;s<e.length;s++)e[s]&&(o[r]=s+1,r=r+1);return new lt(o.subarray(0,r))}};Lr(lt,"valuesConstructor",Int32Array);let kt=lt;function As(t,e,r,o){r===void 0&&(r=t<=e?1:-1);const s=Math.floor((e-t)/r)+1;if(s<1)throw Error("seq: wrong combination of parameters.");const a=new o.valuesConstructor(s);for(let c=0;c<s;c++)a[c]=t+c*r;return new o(a)}function Cs(t,e){const r=t.length*e,o=new t.constructor.valuesConstructor(r);for(let s=1;s<=e;s++)for(let a=0;a<t.length;a++)o[(s-1)*t.length+a]=t.v[a];return new t.constructor(o)}function Ms(t,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const r=t.length*e,o=new t.constructor.valuesConstructor(r);for(let s=0;s<t.length;s++)for(let a=0;a<e;a++)o[s*e+a]=t.v[s];return new t.constructor(o)}function Yo(t,e,r){if(t.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(t.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const o=new t.constructor(t.length);for(let s=0;s<t.length;s++)o[s]=r(t[s],e[s]);return o}function Uo(t,e,r){const o=new t.constructor(t.length);for(let s=0;s<t.length;s++)o[s]=r(t[s],e);return o}function Wo(t,e,r,o,s,a){if(o!==s)throw Error("_dot: matrix dimensions do not much.");const c=r,d=a,u=o,f=new t.constructor(c*d);for(let v=0;v<d;v++){const m=e.subarray(v*s,(v+1)*s),h=f.subarray(v*c,(v+1)*c);for(let g=0;g<u;g++){const p=m[g],w=t.subarray(g*r,(g+1)*r);for(let b=0;b<c;b++)h[b]+=w[b]*p}}return f}function Ss(t){let e=t.slice(),r=e.length,o,s;for(;r;)s=Math.floor(Math.random()*r--),o=e[r],e[r]=e[s],e[s]=o;return e}function Ns(t,e=!1){return e?t.slice().sort((r,o)=>o-r):t.slice().sort((r,o)=>r-o)}function Ts(t,e=!1){const r=kt.seq(1,t.length).v;return e?r.sort((o,s)=>t[s-1]-t[o-1]):r.sort((o,s)=>t[o-1]-t[s-1])}function zc(t,e,r){return 5*t*e+e+4*r*e}function Dc(t,e){return 2+2*t+t*e+17*e}function It(t,e,r){if(!t||!t.class||!t.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const o=t.ncols,s=t.ncomp;let a,c;switch(e){case"mX":a=2,c=o;break;case"sX":a=2+o,c=o;break;case"loadings":case"xloadings":a=2+2*o+(r-1)*o,c=o;break;case"P":a=2+2*o,c=r*o;break;case"eigenvals":case"xeigenvals":a=2+2*o+o*s,c=s;break;case"cq0":a=2+2*o+o*s+s,c=s;break;case"cNq":a=2+2*o+o*s+2*s,c=s;break;case"rq0":a=2+2*o+o*s+3*s,c=s;break;case"rNq":a=2+2*o+o*s+4*s,c=s;break;case"ch0":a=2+2*o+o*s+5*s,c=s;break;case"cNh":a=2+2*o+o*s+6*s,c=s;break;case"rh0":a=2+2*o+o*s+7*s,c=s;break;case"rNh":a=2+2*o+o*s+8*s,c=s;break;case"cr0":a=2+2*o+o*s+9*s,c=s;break;case"cNr":a=2+2*o+o*s+10*s,c=s;break;case"rr0":a=2+2*o+o*s+11*s,c=s;break;case"rNr":a=2+2*o+o*s+12*s,c=s;break;case"cg0":a=2+2*o+o*s+13*s,c=s;break;case"cNg":a=2+2*o+o*s+14*s,c=s;break;case"rg0":a=2+2*o+o*s+15*s,c=s;break;case"rNg":a=2+2*o+o*s+16*s,c=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return t.v.subarray(a,a+c)}function cn(t,e,r){if(!t||!t.class||!t.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const o=t.ncols,s=t.nrows,a=t.ncomp;let c,d;switch(e){case"scores":case"xscores":c=(r-1)*s,d=s;break;case"hdist":c=s*a+(r-1)*s,d=s;break;case"qdist":c=2*s*a+(r-1)*s,d=s;break;case"xcumexpvar":case"cumexpvar":c=3*s*a,d=a;break;case"fdistc":c=3*s*a+a+(r-1)*s,d=s;break;case"fdistr":c=4*s*a+a+(r-1)*s,d=s;break;case"gdist":c=5*s*a+a+(r-1)*o,d=o;break;case"rdist":c=5*s*a+a+o*a+(r-1)*o,d=o;break;case"idistc":c=5*s*a+a+2*o*a+(r-1)*o,d=o;break;case"idistr":c=5*s*a+a+3*o*a+(r-1)*o,d=o;break;default:throw new Error("pcares_get: wrong outcome name.")}return t.v.subarray(c,c+d)}function Ho(t,e,r){if(!Array.isArray(t))return!1;if(t.length===0)return!0;for(let o=0;o<t.length;o++){const s=t[o];if(s<e||s>r)return!1}return!0}function Yc(t,e,r,o,s,a,c){if(!wr(e))throw new Error("pca_fit: X must be a matrix.");a||(a=[]);const d=a&&Array.isArray(a)?a.length:0;if(!Ho(a,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');c||(c=[]);const u=c&&Array.isArray(c)?c.length:0;if(!Ho(c,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const f=e.nrows-d,v=e.ncols-u;if(f<3||v<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(o===void 0&&(o=!0),s===void 0&&(s=!1),r===void 0&&(r=Math.min(e.nrows-d-1,e.ncols-u)),r<1||r>Math.min(f-1,v))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const m=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);let h=null;if(d>0){const C=new Int32Array(a);h=t._malloc(C.length*C.BYTES_PER_ELEMENT),t.HEAP32.set(C,h/C.BYTES_PER_ELEMENT)}let g=null;if(u>0){const C=new Int32Array(c);g=t._malloc(C.length*C.BYTES_PER_ELEMENT),t.HEAP32.set(C,g/C.BYTES_PER_ELEMENT)}const p=Dc(v,r),w=Float64Array,b=t._malloc(p*w.BYTES_PER_ELEMENT);if(t.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[m,e.nrows,e.ncols,r,o,s,b,h,d,g,u])!==1)throw new Error("pca_fit: PCA failed.");const k=t.HEAPF64.slice(b/w.BYTES_PER_ELEMENT,b/w.BYTES_PER_ELEMENT+p);return t._free(m),t._free(b),h&&t._free(h),g&&t._free(g),{class:["pcamodel"],v:k,ncomp:r,nrows:f,ncols:v,exclvars:c,center:o,scale:s}}function Uc(t,e,r,o){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!wr(r))throw new Error("pca_predict: X must be a matrix.");o||(o=[]);const s=o&&Array.isArray(o)?o.length:0;if(!Ho(o,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let a=e.exclvars.length;e.exclvars;const c=r.nrows-s;r.ncols===e.ncols&&(a=0);const d=r.ncols-a;if(c<1)throw new Error("pca_predict: X must have at least 1 row.");if(d!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const u=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,u/r.v.BYTES_PER_ELEMENT);let f=null;if(s>0){const S=new Int32Array(o);f=t._malloc(S.length*S.BYTES_PER_ELEMENT),t.HEAP32.set(S,f/S.BYTES_PER_ELEMENT)}let v=null;if(a>0){const S=new Int32Array(e.exclvars);v=t._malloc(S.length*S.BYTES_PER_ELEMENT),t.HEAP32.set(S,v/S.BYTES_PER_ELEMENT)}const m=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,m/e.v.BYTES_PER_ELEMENT);const h=zc(r.nrows-s,e.ncomp,r.ncols-a),g=Float64Array,p=t._malloc(h*g.BYTES_PER_ELEMENT);if(t.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[u,r.nrows,r.ncols,m,p,f,s,v,a])!==1)throw new Error("pca_predict: PCA prediction failed.");const b=t.HEAPF64.slice(p/g.BYTES_PER_ELEMENT,p/g.BYTES_PER_ELEMENT+h);t._free(u),t._free(m),t._free(p),f&&t._free(f),v&&t._free(v);const _={class:["pcares"],v:b,ncomp:e.ncomp,nrows:c,ncols:d,outliers:o,exclvars:e.exclvars,center:e.center,scale:e.scale},k=new Array(e.ncomp),C=new Array(e.ncomp),y=new Array(e.ncomp),A=new Array(e.ncomp),I=new Array(e.ncomp),M=cn(_,"xcumexpvar");I[0]=1,A[0]=M[0],y[0]=1-M[0],k[0]=M[0],C[0]=1-M[0];for(let S=1;S<e.ncomp;S++)I[S]=S+1,A[S]=M[S],y[S]=1-M[S],k[S]=M[S]-M[S-1],C[S]=1-k[S];return _.stat={components:I,resvar:C,expvar:k,cumexpvar:A,cumresvar:y},_}function Wc(t,e){let r,o,s;if(e.length>0){const a=t.values.nrows,c=t.objindices,d=a-e.length;r=Array(d),o=Array(d),s=Array(d);let u=0;for(let f=0;f<a;f++)e.includes(f)||(r[u]=c[f],o[u]=t.classes[f],s[u]=t.objlabels[f],u=u+1)}else r=t.objindices,s=t.objlabels,o=t.classes;return[r,s,o]}function Is(){const t=new Date;return`${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}${t.getMilliseconds().toString().padStart(3,"0")}`}function Ps(t,e,r,o){const[s,a,c]=Wc(r,o),d=Uc(t,e,r.values,o);d.hash=Is(),d.objindices=s,d.objlabels=a,d.classes=c,d.classNames=r.classNames,d.varlabels=r.varlabels,d.eigenvals=It(e,"eigenvals"),d.cNh=It(e,"cNh"),d.cNq=It(e,"cNq"),d.ch0=It(e,"ch0"),d.cq0=It(e,"cq0"),d.rNh=It(e,"rNh"),d.rNq=It(e,"rNq"),d.rh0=It(e,"rh0"),d.rq0=It(e,"rq0");const u=e.nrows;return d.T2lim=2*(u-1)/(u-2)*ps(.95,2,u-2),d}function Hc(t,e="."){return Array.isArray(t)&&t.length>0?e==="."?t.map(r=>Number.parseFloat(r.trim())):t.map(r=>Number.parseFloat(r.trim().replace(e,"."))):e==="."?Number.parseFloat(t.trim()):Number.parseFloat(t.trim().replace(e,"."))}function un(t){return t.some(e=>Number.isNaN(e))}function Mr(t){return t.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Ls(t){let e=t.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(r=>r.trim().length>1)}function Gc(t,e,r,o,s,a,c,d=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const f=e===";"?",":".";let v=Ls(t);if(v.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");v=v.filter(F=>F.replaceAll(e,"").trim().length>0);const m=v[0].split(e);if(m.length<2)throw new Error("Found only one column, looks like your delimiter is not correct.");let h=0,g;const p=r!=="no";(p||p===void 0&&un(firstRow))&&(g=m,h=1);const w=v.length-h;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let b,_,k,C=Array(w);o?(b=p?Mr(g[0]):"",k=Array(w),_=1):(b="",k=[],_=0);let y,A=[],I;s?(y=p?Mr(g[_]):"",I=Array(w),_=_+1):(y="",I=[]);const M=m.length-_;if(M<1)throw new Error("Data file should contain at least 1 column with values.");const S=Dt.zeros(M,w);for(let F=h;F<w+h;F++){const G=F-h;C[G]=G;let K=v[F].split(e);if(o&&(k[G]=K[0],K.shift()),s){const ee=K[0];I[G]=ee,K.shift(),(A.length===0||A.indexOf(ee)<0)&&A.push(ee)}const H=f==="."?K.map(ee=>Number.parseFloat(ee.trim())):K.map(ee=>Number.parseFloat(ee.trim().replace(f,".")));if(H.some(ee=>Number.isNaN(ee)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(H.length!=M)throw new Error("Wrong number of values in row #"+F);S.v.set(new Float64Array(H),(F-h)*M)}if(!o||k.length!==w){k=Array(w);for(let F=0;F<w;F++)k[F]="O"+(F+1)}k=k.map(F=>Mr(F)),I=I.map(F=>Mr(F)),A=A.map(F=>Mr(F));let P,z=Array(M),j=Array(M);if(g&&g.length===M+_){P=g.map(F=>Mr(F)).slice(_);for(let F=0;F<M;F++)z[F]=F,j[F]=F+1}else{P=Array(M);for(let F=0;F<M;F++)z[F]=F,P[F]="V"+(F+1),j[F]=F+1}let R;if(r==="values"){if(R=f==="."?P.map(F=>Number.parseFloat(F.trim())):P.map(F=>Number.parseFloat(F.trim().replace(f,"."))),R.some(F=>Number.isNaN(F)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else R=j;Array.isArray(R)||(R=[]),a||(a=""),c||(c=""),a=R.length>0&&a.length>0?a:"Variables",c=R.length>0&&c.length>0?c:"";const D=a+(c.length>0?", "+c:""),U=R[1]<R[0];return{values:S.t(),header:r,hasLabels:o,hasClassNames:s,labelsVarname:b,classLabelsVarname:y,objlabels:k,objindices:C,varlabels:P,varvalues:R,varindices:z,varrev:U,classes:I,responses:null,classNames:A,sep:e,dec:f,varvaluesName:a,varvaluesUnits:c,varAxisTitle:D}}function Kc(t){if(un(t[0].slice(2)))return!0;const e=t[0].length,r=[];for(let o=2;o<e;o++){let s=[];for(let f=1;f<t.length;f++)s.push(t[f][o]);const a=t[0][o],c=Bn(s),d=Ro(s),u=Math.abs((a-c)/d);r.push(u)}return r.every(o=>o>5)}function Xc(t){const e=",",r=t[0].split(e),o=t[1].split(e),s=r.length,a=o.length,c=";",d=t[0].split(c),u=t[1].split(c),f=d.length,v=u.length;let m,h;if(s>1&&a>1&&s===a&&s>f)h=e,m=s;else if(f>1&&v>1&&f===v)h=c,m=a;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[h,h===","?".":",",m]}function Qc(t){const e=Ls(t),r=e.length;if(r<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[o,s,a]=Xc(e),c=Math.min(a,5),d=Math.min(r,5);let u=e.slice(0,d).map(M=>M.split(o).slice(0,c));u=u.map(M=>M.map(S=>Mr(S)));const f=u.map(M=>Hc(M.slice(),s));for(let M=1;M<d;M++)if(un(f[M].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const v=Kc(f);let m=0;const h=v?1:0,g=h+1,p=u[h][0],w=u[g][0],b=f[h][0],_=f[g][0],k=f[h][1],C=f[g][1];let y=!1,A=!1;if(Number.isNaN(b)&&Number.isNaN(_)&&p!==w?(y=!0,m=m+1):Number.isNaN(k)&&Number.isNaN(C)&&p!==w&&(y=!0,A=!0,m=m+2),!A){const M=y?1:0,S=f[h][M],P=f[g][M];A=un([S,P]),m=m+A}let I="no";if(v){m>0?u[0].slice(m):u[0];const M=m>0?f[0].slice(m):f[0];I=un(M)?"labels":"values"}return[o,y,A,I]}function Rs(t,e){return wr(e)?{__type:"matrix",nrows:e.nrows,ncols:e.ncols,v:Array.from(e.v)}:Ne(e)?{__type:"vector",length:e.length,v:Array.from(e.v)}:ArrayBuffer.isView(e)?{__type:e.constructor.name,data:Array.from(e)}:e}function js(t,e){if(e&&typeof e=="object"&&e.__type){if(e.__type==="matrix")return Bc(e.v,e.nrows,e.ncols);if(e.__type==="vector")return Ue(e.v);const r=globalThis[e.__type];if(typeof r=="function")return new r(e.data)}return e}function Go(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${e}${r}${o}${s}${a}${c}`}function Fs(t,e,r,o,s){(!o||!Array.isArray(o))&&(o=[]);const a=e.values.nrows,c=e.values.ncols,d=o.length,u=a-d,f=t.ncomp,v=4,m=Math.max(f,v),h=Array(m).fill(""),g=f>m?Array(m-f).fill(""):[],p=Array(f).fill(0).map((I,M)=>"PC"+(M+1)),w=e.sep;function b(I,M,S){_+=`
`,_+=[I+": ","",...h].join(w)+`
`,_+=["object","group","outlier",...p,...g].join(w)+`
`;const P=t.v.subarray(M,M+f*u);let z=0;for(let j=0;j<a;j++){const R=e.classes?e.classes[j]:"-";if(d>0&&o.includes(j)){_+=[S[j],R,"yes",...Array(f).fill("-"),...g].join(w)+`
`;continue}const D=Array(f);for(let U=0;U<f;U++)D[U]=P[U*u+z];_+=[S[j],R,"",...D,g].join(w)+`
`,z=z+1}_+=`
`}let _="";if(_+=["Number of components:",f,...h].join(w)+`
`,_+=["Center: ",t.center,...h].join(w)+`
`,_+=["Scale: ",t.scale,...h].join(w)+`
`,_+=`
`,_+=["Statistics: ","",...h].join(w)+`
`,s){const I=v>m?Array(m-v-1).fill(""):[];_+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar","Eigenvalues",...I].join(e.sep)+`
`;for(let M=0;M<f;M++)_+=["",M+1,t.stat.expvar[M],t.stat.cumexpvar[M],t.stat.resvar[M],t.stat.cumresvar[M],t.eigenvals[M],...I].join(e.sep)+`
`}else{const I=v>m?Array(m-v).fill(""):[];_+=["","PC","Expvar","Cumexpvar","Resvar","Cumresvar",...I].join(w)+`
`;for(let M=0;M<f;M++)_+=["",M+1,t.stat.expvar[M],t.stat.cumexpvar[M],t.stat.resvar[M],t.stat.cumresvar[M],...I].join(w)+`
`}if(_+=`
`,s){_+=`
`,_+=["Loading, center and scale values: ","",...h].join(w)+`
`,_+=["variable","center","scale",...p,...g].join(w)+`
`;const I=s.v.subarray(2,2+c),M=s.v.subarray(2+c,2+c*2),S=s.v.subarray(2+c*2,u+c*2+f*c);for(let P=0;P<c;P++){const z=Array(f);for(let j=0;j<f;j++)z[j]=S[j*f+P];_+=[e.varlabels[P],I[P],M[P],...z,g].join(w)+`
`}_+=`
`}b("Scores",0,e.objlabels),b("Score distances, h",f*u,e.objlabels),b("Orthogonal distances, q",f*u*2,e.objlabels),e.dec!=="."&&(_=_.replace(/\./g,e.dec)),_=["Data filename:",e.fileName,...h].join(e.sep)+`
`+_;let k=["PCA results ("+r+")","https://mda.tools/pca/",...h].join(e.sep)+`

`;const C=new Blob([k+_],{type:"text/csv"}),y=window.URL.createObjectURL(C),A=document.createElement("a");A.setAttribute("href",y),A.setAttribute("download",`pca-results-${r}.csv`),A.click()}function Jc(t){const e=new Blob([JSON.stringify({center:t.center,class:t.class,hash:t.hash,exclvars:t.exclvars,ncols:t.ncols,ncomp:t.ncomp,nrows:t.nrows,prep:t.prep,scale:t.scale,v:Array.from(t.v),exclvars:t.exclvars,varlabels:t.varlabels,varvalues:t.varvalues,varvaluesName:t.varvaluesName,varvaluesUnits:t.varvaluesUnits})],{type:"application/json"}),r=window.URL.createObjectURL(e),o=document.createElement("a");o.setAttribute("href",r),o.setAttribute("download","pca-model.json"),o.click()}var Zc=Z('<button tabindex="0" class="button svelte-ymtj5z"> </button>');function Ot(t,e){let r=q(e,"text",3,"button");var o=Zc();o.__click=function(...a){var c;(c=e.onclick)==null||c.apply(this,a)};var s=V(o);re(()=>ke(s,r())),T(t,o)}Ze(["click"]);var $c=Z('<button tabindex="0"></button>');function qs(t,e){var r=$c();r.__click=function(...o){var s;(s=e.onclick)==null||s.apply(this,o)},re(()=>{N(r,"title",e.title),N(r,"aria-label",e.title),N(r,"alt",e.title),Wr(r,`button ${e.className??""} svelte-bx9fh5`)}),T(t,r)}Ze(["click"]);function fn(t,e){let r=q(e,"title",3,"Reset");qs(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-cancel"})}function eu(t,e){let r=q(e,"title",3,"Undo");qs(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-undo"})}function $t(t){const e={};for(const r of Object.keys(t))e[r]=t[r].default;return e}var tu=Z('<span class="label svelte-h4yni9"> </span>'),ru=Z("<div><!> <!></div>");function Me(t,e){let r=q(e,"label",3,null),o=q(e,"name",3,""),s=q(e,"status",3,""),a=q(e,"colors",3,""),c=q(e,"labelWidth",3,12);var d=ru(),u=V(d);{var f=m=>{var h=tu(),g=V(h);re(()=>{N(h,"style",`flex-basis:${c()??""}ch;`),ke(g,r())}),T(m,h)};W(u,m=>{r()&&m(f)})}var v=O(u,2);Ar(v,()=>e.children??it),re(()=>{Wr(d,`control-element ${o()??""} ${s()??""} svelte-h4yni9`),N(d,"style",a())}),T(t,d)}const Os=(t,e,r,o)=>{const s=e(t);s<0||s>1||B(r,te(s*100>l(o)-5&&s*100<l(o)+5))},Vs=(t,e,r,o,s,a)=>{B(e,!1);const c=r(t);c<0||c>1||(o(s(c)),a()&&a()(o()))},Bs=(t,e,r,o,s,a)=>{if(!l(e))return;const c=r(t);c<0||c>1||(o(s(c)),a()&&a()(o()))},nu=(t,e,r,o,s,a)=>{if(t.key==="ArrowLeft"){e(e()-r()<o()?o():e()-r()),s()&&s()(e());return}if(t.key==="ArrowRight"){e(e()+r()>a()?a():e()+r()),s()&&s()(e());return}};var ou=Z('<div role="slider" class="range-slider-container svelte-vhx0r0" tabindex="0"><div class="range-slider svelte-vhx0r0"><span class="range-value svelte-vhx0r0"> </span></div></div>');function lu(t,e){pe(e,!0);let r=q(e,"min",7,0),o=q(e,"max",3,100),s=q(e,"value",31,()=>te(r())),a=q(e,"decNum",3,1),c=q(e,"step",19,()=>+((o()-r())/100).toFixed(4)),d=q(e,"onchange",3,null);De(()=>{s()<r()&&(s(r()),d()&&d()(s())),s()>o()&&(s(o()),d()&&d()(s())),r()>o()&&r(o())});let u=ae(void 0),f=ae(void 0),v=ae(!1);const m=y=>{const A=r()+y*(o()-r());return+(Math.round(A/c())*c()).toFixed(4)},h=y=>{const A=l(u).getBoundingClientRect(),I=l(f).getBoundingClientRect(),M=A.x,S=I.x+I.width;return(y.clientX-M)/(S-M)},g=y=>{B(v,!1)},p=y=>{let A=s()+c()*y.deltaY*.5;A<r()&&(A=r()),A>o()&&(A=o()),s(+(Math.round(A/c())*c()).toFixed(4)),y.preventDefault(),d()&&d()(s())},w=E(()=>r()===o()?100:(s()-r())/(o()-r())*100);var b=ou();b.__keydown=[nu,s,c,r,d,o],b.__mousemove=[Bs,v,h,s,m,d],b.__mousedown=[Os,h,v,w],b.__mouseup=[Vs,v,h,s,m,d],b.__touchmove=[Bs,v,h,s,m,d],b.__touchstart=[Os,h,v,w],b.__touchend=[Vs,v,h,s,m,d];var _=V(b),k=V(_),C=V(k);Hr(_,y=>B(u,y),()=>l(u)),Hr(b,y=>B(f,y),()=>l(f)),re(y=>{N(b,"aria-valuenow",s()),N(b,"aria-valuemin",r()),N(b,"aria-valuemax",o()),N(_,"style",`width:${l(w)??""}%`),xt(_,"range-slider_right",l(w)<50),xt(k,"range-value_right",l(w)<50),ke(C,y)},[()=>s().toFixed(a())]),mr("mousewheel",b,p),mr("mouseleave",b,g),mr("touchcancel",b,g),T(t,b),be()}Ze(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]);const zs=(t,e,r,o,s)=>{const a=e(t);a<0||a>1||B(r,te(a>l(o)&&a<l(s)+l(o)))},Ds=(t,e,r,o,s)=>{B(e,!1);const a=r(t);if(a<0||a>1)return;const c=o(a);s()!==c&&s(c)},Ys=(t,e,r,o,s)=>{if(!l(e))return;const a=r(t);if(a<0||a>1)return;const c=o(a);c!=s()&&s(c)},su=(t,e,r,o,s)=>{if(t.key==="ArrowLeft"){e(e()-r()<o()?o():e()-r());return}if(t.key==="ArrowRight"){e(e()+r()>s()?s():e()+r());return}};var au=Z('<div role="slider" class="range-slider-container range-slider-container_discrete svelte-xdlm7u" tabindex="0"><div class="range-slider svelte-xdlm7u"><span class="range-value svelte-xdlm7u"> </span></div></div>');function _r(t,e){pe(e,!0);let r=q(e,"min",3,0),o=q(e,"max",3,10),s=q(e,"value",31,()=>te(r())),a=q(e,"step",3,1);s()<r()&&(console.error('The "value" is outside of the provided range.'),s(r())),s()>o()&&(console.error('The "value" is outside of the provided range.'),s(o())),r()>o()&&console.error("The min and max values must be distinct.");let c=ae(void 0),d=ae(void 0),u=ae(!1);const f=E(()=>r()===o()?0:(s()-r())/(o()-r()+1)),v=E(()=>a()/(o()-r()+1)),m=E(()=>o()<100?`background: repeating-linear-gradient(to right, var(--bg-color-light, #f4f4f4), var(--bg-color-light, #f4f4f4), var(--bg-color-light, #f4f4f4) ${l(v)*100}%, var(--bg-color-light2, #e8e8e8) ${l(v)*100}%, var(--bg-color-light2, #e8e8e8) ${200*l(v)}%)`:"background: #f0f0f0"),h=y=>{if(y<0||y>1)return s();let A=s();return y<l(f)&&l(f)>0&&(A=s()-Math.ceil((l(f)-y)/l(v))),y>l(f)+l(v)&&l(f)+l(v)<1&&(A=s()+Math.ceil((y-(l(f)+l(v)))/l(v))),A<r()&&(A=r()),A>o()&&(A=o()),A},g=y=>{const A=l(d).getBoundingClientRect(),I=A.x,M=A.x+A.width;return(y.clientX-I)/(M-I)},p=y=>{B(u,!1)},w=y=>{let A=Math.round(s()+y.deltaY*.5*a());A<r()&&(A=r()),A>o()&&(A=o()),s(A),y.preventDefault()};var b=au();b.__keydown=[su,s,a,r,o],b.__mousemove=[Ys,u,g,h,s],b.__mousedown=[zs,g,u,f,v],b.__mouseup=[Ds,u,g,h,s],b.__touchmove=[Ys,u,g,h,s],b.__touchstart=[zs,g,u,f,v],b.__touchend=[Ds,u,g,h,s];var _=V(b),k=V(_),C=V(k);Hr(_,y=>B(c,y),()=>l(c)),Hr(b,y=>B(d,y),()=>l(d)),re(y=>{N(b,"aria-valuenow",s()),N(b,"aria-valuemin",r()),N(b,"aria-valuemax",o()),N(b,"style",l(m)),N(_,"style",`width: max(2px, ${l(v)*100}%);left:${l(f)*100}%;`),xt(_,"range-slider_left",l(v)<.1&&l(f)<.5),xt(_,"range-slider_right",l(v)<.1&&l(f)>=.5),xt(k,"range-value_right",l(v)<.1&&l(f)>.5),xt(k,"range-value_left",l(v)<.1&&l(f)<=.5),ke(C,y)},[()=>s().toFixed(0)]),mr("mousewheel",b,w),mr("mouseleave",b,p),mr("touchcancel",b,p),T(t,b),be()}Ze(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]);const iu=(t,e,r)=>{if(t.key==="ArrowLeft"){const o=e.options.findIndex(s=>s===r());o>0&&r(e.options[o-1]);return}if(t.key==="ArrowRight"){const o=e.options.findIndex(s=>s===r());o<e.options.length-1&&r(e.options[o+1]);return}};var cu=(t,e,r)=>e(r),uu=Z('<button tabindex="-1"><!></button>'),fu=Z('<div role="radiogroup" tabindex="0"></div> <input class="svelte-1i17tox">',1);function ft(t,e){pe(e,!0);let r=q(e,"value",31,()=>te(e.options[0])),o=q(e,"className",3,"");var s=fu(),a=J(s);a.__keydown=[iu,e,r],Ye(a,20,()=>e.options,d=>d,(d,u)=>{var f=uu();f.__click=[cu,r,u];var v=V(f);ht(v,()=>u,!1,!1),re(()=>{Wr(f,`option option_${u??""} svelte-1i17tox`),xt(f,"selected",u==r())}),T(d,f)});var c=O(a,2);re(()=>Wr(a,`selector ${o()??""} svelte-1i17tox`)),To(c,r),T(t,s),be()}Ze(["keydown","click"]);function Vt(t,e){pe(e,!0);let r=q(e,"options",19,()=>["no","yes"]),o=q(e,"value",15,!1),s=ae(!0);const a=E(()=>r().length!=2?(console.error('Switch: parameter "option" must gave two values.'),null):r());De(()=>B(s,te(o()?r()[1]:r()[0]))),De(()=>o(l(s)===r()[1]));var c=ge(),d=J(c);{var u=f=>{ft(f,{get options(){return l(a)},get value(){return l(s)},set value(v){B(s,te(v))}})};W(d,f=>{l(a)&&f(u)})}T(t,c),be()}var du=Z('<div tabindex="0" role="radiogroup" class="file-selector svelte-1k0x7uv"> <input type="file" class="svelte-1k0x7uv"></div> <!>',1);function Us(t,e){pe(e,!0);let r=q(e,"file",15),o=q(e,"message",3,"Select CSV file with dataset"),s=q(e,"acceptType",3,".csv"),a;function c(w){a&&a.files.length>0?r(a.files[0]):r(null)}function d(w){(w.type==="click"||w.type==="keydown"&&(w.code==="Space"||w.code==="Enter"))&&a.click()}function u(w){a.value=null,r(null)}var f=du(),v=J(f);v.__keydown=d,v.__click=d;var m=V(v),h=O(m);h.__change=c,Hr(h,w=>a=w,()=>a);var g=O(v,2);{var p=w=>{fn(w,{onclick:u})};W(g,w=>{r()&&w(p)})}re(()=>{xt(v,"selected",r()),ke(m,`${(r()?r().name:o())??""} `),N(h,"accept",s())}),T(t,f),be()}Ze(["keydown","click","change"]);function vu(t,e,r,o){e()&&B(r,te(e()(o())))}var hu=Z('<div class="error-message svelte-1qtiwcs"> </div>'),mu=Z('<div><input type="text" class="svelte-1qtiwcs"> <!></div>');function Ws(t,e){pe(e,!0);let r=q(e,"value",15,""),o=q(e,"className",3,""),s=q(e,"placeholder",3,""),a=q(e,"maxLength",3,25),c=q(e,"validator",3,null),d=ae("");var u=mu(),f=V(u);f.__input=[vu,c,d,r];var v=O(f,2);{var m=h=>{var g=hu(),p=V(g);re(()=>ke(p,l(d))),T(h,g)};W(v,h=>{l(d)&&l(d).length>0&&h(m)})}re(()=>{Wr(u,`textinput ${o()??""} svelte-1qtiwcs`),xt(u,"error",l(d)&&l(d).length>0),N(f,"placeholder",s()),N(f,"maxlength",a())}),To(f,r),T(t,u),be()}Ze(["input"]);var gu=Z('<div class="spinner svelte-n48urb"></div>');function Hs(t){var e=gu();T(t,e)}const pu=(t,e,r)=>{if(t.key==="ArrowLeft"){const o=e().findIndex(s=>s===r());o>0&&r(e()[o-1]);return}if(t.key==="ArrowRight"){const o=e().findIndex(s=>s===r());o<e().length-1&&r(e()[o+1]);return}};var bu=(t,e,r)=>e(r),wu=Z('<button tabindex="-1" class="option svelte-yf64an"><!></button>'),_u=Z('<div role="radiogroup" tabindex="0" class="selector plot-selector svelte-yf64an"></div> <input class="svelte-yf64an">',1);function Hn(t,e){pe(e,!0);let r=q(e,"options",19,()=>["p","l","b","h"]),o=q(e,"value",31,()=>te(r()[0]));const s='<svg width="3em" height="1.5em" viewBox="0 0 32 20" fill="transparent" xmlns="http://www.w3.org/2000/svg">',a={bp:'<rect x="8" y="5" width="16" height="10" stroke-width="2"/><line x1="15" y1="14" x2="15" y2="4" stroke-width="2"/><line x1="30" y1="10" x2="25" y2="10" stroke-width="2"/><line x1="8" y1="10" x2="2" y2="10" stroke-width="2"/>',hm:'<rect x="5" y="4" width="23" height="12"stroke-width="2"/><line x1="13" y1="16" x2="13" y2="3" stroke-width="2"/><line x1="21" y1="16" x2="21" y2="3" stroke-width="2"/><line x1="28" y1="10" x2="5" y2="10" stroke-width="2"/>',l:'<path d="M4.23178 14.3598L15.5 5" stroke-width="2"/><line x1="14.4846" y1="5.17692" x2="26.4846" y2="10.1769" stroke-width="2"/>',p:'<circle cx="6.5" cy="12.5" r="1" stroke-width="4"/><circle cx="15.2" cy="5.8" r="1" stroke-width="4"/><circle cx="25" cy="10" r="1" stroke-width="4"/>',h:'<line x1="9" y1="15" x2="9" y2="9" stroke-width="6"/><line x1="17" y1="15" x2="17" y2="3" stroke-width="6"/><line x1="25" y1="15" x2="25" y2="7" stroke-width="6"/>'};a.b=a.l+a.p;const c={bp:"boxplot",hm:"heatmap",l:"line",p:"scatter",b:"line + scatter",h:"bar"};var d=_u(),u=J(d);u.__keydown=[pu,r,o],Ye(u,20,r,v=>v,(v,m)=>{var h=wu();h.__click=[bu,o,m];var g=V(h);ht(g,()=>s+a[m]+"</svg",!1,!1),re(()=>{N(h,"title",c[m]),xt(h,"selected",m==o())}),T(v,h)});var f=O(u,2);To(f,o),T(t,d),be()}Ze(["keydown","click"]),Ze(["keydown","click"]);var yu=Z("<h2> </h2>"),xu=Z("<!> <!>",1),ku=Z('<div class="widget"><!></div>');function Eu(t,e){pe(e,!0);let r=q(e,"title",3,""),o=q(e,"value",15),s=q(e,"labelWidth",3,13);function a(f){const v={};for(const m of Object.keys(f))v[m]=f[m].default;return v}De(()=>{!o()&&e.options&&o(a(e.options))});var c=ku(),d=V(c);{var u=f=>{var v=xu(),m=J(v);{var h=p=>{Me(p,{children:(w,b)=>{var _=yu(),k=V(_);re(()=>ke(k,r())),T(w,_)},$$slots:{default:!0}})};W(m,p=>{r()&&p(h)})}var g=O(m,2);Ye(g,17,()=>Object.keys(e.options),Xe,(p,w)=>{var b=ge();const _=E(()=>e.options[l(w)]);var k=J(b);{var C=y=>{Me(y,{get label(){return l(_).label},get labelWidth(){return s()},children:(A,I)=>{var M=ge(),S=J(M);Mo(S,()=>l(_).el,(P,z)=>{z(P,Gr(()=>l(_).props,{get value(){return o()[l(w)]},set value(j){o(o()[l(w)]=j,!0)}}))}),T(A,M)},$$slots:{default:!0}})};W(k,y=>{l(_).hidden||y(C)})}T(p,b)}),T(f,v)};W(d,f=>{o()&&f(u)})}T(t,c),be()}var Au=Z('<p class="dataset-info svelte-gdjwex"><span>Data file:</span> <span class="file-name svelte-gdjwex"> </span><br> <span>Size:</span> <span class="file-size svelte-gdjwex"> </span></p> <!>',1);function Gs(t,e){pe(e,!0);var r=ge(),o=J(r);{var s=a=>{Me(a,{children:(c,d)=>{var u=Au(),f=J(u),v=O(V(f),2),m=V(v),h=O(v,5),g=V(h),p=O(f,2);fn(p,{get onclick(){return e.reset}}),re(()=>{N(v,"title",e.dataset.fileName),ke(m,e.dataset.fileName),ke(g,`${e.dataset.values.nrows??""} × ${e.dataset.values.ncols??""}`)}),T(c,u)},$$slots:{default:!0}})};W(o,a=>{e.dataset&&a(s)})}T(t,r),be()}var Cu=Z("<!> <!>",1),Mu=Z("<!> <!> <!> <!> <!> <!>",1),Su=Z("<!> <!>",1),Nu=Z("<p> </p>"),Tu=Z("<!> <p> </p>",1),Iu=Z("<p> </p>"),Pu=Z("<!> <!>",1);function Ks(t,e){pe(e,!0);let r=q(e,"model",3,null),o=q(e,"outliers",19,()=>[]),s=q(e,"className",3,"Class"),a=q(e,"classMandatory",3,!1),c=q(e,"classUnique",3,!1),d=q(e,"dataset",15),u=q(e,"resobj",15);const f=[",",";"],v=E(()=>r()?["no","yes"]:["no","labels","values"]);let m=ae(void 0),h=ae(""),g=ae(""),p=ae(","),w=ae("no"),b=ae(!1),_=ae(!1),k=ae(null),C=ae("neutral"),y=ae("");function A(F,G,K){B(k,te(e.WASM().then(H=>{u(Ps(H,F,G,K))}).catch(H=>{console.error(H),u(null),B(C,"error"),B(y,te(H))})))}function I(F,G){if(!F||F.size<10)return;const H=F.slice(0,1e5),ee=new FileReader;ee.onload=()=>{const X=ee.result;!X||X.length<0||((ie=>(B(p,te(ie[0])),B(b,te(ie[1])),B(_,te(ie[2])),B(w,te(ie[3]))))(Qc(X)),B(_,te(a()||l(_))),G&&l(w)!=="no"&&B(w,"yes"))},ee.onerror=function(X){csvString=null,B(C,"error"),B(y,te(X)),console.error("Error reading CSV file.",X)},ee.readAsText(H)}function M(F){try{const G=Gc(F,l(p),l(w)==="yes"?"labels":l(w),l(b),l(_),l(h),l(g));if(G.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r()&&G.values.ncols!==r().ncols+r().exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(G.classNames.length>G.values.nrows/2)throw new Error("Dataset has too many unique "+s().toLowerCase()+" labels ("+G.classNames.length+"), check your CSV file.");if(a()&&G.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(c()&&G.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");G.fileName=l(m).name.replace(/\.[^/.]+$/,""),r()&&(G.varrev=r().varrev,G.header=r().header,G.varlabels=r().varlabels,G.varvalues=r().varvalues,G.varvaluesName=r().varvaluesName,G.varvaluesUnits=r().varvaluesUnits),d(G),B(y,""),B(C,"success")}catch(G){d(null),B(C,"error"),B(y,te(G))}}function S(F){const G=new FileReader;G.onload=()=>{M(G.result)},G.readAsText(l(m))}function P(){B(m,""),d(null),u(null),B(h,""),B(g,""),B(C,"neutral"),B(y,"")}De(()=>{l(m)===null?P():(I(l(m),r()),B(C,"neutral"),B(y,""))}),De(()=>{l(p)&&(B(C,"neutral"),B(y,""))}),De(()=>{if(d()&&r()&&!u()&&!l(y))try{u(A(r(),d(),o())),B(y,""),B(C,"success")}catch(F){d(null),u(null),B(C,"error"),B(y,te(F))}});var z=Pu(),j=J(z);{var R=F=>{var G=Su(),K=J(G);Fn(K,()=>l(m)===void 0,X=>{Me(X,{children:(ie,Q)=>{Us(ie,{id:"dataFile",message:"Select CSV file with dataset",get file(){return l(m)},set file(ne){B(m,te(ne))}})},$$slots:{default:!0}})});var H=O(K,2);{var ee=X=>{var ie=Mu(),Q=J(ie);Me(Q,{label:"Delimiter",children:(ce,le)=>{ft(ce,{id:"sep",options:f,get value(){return l(p)},set value(xe){B(p,te(xe))}})},$$slots:{default:!0}});var ne=O(Q,2);Me(ne,{label:"Row labels",children:(ce,le)=>{Vt(ce,{id:"hasLabels",options:["no","yes"],get value(){return l(b)},set value(xe){B(b,te(xe))}})},$$slots:{default:!0}});var ve=O(ne,2);{var ye=ce=>{Me(ce,{get label(){return`${s()??""} labels`},children:(le,xe)=>{Vt(le,{id:"hasLabels",options:["no","yes"],get value(){return l(_)},set value(We){B(_,te(We))}})},$$slots:{default:!0}})};W(ve,ce=>{a()||ce(ye)})}var ue=O(ve,2);Me(ue,{label:"Header",children:(ce,le)=>{ft(ce,{id:"header",get options(){return l(v)},get value(){return l(w)},set value(xe){B(w,te(xe))}})},$$slots:{default:!0}});var me=O(ue,2);{var we=ce=>{var le=Cu(),xe=J(le);Me(xe,{label:"Header name",children:(qe,Pe)=>{Ws(qe,{id:"varvaluesName",placeholder:"e.g. Wavelength",get value(){return l(h)},set value(ct){B(h,te(ct))}})},$$slots:{default:!0}});var We=O(xe,2);Me(We,{label:"Header units",children:(qe,Pe)=>{Ws(qe,{id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm",get value(){return l(g)},set value(ct){B(g,te(ct))}})},$$slots:{default:!0}}),T(ce,le)};W(me,ce=>{l(w)==="values"&&ce(we)})}var se=O(me,2);Me(se,{label:" ",children:(ce,le)=>{Ot(ce,{text:"Load",onclick:S})},$$slots:{default:!0}}),T(X,ie)};W(H,X=>{l(m)&&X(ee)})}T(F,G)},D=F=>{var G=ge(),K=J(G);{var H=X=>{var ie=ge(),Q=J(ie);Ql(Q,()=>l(k),ne=>{Me(ne,{children:(ve,ye)=>{var ue=Tu(),me=J(ue);Hs(me);var we=O(me,2),se=V(we);re(()=>ke(se,r()?"Loading data and apply model...":"Loading data...")),T(ve,ue)},$$slots:{default:!0}})},(ne,ve)=>{var ye=ge(),ue=J(ye);{var me=we=>{Gs(we,{get dataset(){return d()},reset:P})};W(ue,we=>{d()!==null&&we(me)})}T(ne,ye)},(ne,ve)=>{Me(ne,{status:"error",children:(ye,ue)=>{var me=Nu(),we=V(me);re(()=>ke(we,l(ve))),T(ye,me)},$$slots:{default:!0}})}),T(X,ie)},ee=X=>{var ie=ge(),Q=J(ie);{var ne=ve=>{Gs(ve,{get dataset(){return d()},reset:P})};W(Q,ve=>{d()&&ve(ne)})}T(X,ie)};W(K,X=>{l(k)?X(H):X(ee,!1)})}T(F,G)};W(j,F=>{d()?F(D,!1):F(R)})}var U=O(j,2);{var $=F=>{Me(F,{status:"error",children:(G,K)=>{var H=Iu(),ee=V(H);re(()=>ke(ee,l(y))),T(G,H)},$$slots:{default:!0}})};W(U,F=>{(l(C)==="error"||l(y))&&F($)})}T(t,z),be()}var Lu=Z('<tr class="svelte-1xneg44"><td class="svelte-1xneg44"> </td><td class="svelte-1xneg44"> </td><td class="svelte-1xneg44"> </td><td class="svelte-1xneg44"> </td></tr>'),Ru=Z('<tr class="svelte-1xneg44"><td class="svelte-1xneg44">...</td><td class="svelte-1xneg44">...</td><td class="svelte-1xneg44">...</td><td class="svelte-1xneg44">...</td></tr>'),ju=Z('<tr class="svelte-1xneg44"><td class="svelte-1xneg44"> </td><td class="svelte-1xneg44"> </td><td class="svelte-1xneg44"> </td><td class="svelte-1xneg44"> </td></tr>'),Fu=Z('<table class="svelte-1xneg44"><thead><tr class="svelte-1xneg44"><th class="svelte-1xneg44">PC</th><th class="svelte-1xneg44">Expvar</th><th class="svelte-1xneg44">Cumexpvar</th><th class="svelte-1xneg44">Eigenvals</th></tr></thead><tbody><!><!><!></tbody></table>');function Xs(t,e){pe(e,!0);const r=16,o=E(()=>e.resobj?e.resobj.stat.cumexpvar:null),s=E(()=>e.resobj?e.resobj.stat.expvar:null),a=E(()=>e.resobj?e.resobj.eigenvals.map(f=>f*(e.resobj.nrows-1)):null);var c=ge(),d=J(c);{var u=f=>{var v=Fu(),m=O(V(v)),h=V(m);Ye(h,17,()=>e.resobj.stat.components.filter(_=>_<r),Xe,(_,k)=>{var C=Lu(),y=V(C),A=V(y),I=O(y),M=V(I),S=O(I),P=V(S),z=O(S),j=V(z);re((R,D,U)=>{ke(A,l(k)),ke(M,R),ke(P,D),ke(j,U)},[()=>(l(s)[l(k)-1]*100).toFixed(2),()=>(l(o)[l(k)-1]*100).toFixed(2),()=>l(a)[l(k)-1].toFixed(2)]),T(_,C)});var g=O(h);{var p=_=>{var k=Ru();T(_,k)};W(g,_=>{e.resobj.ncomp>r&&_(p)})}var w=O(g);{var b=_=>{var k=ju(),C=V(k),y=V(C),A=O(C),I=V(A),M=O(A),S=V(M),P=O(M),z=V(P);re((j,R,D)=>{ke(y,e.resobj.ncomp),ke(I,j),ke(S,R),ke(z,D)},[()=>((l(o)[e.resobj.ncomp-1]-l(o)[e.resobj.ncomp-2])*100).toFixed(2),()=>(l(o)[e.resobj.ncomp-1]*100).toFixed(2),()=>l(a)[e.resobj.ncomp-1].toFixed(2)]),T(_,k)};W(w,_=>{e.resobj.ncomp>=r&&_(b)})}T(f,v)};W(d,f=>{e.resobj&&f(u)})}T(t,c),be()}var qu=Z('<span class="item svelte-1ggez3e"> </span>'),Ou=Z('<p class="outliers svelte-1ggez3e"><span style="color:#a0a0a0;">Removed:</span> <!></p> <!> <!>',1);function Qs(t,e){pe(e,!0);var r=ge(),o=J(r);{var s=a=>{Me(a,{children:(c,d)=>{var u=Ou(),f=J(u),v=O(V(f),2);Ye(v,17,()=>e.outliers,Xe,(p,w)=>{var b=qu(),_=V(b);re(()=>ke(_,e.dataset.objlabels[l(w)])),T(p,b)});var m=O(f,2);{var h=p=>{eu(p,{get onclick(){return e.undoOutliers}})};W(m,p=>{e.outliers.length>1&&p(h)})}var g=O(m,2);fn(g,{get onclick(){return e.resetOutliers}}),T(c,u)},$$slots:{default:!0}})};W(o,a=>{e.dataset&&e.outliers&&e.outliers.length>0&&a(s)})}T(t,r),be()}const Vu={small:30,medium:40,large:50,xlarge:60},Bu={small:5,medium:8,large:12,xlarge:15},zu={small:6,medium:10,large:14,xlarge:18},Ko={small:4,medium:6,large:8,xlarge:10},Du={small:12,medium:15,large:19,xlarge:21},Xo={small:11,medium:15,large:17,xlarge:19},dn={small:["0","3,3","1,1","3,1,1,1"],medium:["0","5,5","2,2","5,2,2,2"],large:["0","7,7","3,3","7,3,2,3"],xlarge:["0","9,9","4,4","9,3,3,3"]},Gn=["●","◼","▲","▼","⬥","＋","✳","✕"],Yu=.8,Js=.5,Uu={small:5,medium:8,large:12,xlarge:15},Et={MIDDLEGRAY:"#dadada",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333",CLEGEND_LABELS:"#808080"};function Zs(t,e){return Array.isArray(t)&&t.length===e&&!t.some(r=>r===void 0)&&!t.some(r=>isNaN(r))}function $s(t,e){if(t!=null&&(Array.isArray(t)&&(t=Ue(t)),!(!Ne(t)||t.length<1)))return t.apply(r=>tl((r-e[1])*e[0]+e[2])).v}function rt(t,e){return $s(t,e.coords)}function Qo(t,e){return $s(t,e.objects)}function ea(t,e){if(t!=null&&(Array.isArray(t)&&(t=Ue(t)),!(!Ne(t)||t.length<1)))return t.apply(r=>(r-e[2])/e[0]+e[1]).v}function ta(t,e){return ea(t,e.coords)}function ra(t,e){return ea(t,e.objects)}function Jo(t){return t===0?"":`<tspan>&times;10</tspan><tspan font-size="0.75em" dy="-0.5em">${t.toString()}</tspan>`}function Sr(t){if(t===Math.round(t))return t;if(Math.abs(t)>10**6)return Math.round(t);if(Math.abs(t)<10**-6)return t;let e=t.toPrecision(10);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Zo(t){if(t===void 0)return[0,void 0];if(t.length<1)return[0,void 0];if(t.length===1)return[0,[t[0].toString()]];let e=Sr(Math.abs(Kr(as(t)))),r=0;if(e>=1)return e<100?[0,Array.from(t).map(a=>a.toFixed(0))]:(r=Math.ceil(Sr(Math.log10(e)))-2,[r,Array.from(t).map(a=>(a/Math.pow(10,r)).toFixed(0))]);let o=Math.ceil(-Sr(Math.log10(e)));return o<=2?[0,Array.from(t).map(s=>s.toFixed(o))]:(r=o-2,o=2,Sr(Math.abs(Cr(t)))<=10?[-r,Array.from(t).map(s=>(s*Math.pow(10,r)).toFixed(o))]:[-r,Array.from(t).map(s=>(s/Math.pow(10,r)).toString())])}function _t(t,e,r){return Array.isArray(t)&&(t=Ue(t)),Ne(t)?t.length<1?(console.error(e+": vector with coordinates is empty."),null):r&&t.length!==r?(console.error(e+": vector does not have the expected length of "+r+"."),null):t:(console.error(e+": coordinates must be provided as array or instance of Vector class."),null)}function $o(t,e,r,o){if(!t||!e||t.length!==e.length)return console.error("val2p: provided coordinate values are not correct."),null;const s=r.coords,a=o.coords;let c="";for(let d=0;d<t.length;d++){const u=tl((t.v[d]-s[1])*s[0]+s[2]),f=tl((e.v[d]-a[1])*a[0]+a[2]);c+=u+","+f+" "}return c}function na(t,e){return t?Array.isArray(t)?!e||e.length<1?[null,"tick labels must be accompanied with tick values."]:e.v.length!==t.length?[null,"number of tick labels and values should be the same."]:[t.map(r=>Kn(r)),""]:[null,"tick labels must be provided as array."]:[null,""]}function oa(t,e){if(Array.isArray(t)&&(t=Ue(t)),!Ne(t))return[null,"tick values must be provided as an array or as a vector."];if(t.v.some(c=>isNaN(c)))return[null,"tick values must be numeric"];const r=new Set(t.v);if(t.length!==r.size)return[null,"ticks values must be unique."];const o=e[0]<e[1]?e[0]:e[1],s=e[0]<e[1]?e[1]:e[0],a=t.filter(c=>c>=o&c<=s);return a.length!==t.length?[null,"some of ticks values are outside axis limits."]:[a,""]}function el(t,e,r,o,s,a){s==null&&(s=!1),a===void 0&&(a=1e-4);const c=e[0]<e[1]?e:[e[1],e[0]];if(t)return t;if(typeof c!="object"||c[0]===void 0||c[1]===void 0){console.error("getAxisTicks: provided axis limits are not valid.");return}const d=Math.abs(c[1]-c[0])*a,u=c[1]-c[0]-2*d,f=Math.floor(Math.log10(u)),v=1/Math.pow(10,f-1),m=Math.round(u*v)/v;let h=Wu(m/r);s&&(Math.abs(c[1]-c[0])<=1?console.error('getAxisTicks: parameter "whole" will be ignored as axis limits are too narrow to fit whole ticks.'):(h<1&&(h=1),h=Math.round(h)));let g=Math.ceil((c[0]+d)/h)*h,p=Math.floor((c[1]-d)/h)*h;Math.abs(c[0]-g)<h/10&&(g=g+h),Math.abs(c[1]-p)<h/10&&(p=p-h),r=Math.ceil(Sr((p-g)/h))+1,t=Ce.zeros(r);for(let w=0;w<r;w++)t.v[w]=g+h*w;if(Math.abs(h)<1){const w=Math.pow(10,1+Math.round(-Math.log10(h)));t=t.apply(b=>Math.round((b+Number.EPSILON)*w)/w)}return t.filter(w=>w>=c[0]&w<=c[1])}function Wu(t,e){const r=Math.floor(Math.log10(t)),o=t/Math.pow(10,r);let s;return o<=1?s=1:o<=2?s=2:o<=5?s=5:s=10,s*Math.pow(10,r)}function tl(t){return Math.round(t*10)/10}function Hu(t,e){return e<300.2||t<400.2?"small":e<400.2||t<700.2?"medium":e<650.2||t<850.2?"large":"xlarge"}function la(t,e){return t<400.2?"small":t<700.2?"medium":t<900.2?"large":"xlarge"}function Gu(){const t=new Int32Array(256);for(let e=0;e<256;e++){let r=e;for(let o=0;o<8;o++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t}function Ku(t){let e=-1,r=Gu();for(let o=0;o<t.length;o++)e=r[(e^t[o])&255]^e>>>8;return e^-1}function Xu(t,e){const r=new Uint8Array(13);e*=39.3701,r[0]=112,r[1]=72,r[2]=89,r[3]=115,r[4]=e>>>24,r[5]=e>>>16,r[6]=e>>>8,r[7]=e&255,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;const o=Ku(r),s=new Uint8Array(4);s[0]=o>>>24,s[1]=o>>>16,s[2]=o>>>8,s[3]=o&255;const a=new Uint8Array(4);a[0]=0,a[1]=0,a[2]=0,a[3]=9;const c=new Uint8Array(54);return c.set(t,0),c.set(a,33),c.set(r,37),c.set(s,50),c}function Qu(t,e){const r=t.split(","),o=r[0],s=r[1],a=33/3*4,c=s.substring(0,a),d=s.substring(a),u=atob(c),f=new Uint8Array(u.length);for(let h=0;h<f.length;h++)f[h]=u.charCodeAt(h);const v=Xu(f,e),m=btoa(String.fromCharCode(...v));return[o,",",m,d].join("")}function Ju(t,e,r,o,s){if(r||(r=10),o||(o=10),s||(s=300),r<1||r>30)return console.error('Parameter "width" must be between 1 and 30 (cm).'),null;if(o<1||o>30)return console.error('Parameter "height" must be between 1 and 30 (cm).'),null;if(s<50||s>1200)return console.error('Parameter "res" must be between 50 and 1200 (ppi).'),null;if(!t||!(t instanceof SVGElement))return console.error('Parameter "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const a=r/2.54*s,c=o/2.54*s;setTimeout(()=>{const d=t.clientHeight,u=t.clientWidth;let f=Math.max(a/u,c/d),v=1;f<1&&(v=f,f=1);const m=document.createElement("canvas"),h=m.getContext("2d");m.width=u*(v<1?v:f),m.height=d*(v<1?v:f),t.setAttribute("width",u*f),t.setAttribute("height",d*f),h.fillStyle="white",h.fillRect(0,0,m.width,m.height),h.scale(f,f);const g=new XMLSerializer().serializeToString(t),p=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(p),b=new Image;b.onload=function(){v<0&&(b.width=b.width*v,b.height=b.height*v),h.drawImage(b,0,0,m.width,m.height);const _=m.toDataURL("image/png"),k=Qu(_,s),C=document.createElement("a");C.href=k,C.download=`${e}.png`,C.click()},b.src=w},20)}function Zu(t,e){if(!t||!(t instanceof SVGElement))return console.error('Variable "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const r=t.clientHeight,o=t.clientWidth;t.setAttribute("width",o+"px"),t.setAttribute("height",r+"px"),t.setAttribute("viewBox",`0 0 ${o} ${r}`);const s=new Blob([t.outerHTML],{type:"image/svg+xml"}),a=window.URL.createObjectURL(s),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",`${e}.svg`),c.click()}function $u(t,e,r,o){const s=t.textContent;navigator.clipboard.write([new ClipboardItem({"image/png":ef(e,r,o)})]).then(()=>{t.classList.add("copied"),t.textContent="✓ done",setTimeout(()=>{t.classList.remove("copied"),t.textContent=s},500)},a=>{console.error(a),t.classList.add("error"),t.textContent="x copy",setTimeout(()=>{t.classList.remove("error"),t.textContent=s},500)}).catch(a=>console.error(a))}async function ef(t,e,r){const o=t.clientHeight,s=t.clientWidth,a=Math.max(e/s,r/o),c=document.createElement("canvas"),d=c.getContext("2d");return c.width=s*a,c.height=o*a,d.scale(a,a),t.setAttribute("width",c.width),t.setAttribute("height",c.height),await new Promise((f,v)=>{const m=new XMLSerializer().serializeToString(t),h=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,p=g.createObjectURL(h),w=new Image;w.onload=function(){d.drawImage(w,0,0,c.width,c.height),g.revokeObjectURL(p),c.toBlob(function(b){b?f(b):v(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){v(b)},w.src=p})}function sa(t,e){t>16&&(t=16);const r=[["#2679B2"],["#2679B2","#D22C2F"],["#2679B2","#92B42A","#D22C2F"],["#2679B2","#2E9658","#F2B825","#D22C2F"],["#2679B2","#22988A","#92B42A","#F79426","#D22C2F"],["#2679B2","#1C9AA8","#379531","#EED524","#FB7F28","#D22C2F"],["#2679B2","#1D94A9","#2E9658","#92B42A","#F2B825","#F47129","#D22C2F"],["#2679B2","#1E90AA","#279775","#519E2F","#D3CB25","#F5A326","#EF672A","#D22C2F"],["#2679B2","#1F8DAB","#22988A","#33953F","#92B42A","#EFCA24","#F79426","#EB5F2A","#D22C2F"],["#2679B2","#208BAC","#1E999A","#2E9658","#5FA32E","#C5C626","#F2B825","#F98827","#E85A2B","#D22C2F"],["#2679B2","#2089AD","#1C9AA8","#29976C","#379531","#92B42A","#EED524","#F4AA26","#FB7F28","#E6552B","#D22C2F"],["#2679B2","#2188AD","#1C97A8","#25987C","#329546","#68A62D","#BCC327","#F0C524","#F69E26","#F77728","#E4512B","#D22C2F"],["#2679B2","#2186AD","#1D94A9","#22988A","#2E9658","#469A2F","#92B42A","#DECF25","#F2B825","#F79426","#F47129","#E34E2C","#D22C2F"],["#2679B2","#2285AE","#1E92AA","#209995","#2A9767","#34953A","#6FA82D","#B5C128","#EFCE24","#F3AD25","#F98C27","#F16B29","#E14B2C","#D22C2F"],["#2679B2","#2284AE","#1E90AA","#1D999F","#279775","#31964A","#519E2F","#92B42A","#D3CB25","#F0C224","#F5A326","#FA8527","#EF672A","#E0492C","#D22C2F"],["#2679B2","#2283AE","#1F8FAB","#1C9AA8","#249880","#2E9658","#379531","#73AA2C","#B0BF28","#EDD424","#F2B825","#F69B26","#FB7F28","#ED632A","#DF472C","#D22C2F"]];return e?r[t-1].map(o=>o+e):r[t-1]}function tf(t,e,r,o,s){let a=s.ticks,c=s.tickLabels,d=0;const u=el(a,t,Bu[r.x],!0,s.whole),f=u.length,v=ra([Ko[r.plot]],o)[0],m=Ce.fill(e[0],f),h=m.add(v),g=Ce.fill(e[1],f);if(c||(a?(d=0,c=a.v.map(S=>Sr(S).toString())):[d,c]=Zo(u.v)),!c||c.length!==u.length)return console.error('XAxis: "tickLabels" must be a array of the same size as ticks.'),null;const p=[[u,m],[u,g]],w=[[Ue([t[0]]),Ue([e[0]])],[Ue([t[1]]),Ue([e[0]])]],b=[[u,h],[u,m]],_=(t[1]-t[0])*.01,k=[[null,null],[[t[1]-(d>9?1:0)*_],[m.v[f-1]]]],C=Jo(d),y=c.length,A=Math.abs(t[1]>t[0]?t[1]-u.v[y-1]:t[1]-u.v[0]),I=Math.abs(t[1]-t[0]),M=Math.abs(u.v[1]-u.v[0]);if(C.length>0&&A<I*.1&&A<M*.5){const S=t[1]>t[0]?y-1:0;c[S]=" "}return{grid:p,axisLine:w,tickCoords:b,tfCoords:k,ticks:a,tickLabels:c,tickFactor:d,tfLabel:C}}function rf(t,e,r,o,s){let a=s.ticks,c=s.tickLabels,d=0;const u=el(s.ticks,e,zu[r.y],!0,s.whole),f=u.length,v=ra([Ko[r.plot]],o)[0],m=Ce.fill(t[0],f),h=m.add(v),g=Ce.fill(t[1],f);if(c||(a?(d=0,c=a.v.map(M=>Sr(M).toString())):[d,c]=Zo(u.v)),c.length!==u.length)return console.error('YAxis: "tickLabels" must be a array of the same size as ticks.'),null;const p=[[m,u],[g,u]],w=[[Ue([t[0]]),Ue([e[0]])],[Ue([t[0]]),Ue([e[1]])]],b=[[m,u],[h,u]],_=[[[],[]],[[h.v[f-1]+(Math.abs(d)>9?3:2)*v],[e[1]]]],k=Jo(d),C=c.length,y=Math.abs(e[1]>e[0]?e[1]-u.v[C-1]:e[1]-u.v[0]),A=Math.abs(e[1]-e[0]),I=Math.abs(u.v[1]-u.v[0]);if(k.length>0&&y<A*.1&&y<I*.5){const M=e[1]>e[0]?C-1:0;c[M]=" "}return{grid:p,axisLine:w,tickCoords:b,tfCoords:_,ticks:a,tickLabels:c,tickFactor:d,tfLabel:k}}function nf(t){if(!t.breaks)return console.error("ColormapLegend: breaks values must be provided."),null;const e=Ne(t.breaks)?t.breaks.v:t.breaks;if(e.length<2)return console.error("ColormapLegend: incorrect breaks values."),null;if(!t.colmap)return console.error('ColormapLegend: values for "colmap" parameter must be provided.'),null;if(!Array.isArray(t.colmap))return console.error('ColormapLegend: parameter "colmap" must be array with colors.'),null;if(t.colmap.length!==e.length-1)return console.error('ColormapLegend: number of color values in "colmap" does not match number of intervals defined by breaks.'),null;const r=t.colmap;let o,s;if(t.labels?(o=t.labels,s=0):[s,o]=Zo(e),!(o.length===e.length-1||o.length===e.length))return console.error('ColormapLegend: number of values in "labels" should be equal to or by one less than number of values in "breaks".'),null;const a=o.length===r.length;return{colmap:r,breaks:e,labels:o,isCentered:a,labelsFactor:s,fontSize:t.fontSize,labelColor:t.labelColor}}function of(t,e,r,o){const s=t.colmap.length,a=e*Yu,c=a/s,d=r[1]+(e-a)*.5,u=Uu[o.y],f=r[2]+u*Js,v=f+u*(1+Js),m=t.isCentered?c/2:0;return{start:d,top:f,height:u,width:c,dxl:m,ltop:v}}function Nr(t,e,r){if(!t||!e||!r||typeof r!="function")return;const o=t.target;if(o.tagName===e){const s=Array.prototype.indexOf.call(o.parentNode.children,o);if(s<0)return;r(s),t.stopPropagation()}}function lf(t,e){const o=document.createElement("canvas").getContext("2d");return o.font=e,o.measureText(t.replace(/<(.|\n)*?>/g,"")).width}function sf(t,e){const r="Arial",o=e/8,s=e*1.5,a=Array(t.length),c=Array(t.length);let d=0,u=0,f=0;for(let m=0;m<t.length;m++){const h=lf("  "+t[m].label+"  ",e+"px "+r);f=h>f?h:f;const g=e*t[m].labelHeight+2*o;a[m]=g,c[m]=d,d=d+g,u=u+g}const v=s+2*o+f;return[c,a,s,o,u,v]}function af(t,e,r,o,s){const[a,c,d,u,f,v]=sf(t.items,o*t.fontSize),m=t.position.includes("left")?e[0]+s:t.position.includes("right")?e[1]-v-s:(e[1]+e[0]-v)*.5,h=t.position.includes("top")?r[1]+s:t.position.includes("bottom")?r[0]-f-s:(r[1]+r[0]-f)*.5;return{lgl:m,lgt:h,lgw:v,lgh:f,ely:a,elh:c,elw:d,elp:u}}function Kn(t){if(!t||t.length<1)return t;function e(a){return'<tspan font-size="0.75em" dy="-0.5em">'+a+'</tspan><tspan dy="0.4em"> </tspan>'}function r(a){return'<tspan font-size="0.75em" dy="0.5em">'+a+'</tspan><tspan dy="-0.4em"> </tspan>'}let o=0,s="";for(;o<t.length;){const a=t[o];if((a==="^"||a==="_")&&o<t.length-1){const c=a==="^";if(o++,t[o]==="("){let d=o+1;for(;d<t.length&&t[d]!==")";)d++;const u=t.slice(o+1,d);s+=c?e(u):r(u),o=d+1}else if(t[o]==="-"||t[o]==="–"){const d=t.slice(o,o+2);s+=c?e(d):r(d),o=o+2}else s+=c?e(t[o]):r(t[o]),o++}else s+=a,o++}return s}var cf=de('<line vector-effect="non-scaling-stroke"></line>'),uf=de("<g></g>");function rl(t,e){pe(e,!0);let r=q(e,"lineCoords",19,()=>[]),o=q(e,"lineColor",19,()=>Et.DARKGRAY),s=q(e,"lineType",3,1),a=q(e,"lineWidth",3,1),c=q(e,"className",3,"");const d=St("axes");let u=E(()=>rt(r()[0][0],d.tX())),f=E(()=>rt(r()[1][0],d.tX())),v=E(()=>rt(r()[0][1],d.tY())),m=E(()=>rt(r()[1][1],d.tY())),h=E(()=>`stroke:${o()};stroke-width: ${a()}px;stroke-dasharray:${dn[d.scales().plot][s()-1]}`);var g=ge(),p=J(g);{var w=b=>{var _=uf();Ye(_,21,()=>l(u),Xe,(k,C,y)=>{var A=cf();re(()=>{N(A,"x1",l(u)[y]),N(A,"x2",l(f)[y]),N(A,"y1",l(v)[y]),N(A,"y2",l(m)[y]),N(A,"style",l(h))}),T(k,A)}),re(()=>So(_,oc(c()))),T(b,_)};W(p,b=>{l(u)&&l(v)&&l(f)&&b(w)})}T(t,g),be()}var ff=de('<text text-anchor="middle"><!></text>'),df=de("<text><!></text>"),vf=de("<text><!></text>"),hf=de('<g class="tick-labels"><!></g>');function aa(t,e){pe(e,!0);let r=q(e,"pos",3,1),o=q(e,"las",3,1),s=E(()=>["middle","middle","start","middle","end"][r()]),a=E(()=>`fill:${e.textColor};`);const c=St("axes");let d=E(()=>rt(e.tickCoords[1][0],c.tX())),u=E(()=>rt(e.tickCoords[1][1],c.tY())),f=E(()=>Xo[c.scales().plot]),v=E(()=>[0,0,l(f),0,-l(f)][r()]),m=E(()=>[0,l(f),0,-l(f),0][r()]);var h=hf(),g=V(h);{var p=b=>{var _=ge(),k=J(_);Ye(k,17,()=>l(d),Xe,(C,y,A)=>{var I=ff();N(I,"data-id",A),N(I,"dx",0);var M=V(I);ht(M,()=>e.tickLabels[A],!0,!1),re(()=>{N(I,"x",l(d)[A]),N(I,"y",l(u)[A]),N(I,"dy",l(v)*1.25),N(I,"transform",`rotate(-90, ${l(d)[A]}, ${l(u)[A]})`)}),T(C,I)}),T(b,_)},w=b=>{var _=ge(),k=J(_);{var C=A=>{var I=ge(),M=J(I);Ye(M,17,()=>l(d),Xe,(S,P,z)=>{var j=df();N(j,"data-id",z),N(j,"dy",0),N(j,"text-anchor","end");var R=V(j);ht(R,()=>e.tickLabels[z],!0,!1),re(()=>{N(j,"x",l(d)[z]),N(j,"y",l(u)[z]),N(j,"dx",-l(m)/2),N(j,"transform",`rotate(-90, ${l(d)[z]}, ${l(u)[z]})`)}),T(S,j)}),T(A,I)},y=A=>{var I=ge(),M=J(I);Ye(M,17,()=>l(d),Xe,(S,P,z)=>{var j=vf();N(j,"data-id",z);var R=V(j);ht(R,()=>e.tickLabels[z],!0,!1),re(()=>{N(j,"x",l(d)[z]),N(j,"y",l(u)[z]),N(j,"dx",l(v)),N(j,"dy",l(m)),N(j,"text-anchor",l(s))}),T(S,j)}),T(A,I)};W(k,A=>{o()===2&&r()===1?A(C):A(y,!1)},!0)}T(b,_)};W(g,b=>{o()===2&&r()===4?b(p):b(w,!1)})}re(()=>N(h,"style",l(a))),T(t,h),be()}const mf=(t,e=it,r=it)=>{var o=xf();const s=E(()=>e().colmap.length);var a=J(o);Ye(a,17,()=>e().colmap,Xe,(v,m,h)=>{var g=wf();const p=E(()=>r().start+h*r().width);var w=J(g),b=O(w);N(b,"dy",0);var _=V(b);ht(_,()=>e().labels[h],!0,!1),re(()=>{N(w,"x",l(p)),N(w,"y",r().top),N(w,"width",r().width),N(w,"height",r().height),N(w,"fill",l(m)),N(b,"x",l(p)),N(b,"y",r().ltop),N(b,"dx",r().dxl),N(b,"fill",e().labelColor),N(b,"font-size",e().fontSize+"em")}),T(v,g)});var c=O(a);{var d=v=>{var m=_f();const h=E(()=>r().start+l(s)*r().width);N(m,"dx",0),N(m,"dy",0);var g=V(m);ht(g,()=>e().labels[l(s)],!0,!1),re(()=>{N(m,"x",l(h)),N(m,"y",r().ltop),N(m,"fill",e().labelColor),N(m,"font-size",`${e().fontSize??""}em`)}),T(v,m)};W(c,v=>{e().isCentered||v(d)})}var u=O(c);{var f=v=>{var m=yf();const h=E(()=>r().start+l(s)*r().width);var g=V(m);ht(g,()=>Jo(e().labelsFactor),!0,!1),re(()=>{N(m,"x",l(h)),N(m,"y",r().ltop),N(m,"fill",e().labelColor),N(m,"font-size",`${e().fontSize??""}em`)}),T(v,m)};W(u,v=>{e().labelsFactor!==0&&v(f)})}T(t,o)};function ia(t,e,r){e(t,r())}function ca(t,e,r){e(t,r())}function ua(t,e,r){e(t,r())}function Xn(t,e,r){e(t,r())}async function fa(t,e,r,o){$u(t.target,l(e),r(),o())}function da(t,e,r){Zu(l(e),r())}function va(t,e,r,o,s,a){Ju(l(e),r(),o(),s(),a())}var gf=de('<text fill="crimson" text-anchor="middle"> </text>'),pf=de('<text dy="10px" fill="crimson" text-anchor="middle" dominant-baseline="hanging"> </text>'),bf=de("<!><!><!><!><!>",1),wf=de('<rect></rect><text dominant-baseline="hanging" text-anchor="middle"><!></text>',1),_f=de('<text dominant-baseline="hanging" text-anchor="middle"><!></text>'),yf=de('<text dx="1.2em" dy="-0.25em" dominant-baseline="hanging" text-anchor="right"><!></text>'),xf=de("<!><!><!>",1),kf=de("<line></line>"),Ef=de('<text dominant-baseline="middle" text-anchor="middle"> </text>'),Af=de('<svg><!><!><text class="legend-text" xml:space="preserve" dominant-baseline="middle" text-anchor="start"><!></text></svg>'),Cf=de('<svg><rect height="100%" width="100%"></rect><!></svg>'),Mf=de('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),Sf=de('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),Nf=de('<text dominant-baseline="middle" style="font-size:1.2em;"><!></text>'),Tf=de('<g class="plot-labels"><!><!><!></g>'),If=de('<g class="axis x-axis"><!></g>'),Pf=de('<g class="axis y-axis"><!></g>'),Lf=de('<rect fill="transparent" id="axes-box"></rect>'),Rf=de('<rect stroke="transparent" fill="transparent" id="axes-box"></rect>'),jf=de('<g class="colormap-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Ff=de('<g class="group-legend" style="stroke:0;stroke-width:0px;"><!></g>'),qf=de('<!><!><g class="axes-box"><!></g><g class="axes-content svelte-1jtdxd0"><!></g><!><!>',1),Of=Z('<p class="message-error svelte-1jtdxd0">Axes component was not properly initialized. <br> Check that you defined axes limits and margins correctly.</p>'),Vf=Z('<div class="download-links svelte-1jtdxd0"><button class="svelte-1jtdxd0">⇩ svg</button> <button class="svelte-1jtdxd0">⇩ png</button> <button class="svelte-1jtdxd0">⧉ copy</button></div>'),Bf=Z(`<div><svg class="plot svelte-1jtdxd0" xmlns="http://www.w3.org/2000/svg"><style>.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
            user-select: none;
         }

         .series-points text {
            /* dominant-baseline: central;
            alignment-baseline: central */
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-textlabels text,
         .series-textlabels tspan,
         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }


         .colormap-legend text,
         .colormap-legend tspan,
         .series-points text,
         .series-points tspan {
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }

         .series-points1 text,
         .series-points1 tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
         }

         .series-points2 text,
         .series-points2 tspan {
            dominant-baseline: central;
            alignment-baseline: central;
         }

         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
            text-anchor: middle;
            user-select: none;
            -webkit-user-select: none;
         }

         .tick-labels text,
         .tick-labels tspan {
            user-select: none;
            -webkit-user-select: none;
         }</style><!><svg preserveAspectRatio="none" class="axes"><defs><clipPath><rect></rect></clipPath></defs><!></svg></svg> <!></div>`);function zf(t,e){pe(e,!0);const r=(_e,Te=it,Se=it)=>{var nt=ge(),gt=J(nt);{var Ht=Ct=>{var He=ge(),Ie=J(He);{var dt=ot=>{var Qe=gf(),Pt=V(Qe);re(()=>{N(Qe,"x",l(ne)[0]-10),N(Qe,"y",l(ie)),N(Qe,"transform",`rotate(-90, ${l(ne)[0]-10}, ${l(ie)})`),ke(Pt,Se().error)}),T(ot,Qe)},at=ot=>{var Qe=pf(),Pt=V(Qe);re(()=>{N(Qe,"x",l(Q)),N(Qe,"y",l(ve)[0]),ke(Pt,Se().error)}),T(ot,Qe)};W(Ie,ot=>{Se().pos===4?ot(dt):ot(at,!1)})}T(Ct,He)},At=Ct=>{var He=bf(),Ie=J(He);{var dt=he=>{rl(he,{get lineCoords(){return Te().grid},get lineColor(){return Et.MIDDLEGRAY},lineType:3})};W(Ie,he=>{Se().showGrid&&he(dt)})}var at=O(Ie);rl(at,{get lineCoords(){return Te().axisLine},get lineColor(){return Et.DARKGRAY},lineType:1});var ot=O(at);rl(ot,{get lineCoords(){return Te().tickCoords},get lineColor(){return Et.DARKGRAY},lineType:1});var Qe=O(ot);{var Pt=he=>{aa(he,{get las(){return Se().las},get pos(){return Se().pos},get tickCoords(){return Te().tickCoords},get tickLabels(){return Te().tickLabels},get tickColor(){return Et.DARKGRAY},get hideLast(){return Se().hideLast}})};W(Qe,he=>{Te().tickCoords.length===2&&Te().tickLabels.length===Te().tickCoords[1][0].length&&he(Pt)})}var Pr=O(Qe);{var je=he=>{const vt=E(()=>[Te().tfLabel]);aa(he,{get pos(){return Se().pos},get tickCoords(){return Te().tfCoords},get tickLabels(){return l(vt)},get textColor(){return Et.DARKGRAY}})};W(Pr,he=>{Te().tickFactor!==0&&he(je)})}T(Ct,He)};W(gt,Ct=>{Se().error?Ct(Ht):Ct(At,!1)})}T(_e,nt)},o=(_e,Te=it,Se=it)=>{var nt=Cf();const gt=E(()=>Se().elw+2*Se().elp),Ht=E(()=>Se().elp),At=E(()=>Se().elh),Ct=E(()=>Se().ely);var He=V(nt),Ie=O(He);Ye(Ie,17,()=>Te().items,Xe,(dt,at,ot)=>{var Qe=Af();N(Qe,"x",0);var Pt=V(Qe);{var Pr=cr=>{var Le=kf();re(()=>{N(Le,"x1",l(Ht)),N(Le,"x2",l(gt)-l(Ht)),N(Le,"y1",l(At)[ot]/2),N(Le,"y2",l(At)[ot]/2),N(Le,"stroke",l(at).line.lineColor),N(Le,"stroke-width",l(at).line.lineWidth),N(Le,"stroke-dasharray",l(j)[l(at).line.lineType-1])}),T(cr,Le)};W(Pt,cr=>{l(at).line&&cr(Pr)})}var je=O(Pt);{var he=cr=>{var Le=Ef(),ro=V(Le);re(()=>{N(Le,"x",l(gt)/2),N(Le,"y",l(At)[ot]/2),N(Le,"fill",l(at).point.faceColor),N(Le,"stroke-width",l(at).point.lineWidth),N(Le,"stroke",l(at).point.lineColor),N(Le,"font-size",l(P)),ke(ro,Gn[l(at).point.marker-1])}),T(cr,Le)};W(je,cr=>{l(at).point&&cr(he)})}var vt=O(je),cl=V(vt);ht(cl,()=>l(at).label,!0,!1),re(()=>{N(Qe,"y",l(Ct)[ot]),N(Qe,"width",Se().lgw),N(Qe,"height",l(At)[ot]),N(vt,"x",l(gt)+l(Ht)),N(vt,"y",l(At)[ot]/2),N(vt,"fill",Et.LEGEND),N(vt,"font-size",`${Te().fontSize??""}em`)}),T(dt,Qe)}),re(()=>{N(nt,"x",Se().lgl),N(nt,"y",Se().lgt),N(nt,"height",Se().lgh),N(nt,"width",Se().lgw),N(He,"fill",Te().faceColor),N(He,"stroke",Te().lineColor),N(He,"stroke-width",Te().lineWidth)}),T(_e,nt)};let s=q(e,"limX",19,()=>[0,1]),a=q(e,"limY",19,()=>[0,1]),c=q(e,"margins",19,()=>[1,1.1,.55,.6]),d=q(e,"downloadLinks",3,"none"),u=q(e,"fileName",3,"plot"),f=q(e,"pngWidth",3,8),v=q(e,"pngHeight",3,8),m=q(e,"pngRes",3,300),h=q(e,"clipboardWidth",3,1200),g=q(e,"clipboardHeight",3,800),p=q(e,"onclick",3,null),w=q(e,"onmousemove",3,null),b=q(e,"onmousedown",3,null),_=q(e,"onmouseup",3,null);function k(_e,Te){if(Te&&_e.target.id=="axes-box"){const Se=ta([_e.offsetX-l(D)],l(ee))[0],nt=ta([_e.offsetY-l(U)],l(X))[0];Te(Se,nt)}}const C="plottingArea"+Math.round(Math.random()*1e4);let y=ae(0),A=ae(0),I=ae(0);const M=E(()=>({plot:Hu(l(A),l(I)),x:la(l(A)),y:la(l(I))})),S=E(()=>c().map(_e=>_e*Vu[l(M).plot])),P=E(()=>Du[l(M).plot]),z=E(()=>Ko[l(M).plot]),j=E(()=>dn[l(M).plot]),R=E(()=>l(we).show&&l(we).label!==""?l(P)*1.5:0),D=E(()=>l(se).show&&l(se).label!==""?l(P)*1.5:0),U=E(()=>e.title&&e.title!==""?l(P)*1.5:0),$=E(()=>l(A)>l(D)?l(A)-l(D):0),F=E(()=>l(I)>l(R)+l(U)?l(I)-l(R)-l(U):0),G=E(()=>l(F)-l(S)[0]-l(S)[2]),K=E(()=>l($)-l(S)[1]-l(S)[3]),H=E(()=>Zs(s(),2)&&Zs(a(),2)&&l($)>l(S)[1]+l(S)[3]&&l(F)>l(S)[0]+l(S)[2]),ee=E(()=>l(H)?{coords:[l(K)/(s()[1]-s()[0]),s()[0],l(S)[1]],objects:[l(K)/(s()[1]-s()[0]),0,0]}:{coords:[1,0,0],objects:[1,0,0]}),X=E(()=>l(H)?{coords:[-l(G)/(a()[1]-a()[0]),a()[1],l(S)[2]],objects:[l(G)/(a()[1]-a()[0]),0,0]}:{coords:[0,1,0],objects:[0,1,0]}),ie=E(()=>l(G)*.5+l(U)+l(S)[2]),Q=E(()=>l(K)*.5+l(D)+l(S)[1]),ne=E(()=>l(H)?rt(s(),l(ee)):[0,1]),ve=E(()=>l(H)?rt(a(),l(X)):[1,0]),ye=E(()=>Kn(e.title)),ue=E(()=>l(ye)?l(ye).length===e.title.left?1:1.4:0);let me=ae(te({show:!1})),we=ae(te({show:!1,error:""})),se=ae(te({show:!1,error:""})),ce=ae(te({show:!1,colmap:null,breaks:null})),le=ae(te({show:!1,items:null,position:null}));const xe=E(()=>l(H)&&l(ce)&&l(ce).show?nf(l(ce)):null),We=E(()=>l(H)&&l(we).show?tf(s(),a(),l(M),l(X),l(we)):null),qe=E(()=>l(H)&&l(se).show?rf(s(),a(),l(M),l(ee),l(se)):null),Pe=E(()=>l(H)&&l(xe)?of(l(xe),l(K),l(S),l(M)):null),ct=E(()=>l(H)&&l(le)&&l(le).show&&l(ne)?af(l(le),l(ne),l(ve),l(P),l(z)):null);yi("axes",{setBox:_e=>B(me,te(_e)),setXAxis:_e=>B(we,te(_e)),setYAxis:_e=>B(se,te(_e)),setColmapLegend:_e=>B(ce,te(_e)),setGroupLegend:_e=>B(le,te(_e)),scales:()=>l(M),tX:()=>l(ee),tY:()=>l(X),limX:()=>s(),limY:()=>a()});var ir=Bf(),st=V(ir),mt=O(V(st));{var et=_e=>{var Te=Tf(),Se=V(Te);{var nt=He=>{var Ie=Mf();N(Ie,"dx",0),N(Ie,"dy",0);var dt=V(Ie);ht(dt,()=>l(we).label,!0,!1),re(()=>{N(Ie,"x",l(Q)),N(Ie,"y",l(F)+l(U))}),T(He,Ie)};W(Se,He=>{l(we).show&&l(we).label&&l(we).label!==""&&He(nt)})}var gt=O(Se);{var Ht=He=>{var Ie=Sf();N(Ie,"dx",0),N(Ie,"dy",0);var dt=V(Ie);ht(dt,()=>l(se).label,!0,!1),re(()=>{N(Ie,"x",l(P)/1.1*l(se).labelHeight),N(Ie,"y",l(ie)),N(Ie,"transform",`rotate(-90, ${l(P)*l(se).labelHeight/1.1}, ${l(ie)})`)}),T(He,Ie)};W(gt,He=>{l(se).show&&l(se).label&&l(se).label!==""&&He(Ht)})}var At=O(gt);{var Ct=He=>{var Ie=Nf();N(Ie,"dx",0),N(Ie,"dy",0);var dt=V(Ie);ht(dt,()=>l(ye),!0,!1),re(()=>{N(Ie,"x",l(Q)),N(Ie,"y",l(P)*l(ue))}),T(He,Ie)};W(At,He=>{l(ye)&&l(ye)!==""&&He(Ct)})}T(_e,Te)};W(mt,_e=>{l(H)&&_e(et)})}var Wt=O(mt),mn=V(Wt),Zn=V(mn);N(Zn,"id",C);var er=V(Zn),$n=O(mn);{var eo=_e=>{var Te=qf(),Se=J(Te);{var nt=je=>{var he=If(),vt=V(he);r(vt,()=>l(We),()=>l(we)),T(je,he)};W(Se,je=>{l(we).show&&l(We)&&je(nt)})}var gt=O(Se);{var Ht=je=>{var he=Pf(),vt=V(he);r(vt,()=>l(qe),()=>l(se)),T(je,he)};W(gt,je=>{l(se).show&&l(qe)&&je(Ht)})}var At=O(gt),Ct=V(At);{var He=je=>{var he=Lf();he.__keydown=[Xn,k,p],he.__click=[Xn,k,p],he.__mousemove=[ua,k,w],he.__mousedown=[ia,k,b],he.__mouseup=[ca,k,_],re(()=>{N(he,"stroke",l(me).lineColor),N(he,"stroke-width",`${l(me).lineWidth??""}px`),N(he,"x",l(ne)[0]),N(he,"y",l(ve)[1]),N(he,"width",l(ne)[1]-l(ne)[0]),N(he,"height",l(ve)[0]-l(ve)[1])}),T(je,he)},Ie=je=>{var he=Rf();he.__keydown=[Xn,k,p],he.__click=[Xn,k,p],he.__mousemove=[ua,k,w],he.__mousedown=[ia,k,b],he.__mouseup=[ca,k,_],re(()=>{N(he,"x",l(ne)[0]),N(he,"y",l(ve)[1]),N(he,"width",l(ne)[1]-l(ne)[0]),N(he,"height",l(ve)[0]-l(ve)[1])}),T(je,he)};W(Ct,je=>{l(me).show?je(He):je(Ie,!1)})}var dt=O(At);N(dt,"clip-path",`url(#${C??""})`);var at=V(dt);Ar(at,()=>e.children??it);var ot=O(dt);{var Qe=je=>{var he=jf(),vt=V(he);mf(vt,()=>l(xe),()=>l(Pe)),T(je,he)};W(ot,je=>{l(Pe)&&je(Qe)})}var Pt=O(ot);{var Pr=je=>{var he=Ff(),vt=V(he);o(vt,()=>l(le),()=>l(ct)),T(je,he)};W(Pt,je=>{l(ct)&&je(Pr)})}T(_e,Te)};W($n,_e=>{l(H)&&_e(eo)})}Hr(st,_e=>B(y,_e),()=>l(y));var to=O(st,2);{var al=_e=>{var Te=Of();T(_e,Te)},il=_e=>{var Te=Vf(),Se=V(Te);Se.__click=[da,y,u],Se.__keydown=[da,y,u];var nt=O(Se,2);nt.__click=[va,y,u,f,v,m],nt.__keydown=[va,y,u,f,v,m];var gt=O(nt,2);gt.__click=[fa,y,h,g],gt.__keydown=[fa,y,h,g],T(_e,Te)};W(to,_e=>{l(H)?_e(il,!1):_e(al)})}re(()=>{Wr(ir,`plot-container show-download-links-${d()??""} svelte-1jtdxd0`),xt(ir,"plot-error",!l(H)),N(st,"style",`font-size:${l(P)??""}px`),N(Wt,"x",l(D)),N(Wt,"y",l(U)),N(Wt,"width",l($)),N(Wt,"height",l(F)),N(er,"x",l(ne)[0]),N(er,"y",l(ve)[1]),N(er,"width",l(ne)[1]-l(ne)[0]),N(er,"height",l(ve)[0]-l(ve)[1])}),ns(st,"clientWidth",_e=>B(A,_e)),ns(st,"clientHeight",_e=>B(I,_e)),T(t,ir),be()}Ze(["keydown","click","mousemove","mousedown","mouseup"]);function ha(t,e){pe(e,!0);let r=q(e,"tickLabels",7),o=q(e,"las",3,1),s=q(e,"whole",3,!1),a=q(e,"show",3,!0),c=q(e,"showGrid",3,!1);const d=St("axes");De(()=>{const u=Kn(e.label),f=u?u.length===e.label.length?1:1.4:0;let v,m="";e.ticks&&([v,m]=oa(e.ticks,d.limX())),!m&&r()&&(h=>(r(h[0]),m=h[1]))(na(r(),v)),d.setXAxis({show:a(),error:m,label:u,ticks:v,labelHeight:f,showGrid:c(),las:o(),whole:s(),tickLabels:r()})}),be()}function ma(t,e){pe(e,!0);let r=q(e,"tickLabels",7),o=q(e,"las",3,1),s=q(e,"whole",3,!1),a=q(e,"show",3,!0),c=q(e,"showGrid",3,!1);const d=St("axes");De(()=>{const u=Kn(e.label),f=u?u.length===e.label.length?1:1.4:0;let v,m="";e.ticks&&([v,m]=oa(e.ticks,d.limY())),!m&&r()&&(h=>(r(h[0]),m=h[1]))(na(r(),v)),d.setYAxis({show:a(),error:m,label:u,ticks:v,labelHeight:f,showGrid:c(),las:o(),whole:s(),tickLabels:r(),pos:4})}),be()}function ga(t,e){pe(e,!0);let r=q(e,"lineWidth",3,1),o=q(e,"lineColor",3,"#606060");const s=St("axes");De(()=>{s.setBox({show:!0,lineWidth:r(),lineColor:o()})}),be()}var Df=(t,e)=>Nr(t,"rect",e.onclick),Yf=de("<rect></rect>"),Uf=de("<g></g>");function pa(t,e){pe(e,!0);let r=q(e,"faceColor",19,()=>Et.PRIMARY),o=q(e,"lineColor",19,r),s=q(e,"lineWidth",3,1),a=q(e,"className",3,"series-rect");const c=E(()=>_t(e.left,"Rectangles (left)")),d=E(()=>l(c)?_t(e.top,"Rectangles (top)",l(c).length):null),u=E(()=>l(d)?typeof e.width!="object"?Ce.fill(e.width,l(c).length):e.width:null),f=E(()=>l(d)?typeof e.height!="object"?Ce.fill(e.height,l(c).length):e.height:null),v=St("axes"),m=E(()=>l(c)?rt(l(c),v.tX()):null),h=E(()=>l(d)?rt(l(d),v.tY()):null),g=E(()=>l(u)?Qo(l(u),v.tX()):null),p=E(()=>l(f)?Qo(l(f),v.tY()):null),w=E(()=>`fill:${r()};stroke:${o()};stroke-width:${s()}px;`),b=E(()=>l(m)&&l(h)&&l(g)&&l(p)&&l(g).length===l(m).length&&l(p).length===l(m).length);var _=ge(),k=J(_);{var C=y=>{var A=Uf();A.__click=[Df,e],Ye(A,21,()=>e.left,Xe,(I,M,S)=>{var P=Yf();re(()=>{N(P,"x",l(m)[S]),N(P,"y",l(h)[S]),N(P,"width",l(g)[S]),N(P,"height",l(p)[S])}),T(I,P)}),re(()=>{So(A,`series ${a()??""}`),N(A,"style",l(w))}),T(y,A)};W(k,y=>{l(b)&&y(C)})}T(t,_),be()}Ze(["click"]);var Wf=(t,e)=>Nr(t,"line",e.onclick),Hf=de("<line></line>"),Gf=de('<g class="series series-segment"></g>');function Tr(t,e){pe(e,!0);let r=q(e,"lineColor",19,()=>Et.PRIMARY),o=q(e,"lineType",3,1),s=q(e,"lineWidth",3,1);const a=E(()=>_t(e.xStart,"Segments")),c=E(()=>l(a)?_t(e.yStart,"Segments",l(a).length):null),d=E(()=>l(c)?_t(e.xEnd,"Segments",l(a).length):null),u=E(()=>l(d)?_t(e.yEnd,"Segments",l(a).length):null),f=St("axes"),v=E(()=>l(a)?rt(l(a),f.tX()):null),m=E(()=>l(d)?rt(l(d),f.tX()):null),h=E(()=>l(c)?rt(l(c),f.tY()):null),g=E(()=>l(u)?rt(l(u),f.tY()):null),p=E(()=>`stroke:${r()};stroke-width: ${s()}px;stroke-dasharray:${dn[f.scales().plot][o()-1]}`),w=E(()=>l(v)&&l(m)&&l(h)&&l(g));var b=ge(),_=J(b);{var k=C=>{var y=Gf();y.__click=[Wf,e],Ye(y,21,()=>l(v),Xe,(A,I,M)=>{var S=Hf();re(()=>{N(S,"x1",l(v)[M]),N(S,"x2",l(m)[M]),N(S,"y1",l(h)[M]),N(S,"y2",l(g)[M])}),T(A,S)}),re(()=>N(y,"style",l(p))),T(C,y)};W(_,C=>{l(w)&&C(k)})}T(t,b),be()}Ze(["click"]);var Kf=(t,e)=>Nr(t,"text",e.onclick),Xf=de("<text><!></text>"),Qf=de("<text><!></text>"),Jf=de("<text><!></text>"),Zf=de('<g class="series series-textlabels"><!></g>');function nl(t,e){pe(e,!0);let r=q(e,"pos",3,0),o=q(e,"faceColor",19,()=>Et.PRIMARY_TEXT),s=q(e,"lineColor",3,"transparent"),a=q(e,"lineWidth",3,0),c=q(e,"textSize",3,1),d=q(e,"rotateAngle",3,0);const u=["middle","middle","start","middle","end"],f=E(()=>_t(e.xValues,"TextLabels")),v=E(()=>l(f)?_t(e.yValues,"TextLabels",l(f).length):null),m=E(()=>l(v)?Array.isArray(e.labels)&&e.labels.length!==l(v).length?(console.error('TextLabels: number of elements in "labels" does not match number of coordinates'),null):e.labels:null),h=E(()=>l(m)?typeof e.labels=="string"&&typeof r()!="number"?(console.error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.'),null):r():null),g=St("axes"),p=E(()=>l(f)&&l(h)!==null?rt(l(f),g.tX()):null),w=E(()=>l(v)&&l(p)?rt(l(v),g.tY()):null),b=E(()=>Xo[g.scales().plot]),_=E(()=>[0,0,-l(b),0,l(b),l(b)]),k=E(()=>[0,l(b),0,-l(b),0,l(b)]),C=E(()=>`fill:${o()};stroke-width:${a()}px;stroke:${s()};font-size:${c()}em;`),y=E(()=>l(p)&&l(w)&&l(h)!==null&&l(m)&&l(p).length===l(w).length);var A=ge(),I=J(A);{var M=S=>{var P=Zf();P.__click=[Kf,e];var z=V(P);{var j=D=>{var U=ge(),$=J(U);Ye($,17,()=>l(p),Xe,(F,G,K)=>{var H=Xf();N(H,"data-id",K);var ee=V(H);ht(ee,()=>e.labels,!0,!1),re(()=>{N(H,"x",l(p)[K]),N(H,"y",l(w)[K]),N(H,"dx",l(_)[r()]),N(H,"dy",l(k)[r()]),N(H,"transform",d()!==void 0?`rotate(${d()}, ${l(p)[K]+l(_)[r()]}, ${l(w)[K]+l(k)[r()]})`:""),N(H,"text-anchor",u[r()[K]])}),T(F,H)}),T(D,U)},R=D=>{var U=ge(),$=J(U);{var F=K=>{var H=ge(),ee=J(H);Ye(ee,17,()=>l(p),Xe,(X,ie,Q)=>{var ne=Qf();N(ne,"data-id",Q);var ve=V(ne);ht(ve,()=>e.labels[Q],!0,!1),re(()=>{N(ne,"x",l(p)[Q]),N(ne,"y",l(w)[Q]),N(ne,"dx",l(_)[r()[Q]]),N(ne,"dy",l(k)[r()[Q]]),N(ne,"transform",d()!==void 0?`rotate(${d()}, ${l(p)[Q]+l(_)[r()]}, ${l(w)[Q]+l(k)[r()]})`:""),N(ne,"text-anchor",u[r()[Q]])}),T(X,ne)}),T(K,H)},G=K=>{var H=ge(),ee=J(H);Ye(ee,17,()=>l(p),Xe,(X,ie,Q)=>{var ne=Jf();N(ne,"data-id",Q);var ve=V(ne);ht(ve,()=>e.labels[Q],!0,!1),re(()=>{N(ne,"x",l(p)[Q]),N(ne,"y",l(w)[Q]),N(ne,"dx",l(_)[r()]),N(ne,"dy",l(k)[r()]),N(ne,"transform",d()!==void 0?`rotate(${d()}, ${l(p)[Q]+l(_)[r()]}, ${l(w)[Q]+l(k)[r()]})`:""),N(ne,"text-anchor",u[r()])}),T(X,ne)}),T(K,H)};W($,K=>{Array.isArray(r())||ArrayBuffer.isView(r())?K(F):K(G,!1)},!0)}T(D,U)};W(z,D=>{typeof e.labels=="string"?D(j):D(R,!1)})}re(()=>N(P,"style",l(C))),T(S,P)};W(I,S=>{l(y)&&S(M)})}T(t,A),be()}Ze(["click"]),Ze(["click"]);var $f=(t,e)=>Nr(t,"text",e.onclick),ed=de("<text> </text>"),td=de('<g text-anchor="middle"></g>');function ol(t,e){pe(e,!0);let r=q(e,"marker",3,1),o=q(e,"faceColor",3,"transparent"),s=q(e,"lineColor",19,()=>Et.PRIMARY),a=q(e,"lineWidth",3,1),c=q(e,"markerSize",3,1);const d=E(()=>typeof r()!="number"||r()<1||r()>Gn.length?(console.error('Points: parameter "marker" must be a number from 1 to '+Gn.length+"."),null):Gn[r()-1]),u=E(()=>_t(e.xValues,"Points")),f=E(()=>l(u)?_t(e.yValues,"Points",l(u).length):null),v=St("axes"),m=E(()=>l(u)?rt(l(u),v.tX()):null),h=E(()=>l(m)&&l(f)?rt(l(f),v.tY()):null),g=E(()=>["＋","✳","✕"].includes(l(d))?`fill:${s()&&s()!=="transparent"?s():o()};stroke-width:0px;font-size:${c()}em;`:`fill:${o()};stroke-width:${a()}px;stroke:${s()}; font-size:${c()}em;`),p=E(()=>["◼","⬥","＋","✳","✕"].includes(l(d))?"series-points2":"series-points1"),w=E(()=>l(m)&&l(h)&&l(m).length===l(h).length);var b=ge(),_=J(b);{var k=C=>{var y=td();y.__click=[$f,e],Ye(y,21,()=>l(m),Xe,(A,I,M)=>{var S=ed(),P=V(S);re(()=>{N(S,"x",l(m)[M]),N(S,"y",l(h)[M]),ke(P,l(d))}),T(A,S)}),re(()=>{So(y,`series series-points ${l(p)??""}`),N(y,"style",l(g))}),T(C,y)};W(_,C=>{l(w)&&C(k)})}T(t,b),be()}Ze(["click"]);var rd=(t,e)=>Nr(t,"polyline",e.onclick),nd=de('<g class="series series-line"><polyline class="line"></polyline></g>');function Qr(t,e){pe(e,!0);let r=q(e,"lineColor",19,()=>Et.PRIMARY),o=q(e,"lineType",3,1),s=q(e,"lineWidth",3,1);const a=E(()=>_t(e.xValues,"Lines")),c=E(()=>l(a)?_t(e.yValues,"Lines",l(a).length):null),d=St("axes"),u=E(()=>l(a)&&l(c)?$o(l(a),l(c),d.tX(),d.tY()):null),f=E(()=>`fill:transparent;stroke:${r()};stroke-width: ${s()}px; stroke-dasharray:${dn[d.scales().plot][o()-1]}`);var v=ge(),m=J(v);{var h=g=>{var p=nd();p.__click=[rd,e];var w=V(p);re(()=>{N(p,"style",l(f)),N(w,"points",l(u))}),T(g,p)};W(m,g=>{l(u)&&g(h)})}T(t,v),be()}Ze(["click"]);var od=(t,e)=>Nr(t,"polyline",e.onclick),ld=de('<polyline class="line"></polyline>'),sd=de('<g class="series series-multiline"></g>');function ad(t,e){pe(e,!0);let r=q(e,"lineColor",19,()=>Et.PRIMARY),o=q(e,"lineType",3,1),s=q(e,"lineWidth",3,1);const a=E(()=>_t(e.xValues,"Multilines")),c=E(()=>l(a)?wr(e.yValues)?(l(a).length!==e.yValues.nrows&&console.error('Multilines: parameter "xValues" must have the same number of values as number of rows in "yValues".'),e.yValues):(console.error('Multilines: parameter "yValues" must be a matrix.'),null):null),d=St("axes"),u=E(()=>{if(!l(a)||!l(c))return null;const g=new Array(l(c).ncols);for(let p=0;p<g.length;p++)g[p]=$o(l(a),l(c).getcolumn(p+1),d.tX(),d.tY());return g}),f=E(()=>`fill:transparent;stroke:${r()};stroke-width: ${s()}px; stroke-dasharray:${dn[d.scales().plot][o()-1]}`);var v=ge(),m=J(v);{var h=g=>{var p=sd();p.__click=[od,e],Ye(p,21,()=>l(u),Xe,(w,b)=>{var _=ld();re(()=>N(_,"points",l(b))),T(w,_)}),re(()=>N(p,"style",l(f))),T(g,p)};W(m,g=>{l(u)&&l(u).length>0&&g(h)})}T(t,v),be()}Ze(["click"]);function ba(t,e){pe(e,!0);let r=q(e,"show",3,!0),o=q(e,"labels",3,null),s=q(e,"labelColor",19,()=>Et.CLEGEND_LABELS),a=q(e,"fontSize",3,.85);const c=St("axes");De(()=>{c.setColmapLegend({show:r(),breaks:e.breaks,colmap:e.colmap,labels:o(),labelColor:s(),fontSize:a()})}),be()}function id(t,e,r,o){e===void 0&&(e=!0),r===void 0&&(r=!1),o===void 0&&(o=!1);function s(u,f,v,m){if(typeof f=="boolean")return f?u.apply(v,2):Ue([m]).rep(u.ncols);if(!Ne(f))throw Error("scale: parameters 'center' and 'scale' must be boolean or vectors with numeric values.");if(f.length!==u.ncols)throw Error("scale: number of values for centring and scaling must be the same as number of columns in the matrix.");return f}const a=s(t,e,Bn,0),c=s(t,r,Ro,1),d=Dt.zeros(t.nrows,t.ncols);for(let u=1;u<=t.ncols;u++){const f=t.getcolref(u),v=d.getcolref(u),m=a.v[u-1],h=1/c.v[u-1];for(let g=0;g<t.nrows;g++)v[g]=(f[g]-m)*h}return o?[d,a,c]:d}function ll(t,e,r){if(!t||!t.class||!t.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const o=t.ncols,s=t.ncomp;let a,c;switch(e){case"mX":a=2,c=o;break;case"sX":a=2+o,c=o;break;case"loadings":case"xloadings":a=2+2*o+(r-1)*o,c=o;break;case"P":a=2+2*o,c=r*o;break;case"eigenvals":case"xeigenvals":a=2+2*o+o*s,c=s;break;case"cq0":a=2+2*o+o*s+s,c=s;break;case"cNq":a=2+2*o+o*s+2*s,c=s;break;case"rq0":a=2+2*o+o*s+3*s,c=s;break;case"rNq":a=2+2*o+o*s+4*s,c=s;break;case"ch0":a=2+2*o+o*s+5*s,c=s;break;case"cNh":a=2+2*o+o*s+6*s,c=s;break;case"rh0":a=2+2*o+o*s+7*s,c=s;break;case"rNh":a=2+2*o+o*s+8*s,c=s;break;case"cr0":a=2+2*o+o*s+9*s,c=s;break;case"cNr":a=2+2*o+o*s+10*s,c=s;break;case"rr0":a=2+2*o+o*s+11*s,c=s;break;case"rNr":a=2+2*o+o*s+12*s,c=s;break;case"cg0":a=2+2*o+o*s+13*s,c=s;break;case"cNg":a=2+2*o+o*s+14*s,c=s;break;case"rg0":a=2+2*o+o*s+15*s,c=s;break;case"rNg":a=2+2*o+o*s+16*s,c=s;break;default:throw Error("pcamodel_get: wrong outcome name.")}return t.v.subarray(a,a+c)}const cd=t=>t;function ud(t,{delay:e=0,duration:r=400,easing:o=cd}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:o,css:a=>`opacity: ${a*s}`}}var fd=Z('<div class="drop svelte-1vipsv"><div class="modal svelte-1vipsv"><div class="header svelte-1vipsv"><button class="close-button svelte-1vipsv">✕</button></div> <div class="body svelte-1vipsv"><!></div></div></div>');function wa(t,e){pe(e,!0);function r(f){f.key==="Escape"&&e.closeModal()}var o=fd();mr("keydown",Cn,r);var s=V(o),a=V(s),c=V(a);c.__click=function(...f){var v;(v=e.closeModal)==null||v.apply(this,f)};var d=O(a,2),u=V(d);Ar(u,()=>e.children),uc(7,o,()=>ud),T(t,o),be()}Ze(["click"]);const dd=[1,1.1,.45,.4],_a={cal:"#2679B2",pv:"#D22C2F",target:"#2679B2",alt:"#2679B2",new:"#2679B2"},ya={cal:"#f0f8ff"},xa="#a0a0a0",ka="#909090",Jr="#909090",sl=8,vd=8,hd=8,md=600;function Ea(t,e){return!t||!e||e<0||e>t.ncomp?"":`PC${e} (${(t.stat.expvar[e-1]*100).toFixed(1)}%)`}function gd(t,e){if(t.length===e.length)return t;const r=e.length,o=new t.constructor(r);for(let s in e)o[s]=t[e[s]];return o}function pd(t,e){let r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;for(let c=0;c<t.length;c++)o=Math.min(o,t[c]),r=Math.max(r,t[c]);let s=el(void 0,[o,r],e-1,!0,!1,0).v;const a=s[1]-s[0];if(s[0]>o){const c=s[0]-a;s=[c<o?c:o,...s]}if(s[s.length-1]<r){const c=s[s.length-1]+a;s=[...s,c>r?c:r]}return s}function bd(t){const e=t.length;if(e<1||e>16)throw Error("getClassColors: can not create color map for more than 16 categories.");const r=sa(e);return t.reduce((s,a,c)=>(s[a]=r[c],s),{})}function wd(t,e,r){const o=e.length,s=new Array(t.length),a=e[1]-e[0];for(let c=0;c<t.length;c++)for(let d=0;d<o-1;d++){const u=t[c]>=e[d],f=d===o-2?t[c]<e[d+1]+a:t[c]<e[d+1];if(u&&f){s[c]=r[d];break}}return s}function Aa(t,e,r,o,s="cal",a){if(!e)return null;let c,d,u,f,v;if(a){const m=a.values;c=a.labels;const h=a.classColmap;d=Object.keys(h).map(g=>h[g]),f=m.map(g=>h[g]),u=new Array(c.length+1).map((g,p)=>p-.5),v=null}else if(r==="groups"&&e.classNames){const m=bd(e.classNames);d=Object.keys(m).map(h=>m[h]),c=e.classNames,f=e.classes.map(h=>m[h]),u=new Array(c.length+1).map((h,g)=>g-.5),v=null}else if(r==="variable"){const m=gd(t.values.getcolref(o),e.objindices);v=t.varlabels[o-1],v.length>30&&(v=v.substring(0,29)+"..."),u=pd(m,10),d=sa(u.length-1),f=wd(m,u,d)}else c=null,u=null,d=null,f=Array(e.nrows).fill(_a[s]);return{labels:c,map:d,breaks:u,colors:f,varname:v}}function _d(t,e,r=.95){const s=2*Math.PI/99,[a,c,d]=t,u=Math.sqrt((a+d)**2-4*(a*d-c*c));let f=.5*(a+d-u),v=.5*(a+d+u);if(f<v){let M=f;f=v,v=M}const m=Dn(r,2),h=Math.sqrt(m*f),g=Math.sqrt(m*v);let p;if(Math.abs(c)<1e-7)p=0;else{let M=-c/(a-f),S=1;const P=Math.sqrt(M*M+S*S);M=M/P,S=S/P,p=Math.atan2(S,M),p<0&&(p=p+2*Math.PI)}const w=Math.cos(p),b=Math.sin(p),_=Ce.zeros(100),k=Ce.zeros(100);let C=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY;for(let M=0;M<100;M++){const S=M*s,P=h*Math.cos(S),z=g*Math.sin(S),j=P*w-z*b+e[0],R=P*b+z*w+e[1];_.v[M]=j,k.v[M]=R,C=Math.min(C,j),y=Math.max(y,j),A=Math.min(A,R),I=Math.max(I,R)}return[_,k,C,y,A,I]}function yd(t,e,r,o,s,a){if(!t||!e||!r||!o||!s)return null;const c=t.length,d=o.length,u=new Array(d).fill(0),f=new Array(d*2).fill(0);for(let b=0;b<c;b++){const _=o.indexOf(r[b]);u[_]+=1,f[_*2]+=t.v[b],f[_*2+1]+=e.v[b]}for(let b=0;b<d;b++)f[b*2]=f[b*2]/u[b],f[b*2+1]=f[b*2+1]/u[b];const v=new Array(d*3).fill(0);for(let b=0;b<c;b++){const _=o.indexOf(r[b]),k=t.v[b]-f[_*2],C=e.v[b]-f[_*2+1];v[_*3]+=k*k,v[_*3+1]+=k*C,v[_*3+2]+=C*C}let m=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,g=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;const w=Array(d);for(let b=0;b<d;b++){const[_,k,C,y,A,I]=_d([v[b*3]/(u[b]-1),v[b*3+1]/(u[b]-1),v[b*3+2]/(u[b]-1)],[f[b*2],f[b*2+1]],a);w[b]={x:_,y:k,c:s[b]},m=Math.min(m,C),h=Math.max(h,y),g=Math.min(g,A),p=Math.max(p,I)}return{ellipses:w,xRange:[m,h],yRange:[g,p]}}var xd=Z("<!> <!> <!> <!>",1);function Ir(t,e){let r=q(e,"whole",3,!1),o=mc(e,["$$slots","$$events","$$legacy","title","limX","limY","xLabel","yLabel","whole","fileName","children"]);zf(t,Gr({get title(){return e.title},get limX(){return e.limX},get limY(){return e.limY},get fileName(){return e.fileName},downloadLinks:"hover",margins:dd,pngWidth:vd,pngHeight:hd,pngRes:md},()=>o,{children:(s,a)=>{var c=xd(),d=J(c);Ar(d,()=>e.children);var u=O(d,2);ha(u,{showGrid:!0,get label(){return e.xLabel},get whole(){return r()}});var f=O(u,2);ma(f,{showGrid:!0,get label(){return e.yLabel}});var v=O(f,2);ga(v,{}),T(s,c)},$$slots:{default:!0}}))}function kd(t,e){if(t.target.tagName!=="rect"){B(e,-1);return}const r=Array.from(t.target.parentNode.children).indexOf(t.target);if(r<0){B(e,-1);return}l(e)!==r&&B(e,te(r))}var Ed=Z("<!> <!> <!>",1),Ad=Z("<!> <!> <!> <!> <!>",1),Cd=Z('<div class="wrapper svelte-ha02r1"><div class="plot-container svelte-ha02r1" role="tooltip"><!></div> <div class="msg-select svelte-ha02r1">click inside the plot to see a variable label</div> <div class="plot-controls svelte-ha02r1"><!></div></div>');function Ca(t,e){pe(e,!0);let r=q(e,"outliers",19,()=>[]),o=ae("residual"),s=ae(-1),a=E(()=>l(u)&&l(s)>=0?l(u).values.v[l(s)]:null),c=E(()=>l(k)&&l(s)>=0?l(k).sel.v[l(s)]:null),d=E(()=>e.model&&l(s)>=0?e.model.varlabels[l(s)]:null),u=E(()=>{if(!e.model)return null;const S=Ue(e.model.varvalues),P=S.length,z=(S.v[1]-S.v[0])/2,j=(S.v[P-2]-S.v[P-1])/2,R=[S.v[0],S.v[P-1]],D=[R[0]-z,R[1]+j],U=(R[1]-R[0])/P;return{values:S,lim:D,width:U,hwidth:U*.5}}),f=E(()=>l(u)?l(u).values.apply(S=>S-l(u).hwidth):null),v=E(()=>{if(!e.dataset||!e.model)return null;const S=e.dataset.values,P=new Ce(ll(e.model,"mX")),z=new Ce(ll(e.model,"sX"));return id(S,P,z).t()}),m=E(()=>e.model&&e.ncomp>0&&e.ncomp<=e.model.ncomp?new Dt(ll(e.model,"P",e.ncomp),e.model.ncols,e.ncomp):null),h=E(()=>l(m)?Oc(l(m),l(m)):null),g=E(()=>l(v)&&l(h)?l(h).dot(l(v)):null),p=E(()=>l(g)?l(v).subtract(l(g)):null),w=E(()=>l(g)?l(g).getcolumn(e.selected+1):null),b=E(()=>l(p)?l(p).getcolumn(e.selected+1):null),_=E(()=>l(v)?l(v).getcolumn(e.selected+1):null),k=E(()=>{if(!l(w)||!l(b)||!l(_))return null;const S=l(o)==="explained"?{all:l(g),sel:l(w),label:"Explained part, TP^T"}:l(o)==="residual"?{all:l(p),sel:l(b),label:"Residuals, E"}:{all:l(v),sel:l(_),label:"Data, X"},P=Vn(S.all.v),z=P[1]-P[0],j=[P[0]-z/50,P[1]+z/12],R=Ce.fill(P[1],S.sel.length);return S.lim=j,S.top=R,S.height=z,S});const C=E(()=>e.dataset&&e.selected>=0?`Object ${e.dataset.objlabels[e.selected].replace("_","-")}`:null),y=E(()=>e.model?e.model.varvaluesName+(e.model.varvaluesUnits?", "+e.model.varvaluesUnits:""):null);var A=ge(),I=J(A);{var M=S=>{wa(S,{get closeModal(){return e.closeModal},children:(P,z)=>{var j=Cd(),R=V(j);R.__click=[kd,s];var D=V(R);Ir(D,{get title(){return l(C)},get yLabel(){return l(k).label},get xLabel(){return l(y)},get limY(){return l(k).lim},get limX(){return l(u).lim},fileName:"plot-contributions",children:(F,G)=>{var K=Ad(),H=J(K);ad(H,{get xValues(){return l(u).values},get yValues(){return l(k).all},lineColor:"#e0e0e0"});var ee=O(H,2);{var X=ye=>{var ue=ge(),me=J(ue);Ye(me,17,r,Xe,(we,se)=>{const ce=E(()=>l(k).all.getcolumn(l(se)+1));Qr(we,{get xValues(){return l(u).values},get yValues(){return l(ce)},lineColor:"#ffdd88"})}),T(ye,ue)};W(ee,ye=>{r().length>0&&ye(X)})}var ie=O(ee,2);Qr(ie,{get xValues(){return l(u).values},get yValues(){return l(k).sel},lineColor:"crimson"});var Q=O(ie,2);pa(Q,{get left(){return l(f)},get top(){return l(k).top},get height(){return l(k).height},get width(){return l(u).width},faceColor:"transparent",borderColor:"transparent"});var ne=O(Q,2);{var ve=ye=>{var ue=Ed(),me=J(ue);const we=E(()=>[l(a)]),se=E(()=>[l(k).top.v[0]]),ce=E(()=>[l(d)]);nl(me,{get xValues(){return l(we)},get yValues(){return l(se)},get labels(){return l(ce)},pos:3,textSize:.85});var le=O(me,2);const xe=E(()=>[l(a)]),We=E(()=>[l(c)]);ol(le,{get xValues(){return l(xe)},get yValues(){return l(We)},faceColor:"crimson",lineColor:"crimson"});var qe=O(le,2);const Pe=E(()=>[l(f).v[l(s)]]),ct=E(()=>[l(k).top.v[l(s)]]);pa(qe,{get left(){return l(Pe)},get top(){return l(ct)},get height(){return l(k).height},get width(){return l(u).width},faceColor:"#ff000015"}),T(ye,ue)};W(ne,ye=>{l(s)>=0&&ye(ve)})}T(F,K)},$$slots:{default:!0}});var U=O(R,4),$=V(U);Me($,{label:"",children:(F,G)=>{ft(F,{id:"type",options:["full","explained","residual"],get value(){return l(o)},set value(K){B(o,te(K))}})},$$slots:{default:!0}}),T(P,j)},$$slots:{default:!0}})};W(I,S=>{l(u)&&l(k)&&S(M)})}T(t,A),be()}Ze(["click"]);var Md=Z("<!> <!> <!> <!>",1),Sd=Z("<p> </p>"),Nd=Z("<!> <p>Computing global model...</p>",1),Td=Z('<p><span style="color:#a0a0a0;">PCA model:</span> </p> <!>',1),Id=Z('<div class="buttons"><!> <!></div>'),Pd=Z("<!> <!>",1),Ld=Z("<p> </p>"),Rd=Z("<!> <!> <!> <!>",1);function jd(t,e){pe(e,!0);let r=q(e,"resobj",15),o=q(e,"model",15),s=q(e,"downloadModel",3,null),a=q(e,"downloadResults",3,null),c=ae("neutral"),d=ae(""),u=ae(1),f=ae(!0),v=ae(!1),m=ae(void 0);async function h(P,z,j,R){B(m,te(e.WASM().then(D=>{B(c,"computing");const U=Yc(D,P.values,z,j,R,e.outliers);U.hash=Is(),U.exclvars=[],U.varlabels=P.varlabels,U.varindices=P.varindices,U.varvalues=P.varvalues,U.varvaluesName=P.varvaluesName,U.varvaluesUnits=P.varvaluesUnits,U.varrev=P.varrev,U.exclvars=[],U.prep=[];const $=Ps(D,U,P,e.outliers);o(U),r($),B(c,"success")}).catch(D=>{o(null),B(c,"error"),console.error(D),B(d,te(D))})))}function g(P){B(c,"neutral"),B(d,null),h(e.dataset,l(u),l(f),l(v))}function p(){B(c,"neutral"),B(m,null),r(null),o(null),B(d,null)}let w=E(()=>e.dataset?Math.min(e.dataset.values.nrows-2-e.outliers.length,e.dataset.values.ncols-1,50):null);De(()=>{e.dataset===null&&p()}),De(()=>{B(u,te(l(w)?Math.min(l(w),20):null))});var b=Rd(),_=J(b);{var k=P=>{var z=Md(),j=J(z);Me(j,{name:"ncomp",label:"# of PCs",children:($,F)=>{lu($,{id:"ncomp",min:1,get max(){return l(w)},step:1,decNum:0,get value(){return l(u)},set value(G){B(u,te(G))}})},$$slots:{default:!0}});var R=O(j,2);Me(R,{name:"center",label:"Center",children:($,F)=>{Vt($,{id:"center",options:["no","yes"],get value(){return l(f)},set value(G){B(f,te(G))}})},$$slots:{default:!0}});var D=O(R,2);Me(D,{name:"scale",label:"Scale",children:($,F)=>{Vt($,{id:"scale",options:["no","yes"],get value(){return l(v)},set value(G){B(v,te(G))}})},$$slots:{default:!0}});var U=O(D,2);Me(U,{name:"create-model",label:" ",children:($,F)=>{Ot($,{onclick:g,text:"Create model"})},$$slots:{default:!0}}),T(P,z)};W(_,P=>{e.dataset&&!o()&&l(c)!=="computing"&&P(k)})}var C=O(_,2);{var y=P=>{var z=ge(),j=J(z);Ql(j,()=>l(m),R=>{Me(R,{name:"spinner",children:(D,U)=>{var $=Nd(),F=J($);Hs(F),T(D,$)},$$slots:{default:!0}})},void 0,(R,D)=>{Me(R,{name:"error",status:"error",children:(U,$)=>{var F=Sd(),G=V(F);re(()=>ke(G,l(D))),T(U,F)},$$slots:{default:!0}})}),T(P,z)};W(C,P=>{l(m)&&P(y)})}var A=O(C,2);{var I=P=>{var z=Pd(),j=J(z);Me(j,{name:"info",children:(U,$)=>{var F=Td(),G=J(F),K=O(V(G)),H=O(G,2);fn(H,{onclick:p}),re(()=>ke(K,` ${o().ncomp??""} PCs${(o().center?", centered":"")??""}${(o().scale?", scaled":"")??""}`)),T(U,F)},$$slots:{default:!0}});var R=O(j,2);{var D=U=>{Me(U,{name:"download-buttons",label:"Download",children:($,F)=>{var G=Id(),K=V(G);Ot(K,{onclick:()=>a()(r(),e.dataset,"train",e.outliers,o()),text:"Results"});var H=O(K,2);Ot(H,{onclick:()=>s()(o()),text:"Model"}),T($,G)},$$slots:{default:!0}})};W(R,U=>{s()&&a()&&U(D)})}T(P,z)};W(A,P=>{o()&&P(I)})}var M=O(A,2);{var S=P=>{Me(P,{name:"error",status:"error",children:(z,j)=>{var R=Ld(),D=V(R);re(()=>ke(D,l(d))),T(z,R)},$$slots:{default:!0}})};W(M,P=>{(l(c)==="error"||l(d))&&P(S)})}T(t,b),be()}var Fd=Z('<div class="msg-select">Click to select an object...</div>'),qd=Z('<div class="msg-select">Click anywhere to remove selection...</div>'),Od=Z('<div class="selected-buttons svelte-8mh2yv"><!></div>'),Vd=Z("<!> <!>",1),Bd=()=>switchPlot(i),zd=(t,e,r)=>B(e,te(l(r))),Dd=Z('<button class="plot-selector svelte-8mh2yv"> </button>'),Yd=Z('<div class="plot-panel svelte-8mh2yv"><div class="plot-area svelte-8mh2yv"><div class="plot svelte-8mh2yv"><!></div> <div class="plot-select-msg svelte-8mh2yv"><!></div></div> <div class="plot-controls-area svelte-8mh2yv"></div></div>');function Ma(t,e){pe(e,!0);let r=q(e,"params",15),o=te({objects:-1,variables:-1}),s=ae(te(Object.keys(e.plots)[0]));function a(k){o.objects=k}function c(k){o.objects=-1}let d={objects:{select:a,unselect:c},variables:{},stats:{}},u=E(()=>l(s)?e.plots[l(s)]:null),f=E(()=>l(u)?l(u).component:null);var v=Yd(),m=V(v),h=V(m),g=V(h);Mo(g,()=>l(f),(k,C)=>{C(k,{get params(){return r()[l(s)]},get callbacks(){return d[l(u).scope]},get selected(){return o[l(u).scope]},get props(){return e.props}})});var p=O(h,2),w=V(p);{var b=k=>{var C=ge(),y=J(C);{var A=M=>{var S=Fd();T(M,S)},I=M=>{var S=qd();T(M,S)};W(y,M=>{o[l(u).scope]<0?M(A):M(I,!1)})}T(k,C)};W(w,k=>{l(u).scope==="objects"&&r()[l(s)].plotType!=="l"&&k(b)})}var _=O(m,2);Ye(_,21,()=>Object.keys(e.plots),Xe,(k,C)=>{var y=ge(),A=J(y);{var I=S=>{var P=Vd(),z=J(P);Eu(z,{get title(){return l(u).label},labelWidth:12,get options(){return e.controls[l(s)]},get value(){return r()[l(s)]},set value(D){r(r()[l(s)]=D,!0)}});var j=O(z,2);{var R=D=>{var U=Od(),$=V(U);Ar($,()=>l(u).buttons,()=>o.objects),T(D,U)};W(j,D=>{l(u).buttons&&o.objects>=0&&D(R)})}T(S,P)},M=S=>{var P=Dd();P.__keydown=[Bd],P.__click=[zd,s,C];var z=V(P);re(()=>ke(z,e.plots[l(C)].label)),T(S,P)};W(A,S=>{l(u)&&l(s)===l(C)?S(I):S(M,!1)})}T(k,y)}),T(t,v),be()}Ze(["keydown","click"]);function Sa(t,e){!e.callbacks||!e.callbacks.select||Nr(t,t.target.tagName,e.callbacks.select)}function Ud(t,e){!e.callbacks||!e.callbacks.unselect||e.callbacks.unselect()}var Wd=de("<text> </text>"),Hd=de('<g class="series series-textlabels"></g>'),Gd=de('<g class="series series-line"><polyline class="line"></polyline></g>'),Kd=de("<rect></rect>"),Xd=de('<g class="series series-bar"></g>'),Qd=de("<text> </text>"),Jd=de('<g class="series series-points series-points1"></g>'),Zd=de('<g class="series series-points series-points1"><text> </text></g>'),$d=de('<g class="series series-bar"><rect></rect></g>'),ev=de('<g class="series series-text"><text> </text></g>'),tv=de('<rect width="100%" height="100%" fill="#ffffffa0"></rect><!><!>',1),rv=de("<!><!><!><!><!>",1);function vn(t,e){pe(e,!0);let r=q(e,"shortenLabels",3,!0),o=q(e,"lineWidth",3,1),s=q(e,"markerSize",3,null),a=q(e,"pch",3,"●"),c=q(e,"colors",3,void 0),d=q(e,"mainColor",19,()=>_a.cal),u=q(e,"faceColor",3,null),f=q(e,"selected",19,()=>-1),v=q(e,"xRange",15),m=q(e,"yRange",15);const h=St("axes"),g=E(()=>_t(e.xValues,"PlotSeries")),p=E(()=>l(g)?_t(e.yValues,"PlotSeries",l(g).length):null);De(()=>{v(l(g)?Vn(l(g)):null),m(l(p)?Vn(l(p)):null)});const w=E(()=>u()===null?e.plotType==="p"?"transparent":"white":u()),b=E(()=>s()?s():e.plotType==="p"?1:.85),_=E(()=>Xo[h.scales().plot]),k=E(()=>rt([0],h.tY())[0]),C=E(()=>Qo([.8],h.tX())[0]),y=E(()=>l(C)/2),A=E(()=>l(_));let I=E(()=>e.plotType==="l"||e.plotType==="b"?$o(l(g),l(p),h.tX(),h.tY()):null),M=E(()=>l(g)?rt(l(g),h.tX()):null),S=E(()=>l(p)?rt(l(p),h.tY()):null),P=E(()=>e.labels&&Array.isArray(e.labels)?r()?e.labels.map(H=>H.slice(0,sl)):e.labels:null),z=E(()=>c()&&c().length===l(g).length?c():Array(l(g).length).fill(d()));const j=E(()=>`font-size:${l(b)}em;fill:${l(w)};cursor:default;text-anchor:middle;stroke-width:2px;user-select:none;`),R=`font-size:0.85em;fill:${xa};cursor:default;text-anchor:middle;stroke:${xa};stroke-width:0.1px;user-select:none;`,D="font-size:1.2em;fill:none;text-anchor:middle;text-anchor:middle;cursor:default;stroke-width:3px;user-select:none;",U=`fill:transparent;stroke-width: ${o()}px;`,$=`stroke-width:${o()}px;`;var F=ge(),G=J(F);{var K=H=>{var ee=rv(),X=J(ee);{var ie=ce=>{var le=Hd();N(le,"style",R),Ye(le,21,()=>l(M),Xe,(xe,We,qe)=>{var Pe=Wd(),ct=V(Pe);re(()=>{N(Pe,"x",l(M)[qe]),N(Pe,"y",l(S)[qe]),N(Pe,"dy",l(p).v[qe]<0?l(A):-l(A)),ke(ct,l(P)[qe])}),T(xe,Pe)}),T(ce,le)};W(X,ce=>{e.showLabels&&l(P)&&ce(ie)})}var Q=O(X);{var ne=ce=>{var le=Gd();N(le,"style",U);var xe=V(le);re(()=>{N(xe,"points",l(I)),N(xe,"stroke",d())}),T(ce,le)};W(Q,ce=>{(e.plotType==="l"||e.plotType==="b")&&ce(ne)})}var ve=O(Q);{var ye=ce=>{var le=Xd();N(le,"style",$),le.__click=[Sa,e],Ye(le,21,()=>l(M),Xe,(xe,We,qe)=>{var Pe=Kd();re(()=>{N(Pe,"x",l(M)[qe]-l(y)),N(Pe,"y",l(p).v[qe]<0?l(k):l(S)[qe]),N(Pe,"fill",l(z)[qe]),N(Pe,"width",l(C)),N(Pe,"height",l(p).v[qe]<0?l(S)[qe]-l(k):l(k)-l(S)[qe])}),T(xe,Pe)}),T(ce,le)};W(ve,ce=>{e.plotType==="h"&&ce(ye)})}var ue=O(ve);{var me=ce=>{var le=Jd();le.__click=[Sa,e],Ye(le,21,()=>l(M),Xe,(xe,We,qe)=>{var Pe=Qd(),ct=V(Pe);re(()=>{N(Pe,"x",l(M)[qe]),N(Pe,"y",l(S)[qe]),N(Pe,"fill",u()),N(Pe,"stroke",l(z)[qe]),ke(ct,a())}),T(xe,Pe)}),re(()=>N(le,"style",l(j))),T(ce,le)};W(ue,ce=>{(e.plotType==="p"||e.plotType==="b")&&ce(me)})}var we=O(ue);{var se=ce=>{var le=tv(),xe=J(le);N(xe,"x",0),N(xe,"y",0),xe.__click=[Ud,e];var We=O(xe);{var qe=st=>{var mt=Zd();N(mt,"style",D);var et=V(mt),Wt=V(et);re(()=>{N(et,"x",l(M)[f()]),N(et,"y",l(S)[f()]),N(et,"stroke",l(z)[f()]),ke(Wt,a())}),T(st,mt)},Pe=st=>{var mt=$d();N(mt,"style",$);var et=V(mt);re(()=>{N(et,"stroke",l(z)[f()]),N(et,"fill",l(z)[f()]),N(et,"x",l(M)[f()]-l(y)),N(et,"y",l(p).v[f()]<0?l(k):l(S)[f()]),N(et,"width",l(C)),N(et,"height",l(p).v[f()]<0?l(S)[f()]-l(k):l(k)-l(S)[f()])}),T(st,mt)};W(We,st=>{e.plotType!=="h"?st(qe):st(Pe,!1)})}var ct=O(We);{var ir=st=>{var mt=ev();N(mt,"style",R);var et=V(mt);N(et,"stroke",ka),N(et,"fill",ka);var Wt=V(et);re(()=>{N(et,"x",l(M)[f()]),N(et,"y",l(S)[f()]),N(et,"dy",l(p).v[f()]<0?l(A):-l(A)),ke(Wt,l(P)[f()])}),T(st,mt)};W(ct,st=>{e.showLabels&&l(P)&&l(P).length>0&&st(ir)})}T(ce,le)};W(we,ce=>{f()>=0&&ce(se)})}T(H,ee)};W(G,H=>{l(M)&&l(S)&&H(K)})}T(t,F),be()}Ze(["click"]);function nv(t,e){pe(e,!0);let r=q(e,"lineColor",3,"#606060"),o=q(e,"lineType",3,2),s=q(e,"alpha",3,.05),a=q(e,"xRange",15),c=q(e,"yRange",15);const d=Ce.seq(0,2*Math.PI,.05);function u(b,_,k,C){const y=b.eigenvals[_-1],A=Dn(1-s(),2),I=Math.sqrt(A*y),M=Ce.zeros(C.length);for(let S=0;S<C.length;S++)M.v[S]=I*k(C.v[S]);return[M,-I,I]}let f=E(()=>e.comp?e.comp[0]:null),v=E(()=>l(f)?u(e.resobj,l(f),Math.cos,d):null);De(()=>{a(l(v)?[l(v)[1],l(v)[2]]:null)});let m=E(()=>e.comp?e.comp[1]:null),h=E(()=>l(m)?u(e.resobj,l(m),Math.sin,d):null);De(()=>{c(l(h)?[l(h)[1],l(h)[2]]:null)});var g=ge(),p=J(g);{var w=b=>{Qr(b,{get xValues(){return l(v)[0]},get yValues(){return l(h)[0]},get lineColor(){return r()},get lineType(){return o()}})};W(p,b=>{l(v)&&l(h)&&b(w)})}T(t,g),be()}function ov(t,e){pe(e,!0);let r=q(e,"confLevel",3,.95),o=q(e,"xRange",15),s=q(e,"yRange",15),a=E(()=>yd(e.xValues,e.yValues,e.groups,e.groupNames,e.groupColors,r()));De(()=>{l(a)?(o(l(a).xRange),s(l(a).yRange)):(o(null),s(null))});var c=ge(),d=J(c);{var u=f=>{var v=ge(),m=J(v);Ye(m,17,()=>l(a).ellipses,Xe,(h,g,p)=>{Qr(h,{get xValues(){return l(g).x},get yValues(){return l(g).y},get lineColor(){return e.groupColors[p]}})}),T(f,v)};W(d,f=>{l(a)&&l(a).ellipses&&f(u)})}T(t,c),be()}var lv=Z("<!> <!> <!> <!> <!> <!>",1);function Na(t,e){pe(e,!0);let r=q(e,"alpha",3,.05),o=E(()=>e.props&&e.props.data?e.props.data:null),s=E(()=>e.props&&e.props.res?e.props.res:null),a=E(()=>e.params&&e.params.resID?l(s)[e.params.resID]:null),c=E(()=>e.params&&e.params.resID?l(o)[e.params.resID]:null);function d(F,G,K,H,ee){if(!K)return null;let X=K[0],ie=K[1];F&&H&&(X=Math.min(X,H[0]),ie=Math.max(ie,H[1])),G!=="none"&&ee&&(X=Math.min(X,ee[0]),ie=Math.max(ie,ee[1]));const Q=(ie-X)*.1;return{min:X,max:ie,d:Q}}function u(F,G){if(!(!F||!G||G<1||G>F.ncomp))return new Ce(cn(F,"scores",G))}let f=ae(void 0),v=ae(void 0),m=ae(void 0),h=ae(void 0),g=ae(void 0),p=ae(void 0),w=E(()=>l(s)?Ue(l(a).objindices):null),b=E(()=>l(a)?l(a).objlabels.map(F=>F.slice(0,sl)):null),_=E(()=>u(l(a),e.params.comp1)),k=E(()=>e.params.plotType==="p"?l(_):l(w)),C=E(()=>e.params.comp2?e.params.comp2:null),y=E(()=>u(l(a),l(C))),A=E(()=>Aa(l(c),l(a),e.params.colorBy,e.params.colorByVar,e.params.resID)),I=E(()=>e.params.plotType==="p"?Ea(l(a),e.params.comp1):"Objects"),M=E(()=>Ea(l(a),e.params.comp2)),S=E(()=>d(e.params.showEllipse,e.params.confEllipse,l(f),l(m),l(g))),P=E(()=>l(S)?[l(S).min-l(S).d,l(S).max+l(S).d]:[0,1]),z=E(()=>d(e.params.showEllipse,e.params.confEllipse,l(v),l(h),l(p))),j=E(()=>l(z)?[l(z).min-l(z).d,l(z).max+l(z).d*(1+(e.params.colorBy!=="none"))]:[0,1]),R=E(()=>e.params.plotType==="l"||e.params.colorBy==="none"||!l(A)?"Scores":e.params.colorBy==="groups"?"Scores (colored by groups)":"Scores (colored by "+l(A).varname+(l(c).varvaluesUnits?" "+l(c).varvaluesUnits:"")+")");var D=ge(),U=J(D);{var $=F=>{Ir(F,{get title(){return l(R)},get limX(){return l(P)},get limY(){return l(j)},get xLabel(){return l(I)},get yLabel(){return l(M)},fileName:"plot-scores",get onclick(){return e.callbacks.unselectObject},children:(G,K)=>{var H=lv(),ee=J(H);const X=E(()=>[l(P)[0]]),ie=E(()=>[l(P)[1]]);Tr(ee,{get xStart(){return l(X)},get xEnd(){return l(ie)},yStart:[0],yEnd:[0],lineColor:Jr});var Q=O(ee,2);{var ne=le=>{const xe=E(()=>[l(j)[0]]),We=E(()=>[l(j)[1]]);Tr(le,{xStart:[0],xEnd:[0],get yStart(){return l(xe)},get yEnd(){return l(We)},lineColor:Jr})};W(Q,le=>{e.params.plotType==="p"&&le(ne)})}var ve=O(Q,2);{var ye=le=>{const xe=E(()=>[e.params.comp1,e.params.comp2]);nv(le,{get alpha(){return r()},get resobj(){return l(a)},get comp(){return l(xe)},get xRange(){return l(m)},set xRange(We){B(m,te(We))},get yRange(){return l(h)},set yRange(We){B(h,te(We))}})};W(ve,le=>{e.params.showEllipse&&e.params.plotType==="p"&&le(ye)})}var ue=O(ve,2);{var me=le=>{const xe=E(()=>Number.parseInt(e.params.confEllipse)/100);ov(le,{get xValues(){return l(k)},get yValues(){return l(y)},get confLevel(){return l(xe)},get groups(){return l(a).classes},get groupNames(){return l(a).classNames},get groupColors(){return l(A).map},get xRange(){return l(g)},set xRange(We){B(g,te(We))},get yRange(){return l(p)},set yRange(We){B(p,te(We))}})};W(ue,le=>{e.params.colorBy==="groups"&&e.params.confEllipse!=="none"&&e.params.plotType==="p"&&l(A)&&le(me)})}var we=O(ue,2);vn(we,{get xValues(){return l(k)},get yValues(){return l(y)},get labels(){return l(b)},get selected(){return e.selected},get callbacks(){return e.callbacks},get plotType(){return e.params.plotType},get showLabels(){return e.params.showLabels},get colors(){return l(A).colors},get xRange(){return l(f)},set xRange(le){B(f,te(le))},get yRange(){return l(v)},set yRange(le){B(v,te(le))}});var se=O(we,2);{var ce=le=>{const xe=E(()=>l(A).breaks!==null);ba(le,{get show(){return l(xe)},get colmap(){return l(A).map},get breaks(){return l(A).breaks},get labels(){return l(A).labels}})};W(se,le=>{l(A)&&le(ce)})}T(G,H)},$$slots:{default:!0}})};W(U,F=>{l(k)&&l(y)&&F($)})}T(t,D),be()}var sv=Z("<!> <!> <!>",1);function av(t,e){pe(e,!0);let r=E(()=>e.props?e.props.model:null);function o(y,A){return!y||!A||A<1||A>y.ncomp?null:new Ce(It(y,"loadings",A))}let s=ae(void 0),a=ae(void 0),c=E(()=>l(r)?Ue(l(r).varvalues):null),d=E(()=>l(r)?Ue(l(r).varindices):null),u=E(()=>o(l(r),e.params.comp1)),f=E(()=>!l(r)||!e.params.comp1?null:e.params.plotType==="p"?{values:l(u),label:`PC${e.params.comp1}`}:e.params.plotType==="l"&&l(c)?{values:l(c),label:l(r).varvaluesName+(l(r).varvaluesUnits?", "+l(r).varvaluesUnits:"")}:{values:l(d),label:"Variables"}),v=E(()=>l(f)?l(f).values:null),m=E(()=>l(f)?l(f).label:null),h=E(()=>o(l(r),e.params.comp2)),g=E(()=>`PC${e.params.comp2}`),p=E(()=>{if(l(a)&&l(a)[0]<Number.POSITIVE_INFINITY&&l(a)[1]>Number.NEGATIVE_INFINITY){const y=(l(a)[1]-l(a)[0])*.1;return[l(a)[0]-y,l(a)[1]+y]}else return[0,1]}),w=E(()=>{if(l(s)&&l(s)[0]<Number.POSITIVE_INFINITY&&l(s)[1]>Number.NEGATIVE_INFINITY){const y=(l(s)[1]-l(s)[0])*.1;return e.params.plotType==="l"&&l(r).varrev?[l(s)[1]+y,l(s)[0]-y]:[l(s)[0]-y,l(s)[1]+y]}else return[0,1]}),b=E(()=>{if(e.params.axesEqual)if(e.params.plotType==="p"){const y=Math.max(Math.abs(l(w)[0]),Math.abs(l(p)[0]),l(w)[1],l(p)[1])*1.05;return{x:[-y,y],y:[-y,y]}}else{const y=Math.max(Math.abs(l(p)[0]),l(p)[1])*1.05;return{x:l(w),y:[-y,y]}}return{x:l(w),y:l(p)}});var _=ge(),k=J(_);{var C=y=>{Ir(y,{title:"Loadings",fileName:"plot-loadings",get xLabel(){return l(m)},get yLabel(){return l(g)},get limX(){return l(b).x},get limY(){return l(b).y},children:(A,I)=>{var M=sv(),S=J(M);const P=E(()=>[l(b).x[0]]),z=E(()=>[l(b).x[1]]);Tr(S,{get xStart(){return l(P)},get xEnd(){return l(z)},yStart:[0],yEnd:[0],lineColor:Jr});var j=O(S,2);{var R=U=>{const $=E(()=>[l(b).y[0]]),F=E(()=>[l(b).y[1]]);Tr(U,{xStart:[0],xEnd:[0],get yStart(){return l($)},get yEnd(){return l(F)},lineColor:Jr})};W(j,U=>{e.params.plotType==="p"&&U(R)})}var D=O(j,2);vn(D,{get xValues(){return l(v)},get yValues(){return l(h)},get selected(){return e.selected},seriesTitle:"loadings",get plotType(){return e.params.plotType},get showLabels(){return e.params.showLabels},get labels(){return l(r).varlabels},shortenLabels:!1,get xRange(){return l(s)},set xRange(U){B(s,te(U))},get yRange(){return l(a)},set yRange(U){B(a,te(U))}}),T(A,M)},$$slots:{default:!0}})};W(k,y=>{l(v)&&l(h)&&y(C)})}T(t,_),be()}var iv=Z("<!> <!> <!> <!> <!> <!> <!>",1);function Ta(t,e){pe(e,!0),q(e,"alpha",3,.05);const r="#2679B2",o="#D22C2F",s="#667892",a="#927866";let c=E(()=>e.props?e.props.model:null),d=E(()=>e.props?e.props.res:null),u=E(()=>l(d)?l(d)[e.params.resID]:null);function f(I,M){return`PC${M} (${(I.stat.expvar[M-1]*100).toFixed(1)}%)`}function v(I,M,S){if(!M||!S||I<1||I>l(d).ncomp)return null;const P=cn(M,"scores",I).slice(),z=It(S,"loadings",I),j=P.length,R=z.length;let D=Number.POSITIVE_INFINITY,U=Number.NEGATIVE_INFINITY;const $=new Array(j);for(let Q=0;Q<j;Q++)P[Q]=P[Q]/Math.sqrt(l(m)[I-1]*(j-1)),D>P[Q]&&(D=P[Q]),U<P[Q]&&(U=P[Q]),$[Q]=P[Q]<0?1:3;const F=new Array(j);for(let Q=0;Q<R;Q++)D>z[Q]&&(D=z[Q]),U<z[Q]&&(U=z[Q]),F[Q]=z[Q]<0?1:3;const G=new Ce(P),K=new Ce(z),H=f(M,I),ee=(U-D)/15,X=[D-ee,U+ee],ie=Math.max(Math.abs(X[0]),X[1]);return{values:G,end:K,lim:X,label:H,tpos:$,ppos:F,mx:ie}}let m=E(()=>l(c)?It(l(c),"eigenvals"):null),h=E(()=>l(u)?Ce.zeros(l(u).ncols):null),g=E(()=>l(u)?Ce.zeros(l(u).ncols):null),p=E(()=>v(e.params.comp1,l(u),l(c))),w=E(()=>v(e.params.comp2,l(u),l(c))),b=E(()=>l(p)&&l(w)?Math.max(l(p).mx,l(w).mx)*1.05:0),_=E(()=>l(p)?e.params.axesEqual?[-l(b),l(b)]:l(p).lim:[0,1]),k=E(()=>l(w)?e.params.axesEqual?[-l(b),l(b)]:l(w).lim:[0,1]);var C=ge(),y=J(C);{var A=I=>{Ir(I,{get limX(){return l(_)},get limY(){return l(k)},get xLabel(){return l(p).label},get yLabel(){return l(w).label},fileName:"plot-biplot",title:"Bi-plot (scores and loadings)",children:(M,S)=>{var P=iv(),z=J(P);const j=E(()=>[l(_)[0]]),R=E(()=>[l(_)[1]]);Tr(z,{get xStart(){return l(j)},get xEnd(){return l(R)},yStart:[0],yEnd:[0],lineColor:Jr});var D=O(z,2);const U=E(()=>[l(k)[0]]),$=E(()=>[l(k)[1]]);Tr(D,{xStart:[0],xEnd:[0],get yStart(){return l(U)},get yEnd(){return l($)},lineColor:Jr});var F=O(D,2);ol(F,{get xValues(){return l(p).values},get yValues(){return l(w).values},lineColor:o,borderWidth:1.5});var G=O(F,2);Tr(G,{get xStart(){return l(h)},get yStart(){return l(g)},get xEnd(){return l(p).end},get yEnd(){return l(w).end},lineColor:r});var K=O(G,2);ol(K,{get xValues(){return l(p).end},get yValues(){return l(w).end},marker:1,lineColor:r,faceColor:r,markerSize:.4});var H=O(K,2);{var ee=Q=>{nl(Q,{get xValues(){return l(p).values},get yValues(){return l(w).values},get labels(){return l(u).objlabels},get pos(){return l(w).tpos},textSize:.75,faceColor:a})};W(H,Q=>{(e.params.showLabels==="obj"||e.params.showLabels==="both")&&Q(ee)})}var X=O(H,2);{var ie=Q=>{nl(Q,{get xValues(){return l(p).end},get yValues(){return l(w).end},get labels(){return l(u).varlabels},textSize:.75,get pos(){return l(w).ppos},faceColor:s})};W(X,Q=>{(e.params.showLabels==="var"||e.params.showLabels==="both")&&Q(ie)})}T(M,P)},$$slots:{default:!0}})};W(y,I=>{l(p)&&l(w)&&I(A)})}T(t,C),be()}var cv=Z("<!> <!> <!> <!>",1);function Ia(t,e){pe(e,!0);let r=E(()=>e.props?e.props.res:null),o=E(()=>l(r)?l(r)[e.params.resID]:null);const s=[-.05,1.1],a={expvar:"Explained variance",resvar:"Residual variance",cumexpvar:"Cumulative explained variance",cumresvar:"Cumulative residual variance"};let c=E(()=>e.params.varForm==="cumulative"?"cum":""),d=E(()=>e.params.varType==="explained"?"exp":"res"),u=E(()=>l(c)+l(d)+"var"),f=E(()=>a[l(u)]),v=E(()=>l(o).ncomp>1?1-l(o).ncomp*.065:-.1),m=E(()=>l(o).ncomp>1?l(o).ncomp*1.065:2.1),h=E(()=>[l(v),l(m)]),g=E(()=>l(o)?l(o).stat.components:null),p=E(()=>l(o)?Ue(l(o).stat[l(u)]):null),w=E(()=>l(p)?Array.from(l(p).v).map(C=>C.toFixed(C<.1?3:2)):null);var b=ge(),_=J(b);{var k=C=>{const y=E(()=>"plot-"+l(u));Ir(C,{get title(){return l(f)},get limX(){return l(h)},limY:s,get fileName(){return l(y)},whole:!0,children:(A,I)=>{var M=cv(),S=J(M);vn(S,{get xValues(){return l(g)},get yValues(){return l(p)},get labels(){return l(w)},get plotType(){return e.params.plotType},get showLabels(){return e.params.showLabels},get faceColor(){return ya.cal},lineWidth:1.5});var P=O(S,2);ha(P,{showGrid:!0,label:"Number of PCs",whole:!0});var z=O(P,2);ma(z,{showGrid:!0,label:"Variance"});var j=O(z,2);ga(j,{}),T(A,M)},$$slots:{default:!0}})};W(_,C=>{l(g)&&l(p)&&C(k)})}T(t,b),be()}function uv(t,e){pe(e,!0);let r=E(()=>e.props?e.props.model:null);const o={none:"λ",log:"log(λ)",sqrt:"sqrt(λ)"};function s(A,I){const M=l(r).nrows-1;if(I==="none")return A.apply(S=>S*M);if(I==="log")return A.apply(S=>Math.log(S*M));if(I==="sqrt")return A.apply(S=>Math.sqrt(S*M))}let a=E(()=>l(r)?new Ce(It(l(r),"eigenvals")):null),c=E(()=>l(r)?Ce.seq(1,l(r).ncomp):null),d=E(()=>l(a)?s(l(a),e.params.transform):null),u=E(()=>l(d)?Array.from(l(d).v).map(A=>A.toFixed(A<.1?3:2)):null);const f=E(()=>l(r).ncomp>10?l(r).ncomp*.05:.5),v=E(()=>l(r).ncomp>1?1:0),m=E(()=>l(r).ncomp>1?l(r).ncomp:2),h=E(()=>[l(v)-l(f),l(m)+l(f)]);let g=E(()=>l(d)?e.params.transform==="none"?0:l(d).v[l(r).ncomp-1]:0),p=E(()=>l(d)?l(d).v[0]:1),w=E(()=>(l(p)-l(g))/18),b=E(()=>l(d)?[l(g)-l(w),l(p)+l(w)]:[0,1]),_=E(()=>o[e.params.transform]);var k=ge(),C=J(k);{var y=A=>{Ir(A,{get limX(){return l(h)},get limY(){return l(b)},get yLabel(){return l(_)},whole:!0,xLabel:"Number of PCs",title:"Eigenvalues",fileName:"plot-eigenvalues",children:(I,M)=>{vn(I,{get xValues(){return l(c)},get yValues(){return l(d)},get labels(){return l(u)},get plotType(){return e.params.plotType},get showLabels(){return e.params.showLabels},get faceColor(){return ya.cal},lineWidth:1.5})},$$slots:{default:!0}})};W(C,A=>{l(c)&&l(d)&&A(y)})}T(t,k),be()}var fv=Z("<!> <!> <!> <!>",1);function Pa(t,e){pe(e,!0);let r=E(()=>e.props&&e.props.data?e.props.data:null),o=E(()=>e.props&&e.props.res?e.props.res:null),s=E(()=>e.params&&e.params.resID?l(o)[e.params.resID]:null),a=E(()=>e.params&&e.params.resID?l(r)[e.params.resID]:null);const c="#909090",d=100;function u(H,ee,X,ie){if(!H||!ee)return null;const Q=H.length;let ne=Ce.zeros(Q),ve=Number.NEGATIVE_INFINITY,ye=Number.POSITIVE_INFINITY;if(ie==="log")for(let ue=0;ue<Q;ue++){const me=Math.log(1+H[ue]/X);ne.v[ue]=me,ve=Math.max(ve,me),ye=Math.min(ye,me)}else for(let ue=0;ue<Q;ue++){const me=H[ue]/X;ne.v[ue]=me,ve=Math.max(ve,me),ye=Math.min(ye,me)}return{values:ne,min:ye,max:ve}}function f(H,ee){return{q:"Orthogonal distance",h:"Score distance"}[H]+", "+(ee==="log"?"log(1 + "+H+"/"+H+"0)":H+"/"+H+"0")}function v(H,ee,X,ie){const Q=ee+X,ve=Dn(H,Q)/X,ye=-ee/X,ue=-ve/ye,me=Ce.seq(0,ue*1,ue/d),we=me.apply(se=>se*ye+ve);return{x:ie==="log"?me.apply(se=>Math.log(1+se)):me,y:ie==="log"?we.apply(se=>Math.log(1+se)):we}}let m=E(()=>e.params.limType==="classic"?{h:l(s).cNh,q:l(s).cNq}:{h:l(s).rNh,q:l(s).rNq}),h=E(()=>e.params.limType==="classic"?{h:l(s).ch0,q:l(s).cq0}:{h:l(s).rh0,q:l(s).rq0}),g=E(()=>({h:l(m).h[e.params.ncomp-1],q:l(m).q[e.params.ncomp-1]})),p=E(()=>({h:l(h).h[e.params.ncomp-1],q:l(h).q[e.params.ncomp-1]})),w=E(()=>e.params.alpha?1-e.params.alpha/100:.95),b=E(()=>e.params.gamma?1-e.params.gamma/100:.99),_=E(()=>v(l(w),l(g).h,l(g).q,e.params.transType)),k=E(()=>v(Math.pow(l(b),1/l(s).nrows),l(g).h,l(g).q,e.params.transType)),C=E(()=>Aa(l(a),l(s),e.params.colorBy,e.params.colorByVar,e.params.resID,e.params.colorByObj)),y=E(()=>l(s)?cn(l(s),"hdist",e.params.ncomp):null),A=E(()=>l(s)?cn(l(s),"qdist",e.params.ncomp):null),I=E(()=>u(l(y),l(g).h,l(p).h,e.params.transType)),M=E(()=>u(l(A),l(g).q,l(p).q,e.params.transType)),S=E(()=>l(s)?l(s).objlabels.map(H=>H.slice(0,sl)):null),P=E(()=>e.params.title?e.params.title:"Distances (A = "+e.params.ncomp+")"),z=E(()=>f("h",e.params.transType)),j=E(()=>f("q",e.params.transType)),R=ae(void 0),D=ae(void 0),U=E(()=>{if(!l(I)||!l(R))return[0,1];const H=Math.max(l(I).max,l(k).x.v[d-1]);return[-.02*(H-l(R)[0]),1.05*H]}),$=E(()=>{if(!l(M)||!l(D))return[0,1];const H=Math.max(l(M).max,l(k).y.v[0]);return[-.02*(H-l(D)[0]),(1.05+.1*(e.params.colorBy!=="none"))*H]});var F=ge(),G=J(F);{var K=H=>{Ir(H,{get title(){return l(P)},get limX(){return l(U)},get limY(){return l($)},get xLabel(){return l(z)},get yLabel(){return l(j)},fileName:"plot-distance",get onclick(){return e.callbacks.unselectObject},children:(ee,X)=>{var ie=fv(),Q=J(ie);{var ne=se=>{Qr(se,{get xValues(){return l(_).x},get yValues(){return l(_).y},lineColor:c,lineType:2})};W(Q,se=>{l(_)&&se(ne)})}var ve=O(Q,2);{var ye=se=>{Qr(se,{get xValues(){return l(k).x},get yValues(){return l(k).y},lineColor:c,lineType:3})};W(ve,se=>{l(k)&&se(ye)})}var ue=O(ve,2);vn(ue,{get labels(){return l(S)},get selected(){return e.selected},get callbacks(){return e.callbacks},get xValues(){return l(I).values},get yValues(){return l(M).values},plotType:"p",get showLabels(){return e.params.showLabels},get colors(){return l(C).colors},get xRange(){return l(R)},set xRange(se){B(R,te(se))},get yRange(){return l(D)},set yRange(se){B(D,te(se))}});var me=O(ue,2);{var we=se=>{const ce=E(()=>l(C).breaks!==null);ba(se,{get show(){return l(ce)},get colmap(){return l(C).map},get breaks(){return l(C).breaks},get labels(){return l(C).labels}})};W(me,se=>{l(C)&&se(we)})}T(ee,ie)},$$slots:{default:!0}})};W(G,H=>{l(I)&&l(M)&&H(K)})}T(t,F),be()}function La(t){const e=Object.keys(t),r=t[e[0]],o={ncomp:{el:_r,hidden:!1,default:r.ncomp>1?2:1,label:"# PCs",props:{min:1,max:r.ncomp}},resID:{el:ft,hidden:e.length==1,default:e[0],label:"Show",props:{options:e}},transType:{el:ft,hidden:!1,default:"no",label:"Transform",props:{options:["no","log"]}},limType:{el:ft,hidden:!1,default:"classic",label:"Limits",props:{options:["classic","robust"]}},showLabels:{el:Vt,hidden:!1,default:!1,label:"Show labels",props:{options:["hide","show"]}}};return r.classNames&&r.classNames.length>1&&(o.colorBy={el:ft,hidden:!1,default:"none",label:"Color by",props:{options:["none","groups"]}}),o}function dv(t){return{plotType:{el:Hn,hidden:!1,default:"b",label:"Plot type",props:{options:["b","h"]}},transform:{el:ft,hidden:!1,default:"none",label:"Type",props:{options:["none","sqrt","log"]}},showLabels:{el:Vt,hidden:!1,default:!1,label:"Show labels",props:{options:["hide","show"]}}}}function vv(t){return{plotType:{el:Hn,hidden:!1,default:"p",label:"Plot type",props:{options:["p","l","h"]}},comp2:{el:_r,hidden:!1,default:t.ncomp>1?2:1,label:"PC (y-axis)",props:{min:1,max:t.ncomp}},comp1:{el:_r,hidden:!1,default:1,label:"PC (x-axis)",props:{min:1,max:t.ncomp}},showLabels:{el:Vt,hidden:!1,default:!1,label:"Show labels",props:{options:["hide","show"]}},axesEqual:{el:Vt,hidden:!1,default:!1,label:"Axes",props:{options:["normal","equal"]}}}}function Ra(t){const e=Object.keys(t),r=t[e[0]],o=r.classNames&&r.classNames.length>1?["none","groups","variable"]:["none","variable"];return{plotType:{el:Hn,hidden:!1,default:"p",label:"Plot type",props:{options:["p","l","h"]}},comp2:{el:_r,hidden:!1,default:r.ncomp>1?2:1,label:"PC (y-axis)",props:{min:1,max:r.ncomp}},comp1:{el:_r,hidden:!1,default:1,label:"PC (x-axis)",props:{min:1,max:r.ncomp}},resID:{el:ft,hidden:e.length==1,default:e[0],label:"Show",props:{options:e}},showLabels:{el:Vt,hidden:!1,default:!1,label:"Show labels",props:{options:["hide","show"]}},showEllipse:{el:Vt,hidden:!1,default:!1,label:"T2 ellipse",props:{options:["hide","show"]}},colorBy:{el:ft,hidden:!1,default:"none",label:"Color by",props:{options:o}},colorByVar:{el:_r,hidden:!0,default:1,label:"Variable",props:{min:1,max:r.ncols}},confEllipse:{el:ft,hidden:!0,default:"none",label:"Conf ellipse",props:{options:["none","90","95","99"]}}}}function ja(t){const e=Object.keys(t);return t[e[0]],{plotType:{el:Hn,hidden:!1,default:"b",label:"Plot type",props:{options:["b","h"]}},resID:{el:ft,hidden:e.length==1,default:e[0],label:"Show",props:{options:e}},varType:{el:ft,hidden:!1,default:"explained",label:"Type",props:{options:["explained","residual"]}},varForm:{el:ft,hidden:!1,default:"cumulative",label:"Form",props:{options:["individual","cumulative"]}},showLabels:{el:Vt,hidden:!1,default:!1,label:"Show labels",props:{options:["hide","show"]}}}}function Fa(t){const e=Object.keys(t),r=t[e[0]];return{resID:{el:ft,hidden:e.length==1,default:e[0],label:"Show",props:{options:e}},comp2:{el:_r,hidden:!1,default:r.ncomp>1?2:1,label:"PC (y-axis)",props:{min:1,max:r.ncomp}},comp1:{el:_r,hidden:!1,default:1,label:"PC (x-axis)",props:{min:1,max:r.ncomp}},showLabels:{el:ft,hidden:!1,default:"hide",label:"Labels",props:{options:["hide","obj","var","both"]}},axesEqual:{el:Vt,hidden:!1,default:!1,label:"Axes",props:{options:["normal","equal"]}}}}var hv=Z("<!> <!>",1);function mv(t,e){pe(e,!0);const r=(m,h=it)=>{Me(m,{label:"Selected",children:(g,p)=>{Ot(g,{onclick:()=>e.markOutlier(h()),text:"remove"})},$$slots:{default:!0}})},o=(m,h=it)=>{Me(m,{label:"Selected",children:(g,p)=>{var w=hv(),b=J(w);Ot(b,{onclick:()=>e.showContributions(h(),l(u).distance.ncomp),text:"plot"});var _=O(b,2);Ot(_,{onclick:()=>e.markOutlier(h()),text:"remove"}),T(g,w)},$$slots:{default:!0}})};let s={cal:e.resobj},a={cal:e.dataset};const c=E(()=>({scores:{label:"Scores",scope:"objects",component:Na,buttons:r},loadings:{label:"Loadings",scope:"variables",component:av},biplot:{label:"Bi-plot",scope:"stats",component:Ta},variance:{label:"Variance",scope:"stats",component:Ia},eigenvals:{label:"Eigenvalues",scope:"stats",component:uv},distance:{label:"Distances",scope:"objects",component:Pa,buttons:o}})),d=te({scores:Ra(s),loadings:vv(e.model),biplot:Fa(s),variance:ja(s),eigenvals:dv(e.model),distance:La(s)});let u=ae(te({scores:$t(d.scores),loadings:$t(d.loadings),biplot:$t(d.biplot),variance:$t(d.variance),eigenvals:$t(d.eigenvals),distance:$t(d.distance)}));De(()=>{l(u).scores.plotType!=="p"?(d.scores.comp1.hidden=!0,d.scores.showEllipse.hidden=!0,l(u).scores.showEllipse=!1):(d.scores.comp1.hidden=!1,d.scores.showEllipse.hidden=!1),l(u).scores.plotType==="l"||l(u).scores.plotType==="b"?(d.scores.colorBy.hidden=!0,l(u).scores.colorBy="none"):d.scores.colorBy.hidden=!1,l(u).scores.colorBy==="variable"?d.scores.colorByVar.hidden=!1:d.scores.colorByVar.hidden=!0,l(u).scores.colorBy==="groups"&&l(u).scores.plotType==="p"?d.scores.confEllipse.hidden=!1:(d.scores.confEllipse.hidden=!0,l(u).scores.confEllipse="none")}),De(()=>{l(u).loadings.plotType!=="p"?d.loadings.comp1.hidden=!0:d.loadings.comp1.hidden=!1});const f=E(()=>({res:s,model:e.model,data:a})),v={markOutlier:e.markOutlier,showContributions:e.showContributions};Ma(t,{get plots(){return l(c)},get controls(){return d},get props(){return l(f)},callbacks:v,get params(){return l(u)},set params(m){B(u,te(m))}}),be()}var gv=Z('<div class="outliers-pane svelte-1dk0fsp"><!></div>'),pv=Z('<div class="model-calculator svelte-1dk0fsp"><!></div>'),bv=Z('<div class="result-stats svelte-1dk0fsp"><!></div>'),wv=Z(`<p class="svelte-1dk0fsp">In this tab you can train a PCA model and explore how well it describes the training set. After creating the model you can save it to a file and apply it to another, new set of samples, and see how well this new set is explained by the model (tab <strong>Project</strong>).</p> <p class="svelte-1dk0fsp"><strong>Step 1.</strong></p> <p class="svelte-1dk0fsp">Load your training set from a CSV file. The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.</p> <p class="svelte-1dk0fsp">First row in the CSV file can contain variable labels or values (<strong>header</strong>). It is assumed that variable lables are text (or have text parts), e.g. <em>"Na"</em>, <em>"OD260"</em>, etc. If variables are part of signals, e.g. spectra, the header can content numeric values, e.g. wavelength or wavenumbers. If this is the case, select <em>values</em> option for the header. In this case you will also be able to specify name of the values (e.g. <em>Wavelength</em>) and units (e.g. <em>nm</em>) if necessary.</p> <p class="svelte-1dk0fsp">First column in the file can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. It is also possible to have group labels, which you can use, for example, to color group samples on the score plot. Here is an example how data structure may look like (note, that column with group, row labels and header are optional):</p> <div class="svelte-1dk0fsp"><table class="svelte-1dk0fsp"><thead class="svelte-1dk0fsp"><tr class="svelte-1dk0fsp"><td class="svelte-1dk0fsp">Name</td><td class="svelte-1dk0fsp">Group</td><td class="svelte-1dk0fsp">x1</td><td class="svelte-1dk0fsp">x2</td><td class="svelte-1dk0fsp">x3</td></tr></thead><tbody class="svelte-1dk0fsp"><tr><td class="svelte-1dk0fsp">O1</td><td class="svelte-1dk0fsp">A</td><td class="svelte-1dk0fsp">3.8</td><td class="svelte-1dk0fsp">1.3</td><td class="svelte-1dk0fsp">13.6</td></tr><tr><td class="svelte-1dk0fsp">O2</td><td class="svelte-1dk0fsp">A</td><td class="svelte-1dk0fsp">11.1</td><td class="svelte-1dk0fsp">12.3</td><td class="svelte-1dk0fsp">3.3</td></tr><tr><td class="svelte-1dk0fsp">O3</td><td class="svelte-1dk0fsp">A</td><td class="svelte-1dk0fsp">1.2</td><td class="svelte-1dk0fsp">2.3</td><td class="svelte-1dk0fsp">4.2</td></tr></tbody></table></div> <p class="svelte-1dk0fsp"></p>`,1),_v=Z('<p class="svelte-1dk0fsp"><strong>Step 2</strong></p> <p class="svelte-1dk0fsp">Next step is to create a global PCA model for the training set. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to select number of components for every plot.</p>',1),yv=Z('<div class="help-text svelte-1dk0fsp"><!></div>'),xv=Z('<!> <div class="app-container svelte-1dk0fsp"><div class="app-controls svelte-1dk0fsp"><div class="data-loader svelte-1dk0fsp"><!></div> <!> <!> <!></div> <div class="app-content svelte-1dk0fsp"><!></div></div>',1);function kv(t,e){pe(e,!0);let r=q(e,"s",15),o=ae(-1),s=ae(1),a=ae(!1);function c(R){if(R<0||R>r().resobj.nrows-1)return;const D=r().resobj.objindices[R];D>=0&&!r().outliers.includes(D)&&(r().outliers.push(D),r(r().model=null,!0))}function d(R,D){R<0||(B(o,te(R)),B(a,!0))}function u(){B(a,!1),B(o,-1),B(s,1)}function f(){r(r().outliers=[],!0),r(r().model=null,!0)}function v(){r().outliers.pop(),r(r().model=null,!0)}De(()=>{r().dataset===null&&(r(r().model=null,!0),r(r().outliers=[],!0)),r().model===null&&r(r().resobj=null,!0)});var m=xv(),h=J(m);{var g=R=>{Ca(R,Gr(r,{get ncomp(){return l(s)},get selected(){return l(o)},closeModal:u}))};W(h,R=>{l(a)&&R(g)})}var p=O(h,2),w=V(p),b=V(w),_=V(b);Ks(_,{className:"Group",get dataset(){return r().dataset},set dataset(R){r(r().dataset=R,!0)}});var k=O(b,2);{var C=R=>{var D=gv(),U=V(D);Qs(U,{get outliers(){return r().outliers},get dataset(){return r().dataset},resetOutliers:f,undoOutliers:v}),T(R,D)};W(k,R=>{r().outliers&&r().outliers.length>0&&R(C)})}var y=O(k,2);{var A=R=>{var D=pv(),U=V(D);jd(U,{get WASM(){return e.WASM},downloadModel:Jc,downloadResults:Fs,get dataset(){return r().dataset},get outliers(){return r().outliers},get model(){return r().model},set model($){r(r().model=$,!0)},get resobj(){return r().resobj},set resobj($){r(r().resobj=$,!0)}}),T(R,D)};W(y,R=>{r().dataset&&R(A)})}var I=O(y,2);{var M=R=>{var D=bv(),U=V(D);Xs(U,{get resobj(){return r().resobj}}),T(R,D)};W(I,R=>{r().resobj&&R(M)})}var S=O(w,2),P=V(S);{var z=R=>{var D=yv(),U=V(D);{var $=G=>{var K=wv();T(G,K)},F=G=>{var K=ge(),H=J(K);{var ee=X=>{var ie=_v();T(X,ie)};W(H,X=>{r().model||X(ee)})}T(G,K)};W(U,G=>{r().dataset?G(F,!1):G($)})}T(R,D)},j=R=>{var D=ge(),U=J(D);Fn(U,()=>r().resobj,$=>{mv($,Gr({markOutlier:c,showContributions:d},r))}),T(R,D)};W(P,R=>{!r().resobj||!r().model?R(z):R(j,!1)})}T(t,m),be()}var Ev=Z("<!> <!>",1),Av=Z('<p class="info-text svelte-3v2vv7"><span>Model file:</span> <span class="file-name svelte-3v2vv7"> </span><br> <span style="color:#a0a0a0;">Model info:</span> </p> <!>',1),Cv=Z("<p><!></p>"),Mv=Z("<!> <!>",1);function Sv(t,e){pe(e,!0);let r=q(e,"model",15),o=ae(""),s=ae("neutral"),a=ae("");function c(b){try{const _=JSON.parse(b,js);if(Array.isArray(_.v)&&(_.v=Float64Array.from(_.v)),!Object.keys(_).includes("class")||_.class[0]!=="pcamodel")throw Error("The JSON file you selected does not contain PCA model.");_.fileName=l(f),r(_),B(s,"success"),B(a,"")}catch(_){console.log(_),r(null),B(s,"error"),B(a,te(_))}}function d(b){const _=new FileReader;_.onload=()=>{c(_.result)},_.readAsText(l(o))}function u(){B(o,""),r(null),B(s,"neutral"),B(a,"")}De(()=>{l(o)===null?(r(null),B(s,"neutral"),B(a,"")):(B(s,"neutral"),B(a,""))});let f=E(()=>l(o)?l(o).name.replace(/\.[^/.]+$/,""):"");var v=Mv(),m=J(v);{var h=b=>{var _=Ev(),k=J(_);Fn(k,()=>l(o),A=>{Me(A,{name:"file-selector",children:(I,M)=>{Us(I,{id:"modelFile",acceptType:".json",message:"Select file with model",get file(){return l(o)},set file(S){B(o,te(S))}})},$$slots:{default:!0}})});var C=O(k,2);{var y=A=>{Me(A,{name:"load-button",label:" ",children:(I,M)=>{Ot(I,{onclick:d,text:"Load"})},$$slots:{default:!0}})};W(C,A=>{l(o)&&A(y)})}T(b,_)},g=b=>{Me(b,{name:"info",class:"info",children:(_,k)=>{var C=Av(),y=J(C),A=O(V(y),2),I=V(A),M=O(A,4),S=O(y,2);fn(S,{onclick:u}),re(()=>{N(A,"title",r().fileName),ke(I,r().fileName),ke(M,` ${r().ncomp??""} PCs${(r().center?", centered":"")??""}${(r().scale?", scaled":"")??""}`)}),T(_,C)},$$slots:{default:!0}})};W(m,b=>{r()?b(g,!1):b(h)})}var p=O(m,2);{var w=b=>{Me(b,{name:"error",status:"error",children:(_,k)=>{var C=Cv(),y=V(C);ht(y,()=>l(a),!1,!1),T(_,C)},$$slots:{default:!0}})};W(p,b=>{(l(s)==="error"||l(a))&&b(w)})}T(t,v),be()}var Nv=Z("<!> <!>",1);function Tv(t,e){pe(e,!0);const r=(m,h=it)=>{Me(m,{label:"Selected",children:(g,p)=>{Ot(g,{onclick:()=>e.markOutlier(h()),text:"remove"})},$$slots:{default:!0}})},o=(m,h=it)=>{Me(m,{label:"Selected",children:(g,p)=>{var w=Nv(),b=J(w);Ot(b,{onclick:()=>e.showContributions(h(),l(u).distance.ncomp),text:"plot"});var _=O(b,2);Ot(_,{onclick:()=>e.markOutlier(h()),text:"remove"}),T(g,w)},$$slots:{default:!0}})};let s={new:e.resobj},a={new:e.dataset};const c=E(()=>({scores:{label:"Scores",scope:"objects",component:Na,buttons:r},biplot:{label:"Bi-plot",scope:"stats",component:Ta},variance:{label:"Variance",scope:"stats",component:Ia},distance:{label:"Distances",scope:"objects",component:Pa,buttons:o}})),d=te({scores:Ra(s),biplot:Fa(s),variance:ja(s),distance:La(s)});let u=ae(te({scores:$t(d.scores),biplot:$t(d.biplot),variance:$t(d.variance),distance:$t(d.distance)}));De(()=>{l(u).scores.plotType!=="p"?(d.scores.comp1.hidden=!0,d.scores.showEllipse.hidden=!0,l(u).scores.showEllipse=!1):(d.scores.comp1.hidden=!1,d.scores.showEllipse.hidden=!1),l(u).scores.plotType==="l"||l(u).scores.plotType==="b"?(d.scores.colorBy.hidden=!0,l(u).scores.colorBy="none"):d.scores.colorBy.hidden=!1,l(u).scores.colorBy==="variable"?d.scores.colorByVar.hidden=!1:d.scores.colorByVar.hidden=!0,l(u).scores.colorBy==="groups"&&l(u).scores.plotType==="p"?d.scores.confEllipse.hidden=!1:(d.scores.confEllipse.hidden=!0,l(u).scores.confEllipse="none")});const f=E(()=>({res:s,model:e.model,data:a})),v={markOutlier:e.markOutlier,showContributions:e.showContributions};Ma(t,{get plots(){return l(c)},get controls(){return d},get props(){return l(f)},callbacks:v,get params(){return l(u)},set params(m){B(u,te(m))}}),be()}var Iv=Z('<div class="data-loader svelte-1mqkfgh"><!></div>'),Pv=Z('<div class="outliers-pane svelte-1mqkfgh"><!></div>'),Lv=Z('<div class="buttons"><!></div>'),Rv=Z('<div class="model-dowloader svelte-1mqkfgh"><!></div> <div class="result-stats svelte-1mqkfgh"><!></div>',1),jv=Z('<p class="svelte-1mqkfgh"><strong>Step 1.</strong></p> <p class="svelte-1mqkfgh">Load file with PCA model you created earlier in tab <strong>Train</strong></p>',1),Fv=Z('<p class="svelte-1mqkfgh"><strong>Step 2.</strong></p> <p class="svelte-1mqkfgh">Load your dataset set from a CSV file. The interface and selection steps are similar to the ones you used in <em>Train</em> tab. However, in this case you do not need to specify all details for header, just select if the new dataset has header as a first row or not. All values will be inherited from the model object.</p> <p class="svelte-1mqkfgh"><strong>It is important that the new dataset has same variables as the training set used to create the model.</strong></p>',1),qv=Z('<div class="help-text svelte-1mqkfgh"><p class="svelte-1mqkfgh">In this tab you can project new data points to a previosly trained PCA model and explore main outcomes: scores, distances and variances.</p> <!> <p class="svelte-1mqkfgh"></p></div>'),Ov=Z('<!> <div class="app-container svelte-1mqkfgh"><div class="app-controls svelte-1mqkfgh"><div class="model-loader svelte-1mqkfgh"><!></div> <!> <!> <!></div> <div class="app-content svelte-1mqkfgh"><!></div></div>',1);function Vv(t,e){pe(e,!0);let r=q(e,"s",15),o=ae(-1),s=ae(1),a=ae(!1);function c(R){if(R<0||R>r().resobj.nrows-1)return;const D=r().resobj.objindices[R];D>=0&&!r().outliers.includes(D)&&(r().outliers.push(D),r(r().resobj=null,!0))}function d(R,D){R<0||(B(o,te(R)),B(a,!0))}function u(){B(a,!1),B(o,-1),B(s,1)}function f(){r(r().outliers=[],!0),r(r().resobj=null,!0)}function v(){r().outliers.pop(),r(r().resobj=null,!0)}De(()=>{r().model===null&&r(r().dataset=null,!0),r().dataset===null&&(r(r().outliers=[],!0),r(r().resobj=null,!0))});var m=Ov(),h=J(m);{var g=R=>{Ca(R,Gr(r,{get ncomp(){return l(s)},get selected(){return l(o)},closeModal:u}))};W(h,R=>{l(a)&&R(g)})}var p=O(h,2),w=V(p),b=V(w),_=V(b);Sv(_,{get model(){return r().model},set model(R){r(r().model=R,!0)}});var k=O(b,2);{var C=R=>{var D=Iv(),U=V(D);Ks(U,{get outliers(){return r().outliers},get WASM(){return e.WASM},get model(){return r().model},className:"Group",get dataset(){return r().dataset},set dataset($){r(r().dataset=$,!0)},get resobj(){return r().resobj},set resobj($){r(r().resobj=$,!0)}}),T(R,D)};W(k,R=>{r().model&&R(C)})}var y=O(k,2);{var A=R=>{var D=Pv(),U=V(D);Qs(U,{get dataset(){return r().dataset},get outliers(){return r().outliers},resetOutliers:f,undoOutliers:v}),T(R,D)};W(y,R=>{r().outliers&&r().outliers.length>0&&R(A)})}var I=O(y,2);{var M=R=>{var D=Rv(),U=J(D),$=V(U);Me($,{label:"Download",children:(K,H)=>{var ee=Lv(),X=V(ee);Ot(X,{text:"Results",onclick:()=>Fs(r().resobj,r().dataset,"new",r().outliers)}),T(K,ee)},$$slots:{default:!0}});var F=O(U,2),G=V(F);Xs(G,{get resobj(){return r().resobj}}),T(R,D)};W(I,R=>{r().resobj&&R(M)})}var S=O(w,2),P=V(S);{var z=R=>{var D=qv(),U=O(V(D),2);{var $=G=>{var K=jv();T(G,K)},F=G=>{var K=ge(),H=J(K);{var ee=X=>{var ie=Fv();T(X,ie)};W(H,X=>{r().dataset||X(ee)},!0)}T(G,K)};W(U,G=>{r().model?G(F,!1):G($)})}T(R,D)},j=R=>{var D=ge(),U=J(D);Fn(U,()=>r().resobj,$=>{Tv($,Gr({markOutlier:c,showContributions:d},r))}),T(R,D)};W(P,R=>{r().resobj?R(j,!1):R(z)})}T(t,m),be()}function qa(t,e){B(e,!0)}function Bv(t,e,r){window.localStorage.removeItem(e.appID+"-blocked"),window.localStorage.removeItem(e.appID),B(r,te(e.initSession()))}function zv(t,e,r){const o=Go(new Date),s=e.appID+"-session-"+o+".json";l(r).date=o;const a=JSON.stringify(l(r),Rs),c=new Blob([a],{type:"text/json"}),d=window.URL.createObjectURL(c),u=document.createElement("a");u.setAttribute("href",d),u.setAttribute("download",s),u.click()}var Dv=Z('<sup style="color:red">β</sup>'),Yv=Z('<li class="nav-item svelte-1946064"><button class="svelte-1946064"> </button></li>'),Uv=Z('<div class="tab-content svelte-1946064"><!></div>'),Wv=Z('<div class="info-container svelte-1946064"><!></div>'),Hv=Z('<div class="page svelte-1946064"><header class="page-header svelte-1946064"><div class="header-group svelte-1946064"><img class="logo svelte-1946064" src="logo.svg"> <h1 class="svelte-1946064"> <!></h1> <p class="svelte-1946064"> </p></div> <ul class="nav svelte-1946064"></ul></header> <main class="svelte-1946064"></main> <footer class="svelte-1946064"><div class="session svelte-1946064"><span class="session-message svelte-1946064"> </span> <label title="load session from file" class="upload-button svelte-1946064"><input type="file" class="svelte-1946064">⬆</label> <button title="download session as a file" class="download-button svelte-1946064">⬇</button> <button title="reset all sessions" class="clear-button svelte-1946064">✖</button></div> <div class="info svelte-1946064"><button class="button-info svelte-1946064">info</button> <!></div></footer> <!></div>');function Gv(t,e){pe(e,!0);let r=q(e,"tabs",19,()=>[]),o=q(e,"isBeta",3,!1),s=ae(!1),a=ae(void 0),c=ae("Current session "),d=ae(!1);function u(){B(s,!1)}function f(_){l(a).tab=_}function v(){l(a).date=Go(new Date),window.localStorage.setItem(e.appID,JSON.stringify(l(a),Rs)),window.localStorage.removeItem(e.appID+"-blocked")}function m(){if(window.localStorage.getItem(e.appID+"-blocked")){B(a,te(e.initSession()));return}h(window.localStorage.getItem(e.appID)),window.localStorage.setItem(e.appID+"-blocked","yes"),B(c,"Last session is restored "),B(d,!0),setTimeout(()=>{B(c,"Current session "),B(d,!1)},2e3)}function h(_){if(!_||_==="undefined"){B(a,te(e.initSession()));return}const k=JSON.parse(_,js);B(a,te(e.checkSession(k)?k:e.initSession(e.appID)))}function g(_){e.resetSession(l(a));const k=new FileReader;k.onload=()=>{h(k.result),_.target.value=""},k.readAsText(_.target.files[0])}pc(()=>{v()}),ss(()=>{m()});var p=ge();mr("beforeunload",Cn,v);var w=J(p);{var b=_=>{var k=Hv(),C=V(k),y=V(C),A=V(y),I=O(A,2),M=V(I),S=O(M);{var P=ue=>{var me=Dv();T(ue,me)};W(S,ue=>{o()&&ue(P)})}var z=O(I,2),j=V(z),R=O(y,2);Ye(R,21,r,Xe,(ue,me,we)=>{var se=Yv(),ce=V(se);ce.__click=()=>f(we),ce.__keydown=()=>f(we);var le=V(ce);re(()=>{xt(se,"selected",l(a).tab===we),ke(le,l(me).name)}),T(ue,se)});var D=O(C,2);Ye(D,21,r,Xe,(ue,me,we)=>{var se=Uv(),ce=V(se);Mo(ce,()=>l(me).component,(le,xe)=>{xe(le,{get WASM(){return e.WASM},get s(){return l(a)[l(me).label]}})}),re(()=>xt(se,"hidden",l(a).tab!==we)),T(ue,se)});var U=O(D,2),$=V(U),F=V($),G=V(F),K=O(F,2),H=V(K);H.__change=g;var ee=O(K,2);ee.__click=[zv,e,a];var X=O(ee,2);X.__click=[Bv,e,a];var ie=O($,2),Q=V(ie);Q.__click=[qa,s],Q.__keydown=[qa,s];var ne=O(Q,2);Ar(ne,()=>e.footer);var ve=O(U,2);{var ye=ue=>{wa(ue,{closeModal:u,children:(me,we)=>{var se=Wv(),ce=V(se);Ar(ce,()=>e.info),T(me,se)},$$slots:{default:!0}})};W(ve,ue=>{l(s)&&ue(ye)})}re(()=>{N(A,"alt",e.appShortTitle),ke(M,e.appTitle),ke(j,e.appSlogan),xt($,"no-buttons",l(d)),ke(G,l(c))}),T(_,k)};W(w,_=>{l(a)&&_(b)})}T(t,p),be()}Ze(["click","keydown","change"]);const n1="modulepreload",o1=function(t){return"/"+t},l1={},Kv=function(e,r,o){let s=Promise.resolve();function a(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var Xv=(()=>{var t=Ae&&Ae.tagName.toUpperCase()==="SCRIPT"&&Ae.src||new URL("pca.js",document.baseURI).href;return async function(e={}){var r,o=e,s,a,c=new Promise((L,Y)=>{s=L,a=Y}),d=typeof window=="object",u=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(f){const{createRequire:L}=await Kv(()=>Promise.resolve().then(()=>$v),void 0);let Y=Ae&&Ae.tagName.toUpperCase()==="SCRIPT"&&Ae.src||new URL("pca.js",document.baseURI).href;Y.startsWith("data:")&&(Y="/");var v=L(Y)}var m=Object.assign({},o),h=(L,Y)=>{throw Y},g="";function p(L){return o.locateFile?o.locateFile(L,g):g+L}var w,b;if(f){var _=v("fs"),k=v("path");(Ae&&Ae.tagName.toUpperCase()==="SCRIPT"&&Ae.src||new URL("pca.js",document.baseURI).href).startsWith("data:")||(g=k.dirname(v("url").fileURLToPath(Ae&&Ae.tagName.toUpperCase()==="SCRIPT"&&Ae.src||new URL("pca.js",document.baseURI).href))+"/"),b=L=>{L=ue(L)?new URL(L):k.normalize(L);var Y=_.readFileSync(L);return Y},w=(L,Y=!0)=>(L=ue(L)?new URL(L):k.normalize(L),new Promise((oe,fe)=>{_.readFile(L,Y?void 0:"utf8",(Ge,Ke)=>{Ge?fe(Ge):oe(Y?Ke.buffer:Ke)})})),!o.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),h=(L,Y)=>{throw process.exitCode=L,Y}}else(d||u)&&(u?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),t&&(g=t),g.startsWith("blob:")?g="":g=g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(b=L=>{var Y=new XMLHttpRequest;return Y.open("GET",L,!1),Y.responseType="arraybuffer",Y.send(null),new Uint8Array(Y.response)}),w=L=>ue(L)?new Promise((Y,oe)=>{var fe=new XMLHttpRequest;fe.open("GET",L,!0),fe.responseType="arraybuffer",fe.onload=()=>{if(fe.status==200||fe.status==0&&fe.response){Y(fe.response);return}oe(fe.status)},fe.onerror=oe,fe.send(null)}):fetch(L,{credentials:"same-origin"}).then(Y=>Y.ok?Y.arrayBuffer():Promise.reject(new Error(Y.status+" : "+Y.url))));o.print||console.log.bind(console);var C=o.printErr||console.error.bind(console);Object.assign(o,m),m=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram;var y=o.wasmBinary,A,I=!1,M,S,P;function z(){var L=A.buffer;o.HEAP8=S=new Int8Array(L),o.HEAP16=new Int16Array(L),o.HEAPU8=P=new Uint8Array(L),o.HEAPU16=new Uint16Array(L),o.HEAP32=new Int32Array(L),o.HEAPU32=new Uint32Array(L),o.HEAPF32=new Float32Array(L),o.HEAPF64=new Float64Array(L)}var j=[],R=[],D=[];function U(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)G(o.preRun.shift());ct(j)}function $(){ct(R)}function F(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)H(o.postRun.shift());ct(D)}function G(L){j.unshift(L)}function K(L){R.unshift(L)}function H(L){D.unshift(L)}var ee=0,X=null;function ie(L){var Y;ee++,(Y=o.monitorRunDependencies)==null||Y.call(o,ee)}function Q(L){var oe;if(ee--,(oe=o.monitorRunDependencies)==null||oe.call(o,ee),ee==0&&X){var Y=X;X=null,Y()}}function ne(L){var oe;(oe=o.onAbort)==null||oe.call(o,L),L="Aborted("+L+")",C(L),I=!0,L+=". Build with -sASSERTIONS for more info.";var Y=new WebAssembly.RuntimeError(L);throw a(Y),Y}var ve="data:application/octet-stream;base64,",ye=L=>L.startsWith(ve),ue=L=>L.startsWith("file://");function me(){if(o.locateFile){var L="pca_wasm.wasm";return ye(L)?L:p(L)}return new URL("/pca/pca.wasm",Ae&&Ae.tagName.toUpperCase()==="SCRIPT"&&Ae.src||new URL("pca.js",document.baseURI).href).href}var we;function se(L){if(L==we&&y)return new Uint8Array(y);if(b)return b(L);throw"both async and sync fetching of the wasm failed"}function ce(L){return y?Promise.resolve().then(()=>se(L)):w(L).then(Y=>new Uint8Array(Y),()=>se(L))}function le(L,Y,oe){return ce(L).then(fe=>WebAssembly.instantiate(fe,Y)).then(oe,fe=>{C(`failed to asynchronously prepare wasm: ${fe}`),ne(fe)})}function xe(L,Y,oe,fe){return!L&&typeof WebAssembly.instantiateStreaming=="function"&&!ye(Y)&&!ue(Y)&&!f&&typeof fetch=="function"?fetch(Y,{credentials:"same-origin"}).then(Ge=>{var Ke=WebAssembly.instantiateStreaming(Ge,oe);return Ke.then(fe,function(Oe){return C(`wasm streaming compile failed: ${Oe}`),C("falling back to ArrayBuffer instantiation"),le(Y,oe,fe)})}):le(Y,oe,fe)}function We(){return{a:cr}}function qe(){var L=We();function Y(fe,Ge){return Le=fe.exports,A=Le.h,z(),K(Le.i),Q(),Le}ie();function oe(fe){Y(fe.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(L,Y)}catch(fe){C(`Module.instantiateWasm callback failed with error: ${fe}`),a(fe)}return we??(we=me()),xe(y,we,L,oe).catch(a),{}}class Pe{constructor(Y){Lr(this,"name","ExitStatus");this.message=`Program terminated with exit(${Y})`,this.status=Y}}var ct=L=>{for(;L.length>0;)L.shift()(o)},ir=o.noExitRuntime||!0,st=L=>Oa(L),mt=()=>Ba(),et=()=>{ne("")},Wt=(L,Y,oe)=>P.copyWithin(L,Y,Y+oe),mn=0,Zn=()=>{ir=!1,mn=0},er={},$n=L=>{if(L instanceof Pe||L=="unwind")return M;h(1,L)},eo=()=>ir||mn>0,to=L=>{var Y;M=L,eo()||((Y=o.onExit)==null||Y.call(o,L),I=!0),h(L,new Pe(L))},al=(L,Y)=>{M=L,to(L)},il=al,_e=()=>{if(!eo())try{il(M)}catch(L){$n(L)}},Te=L=>{if(!I)try{L(),_e()}catch(Y){$n(Y)}},Se=()=>performance.now(),nt=(L,Y)=>{if(er[L]&&(clearTimeout(er[L].id),delete er[L]),!Y)return 0;var oe=setTimeout(()=>{delete er[L],Te(()=>ro(L,Se()))},Y);return er[L]={id:oe,timeout_ms:Y},0},gt=()=>Date.now(),Ht=()=>2147483648,At=(L,Y)=>Math.ceil(L/Y)*Y,Ct=L=>{var Y=A.buffer,oe=(L-Y.byteLength+65535)/65536|0;try{return A.grow(oe),z(),1}catch{}},He=L=>{var Y=P.length;L>>>=0;var oe=Ht();if(L>oe)return!1;for(var fe=1;fe<=4;fe*=2){var Ge=Y*(1+.2/fe);Ge=Math.min(Ge,L+100663296);var Ke=Math.min(oe,At(Math.max(L,Ge),65536)),Oe=Ct(Ke);if(Oe)return!0}return!1},Ie=L=>{var Y=o["_"+L];return Y},dt=(L,Y)=>{S.set(L,Y)},at=L=>{for(var Y=0,oe=0;oe<L.length;++oe){var fe=L.charCodeAt(oe);fe<=127?Y++:fe<=2047?Y+=2:fe>=55296&&fe<=57343?(Y+=4,++oe):Y+=3}return Y},ot=(L,Y,oe,fe)=>{if(!(fe>0))return 0;for(var Ge=oe,Ke=oe+fe-1,Oe=0;Oe<L.length;++Oe){var Ve=L.charCodeAt(Oe);if(Ve>=55296&&Ve<=57343){var Mt=L.charCodeAt(++Oe);Ve=65536+((Ve&1023)<<10)|Mt&1023}if(Ve<=127){if(oe>=Ke)break;Y[oe++]=Ve}else if(Ve<=2047){if(oe+1>=Ke)break;Y[oe++]=192|Ve>>6,Y[oe++]=128|Ve&63}else if(Ve<=65535){if(oe+2>=Ke)break;Y[oe++]=224|Ve>>12,Y[oe++]=128|Ve>>6&63,Y[oe++]=128|Ve&63}else{if(oe+3>=Ke)break;Y[oe++]=240|Ve>>18,Y[oe++]=128|Ve>>12&63,Y[oe++]=128|Ve>>6&63,Y[oe++]=128|Ve&63}}return Y[oe]=0,oe-Ge},Qe=(L,Y,oe)=>ot(L,P,Y,oe),Pt=L=>Va(L),Pr=L=>{var Y=at(L)+1,oe=Pt(Y);return Qe(L,oe,Y),oe},je=typeof TextDecoder<"u"?new TextDecoder:void 0,he=(L,Y=0,oe=NaN)=>{for(var fe=Y+oe,Ge=Y;L[Ge]&&!(Ge>=fe);)++Ge;if(Ge-Y>16&&L.buffer&&je)return je.decode(L.subarray(Y,Ge));for(var Ke="";Y<Ge;){var Oe=L[Y++];if(!(Oe&128)){Ke+=String.fromCharCode(Oe);continue}var Ve=L[Y++]&63;if((Oe&224)==192){Ke+=String.fromCharCode((Oe&31)<<6|Ve);continue}var Mt=L[Y++]&63;if((Oe&240)==224?Oe=(Oe&15)<<12|Ve<<6|Mt:Oe=(Oe&7)<<18|Ve<<12|Mt<<6|L[Y++]&63,Oe<65536)Ke+=String.fromCharCode(Oe);else{var Gt=Oe-65536;Ke+=String.fromCharCode(55296|Gt>>10,56320|Gt&1023)}}return Ke},vt=(L,Y)=>L?he(P,L,Y):"",cl=(L,Y,oe,fe,Ge)=>{var Ke={string:yt=>{var pn=0;return yt!=null&&yt!==0&&(pn=Pr(yt)),pn},array:yt=>{var pn=Pt(yt.length);return dt(yt,pn),pn}};function Oe(yt){return Y==="string"?vt(yt):Y==="boolean"?!!yt:yt}var Ve=Ie(L),Mt=[],Gt=0;if(fe)for(var Kt=0;Kt<fe.length;Kt++){var oo=Ke[oe[Kt]];oo?(Gt===0&&(Gt=mt()),Mt[Kt]=oo(fe[Kt])):Mt[Kt]=fe[Kt]}var gn=Ve(...Mt);function ul(yt){return Gt!==0&&st(Gt),Oe(yt)}return gn=ul(gn),gn},cr={c:et,f:Wt,b:Zn,d:nt,g:gt,e:He,a:to},Le=qe();o._pcafit_wasm=(L,Y,oe,fe,Ge,Ke,Oe,Ve,Mt,Gt,Kt)=>(o._pcafit_wasm=Le.j)(L,Y,oe,fe,Ge,Ke,Oe,Ve,Mt,Gt,Kt),o._malloc=L=>(o._malloc=Le.k)(L),o._free=L=>(o._free=Le.l)(L),o._pcapredict_wasm=(L,Y,oe,fe,Ge,Ke,Oe,Ve,Mt)=>(o._pcapredict_wasm=Le.m)(L,Y,oe,fe,Ge,Ke,Oe,Ve,Mt),o._pcvpca_wasm=(L,Y,oe,fe,Ge,Ke,Oe,Ve,Mt,Gt,Kt,oo,gn,ul,yt)=>(o._pcvpca_wasm=Le.n)(L,Y,oe,fe,Ge,Ke,Oe,Ve,Mt,Gt,Kt,oo,gn,ul,yt);var ro=(L,Y)=>(ro=Le.p)(L,Y),Oa=L=>(Oa=Le.q)(L),Va=L=>(Va=Le.r)(L),Ba=()=>(Ba=Le.s)();o.ccall=cl;var no;X=function L(){no||za(),no||(X=L)};function za(){if(ee>0||(U(),ee>0))return;function L(){var Y;no||(no=!0,o.calledRun=!0,!I&&($(),s(o),(Y=o.onRuntimeInitialized)==null||Y.call(o),F()))}o.setStatus?(o.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>o.setStatus(""),1),L()},1)):L()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return za(),r=c,r}})(),Qv=Z('<p>Current release: <span>2.0.4</span> Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=PCA app">help@mda.tools</a> Tutorial: <a class="paper-link" href="Wines.zip" download="">dataset</a> | <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFnCpcLEwI63Zj1YJZrVL0WH">video lessons</a></p>'),Jv=Z(`<h2>Principal Component Analysis</h2> <p>Authors: <em>Sergey Kucheryavskiy, Oxana Rodionova, Alexey Pomerantsev</em></p> <p>Interactive web-application for creating and using PCA models for data exploration
      directly in your browser. The app does not send any information to the server,
      all calculations are done locally on your device.</p> <p>Check out YouTube <a href="https://www.youtube.com/playlist?list=PLep7KM9cEyFnCpcLEwI63Zj1YJZrVL0WH">video-lessons</a></p><h3>v. 2.0.4</h3> <p class="release-info">released 7/03/2025</p> <ul><li>Small improvements and bug fixes.</li></ul> <h3>v. 2.0.0</h3> <p class="release-info">released 2/03/2025</p> <ul><li>Many small improvements to plots and control elements.</li> <li>App now remembers the plot settings when you switch between plots.</li> <li>Introducing sessons — app states, including model, results, datasets, and outliers (in all tabs), which can be saved and restored. When you close tab or app window or click on reboot button, the current session is saved to browser's local storage and
         then is restored automatically. You can also download session as a file and load it from file.</li></ul>`,1);function Zv(t,e){pe(e,!1);function r(c){c.train.dataset=null,c.new.model=null,c.tab=0}function o(c){const d=Object.keys(c);if(!["date","tab","train","new"].every(v=>d.includes(v)))return!1;const u=Object.keys(c.train),f=Object.keys(c.new);return!!["model","dataset","resobj","outliers"].every(v=>u.includes(v)&&f.includes(v))}function s(){return{date:Go(new Date),tab:0,train:{model:0,dataset:0,resobj:0,outliers:[]},new:{model:0,dataset:0,resobj:0,outliers:[]}}}const a=[{name:"Train",label:"train",component:kv},{name:"Project",label:"new",component:Vv}];dc(),Gv(t,{appID:"pca",appTitle:"PCA",appShortTitle:"PCA",appSlogan:"Principal component analysis",WASM:Xv,tabs:a,initSession:s,checkSession:o,resetSession:r,footer:u=>{var f=Qv();T(u,f)},info:u=>{var f=Jv();T(u,f)},$$slots:{footer:!0,info:!0}}),be()}Qi(Zv,{target:document.body});const $v=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=pca.js.map
