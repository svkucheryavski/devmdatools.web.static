var Rd=Object.defineProperty;var la=Fe=>{throw TypeError(Fe)};var Ld=(Fe,we,Ze)=>we in Fe?Rd(Fe,we,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):Fe[we]=Ze;var Sn=(Fe,we,Ze)=>Ld(Fe,typeof we!="symbol"?we+"":we,Ze),ao=(Fe,we,Ze)=>we.has(Fe)||la("Cannot "+Ze);var an=(Fe,we,Ze)=>(ao(Fe,we,"read from private field"),Ze?Ze.call(Fe):we.get(Fe)),dr=(Fe,we,Ze)=>we.has(Fe)?la("Cannot add the same private member more than once"):we instanceof WeakSet?we.add(Fe):we.set(Fe,Ze),io=(Fe,we,Ze,Mn)=>(ao(Fe,we,"write to private field"),Mn?Mn.call(Fe,Ze):we.set(Fe,Ze),Ze),aa=(Fe,we,Ze)=>(ao(Fe,we,"access private method"),Ze);(function(){"use strict";var bn,Un,ur,Zr,ia,sa;var Fe=document.createElement("style");Fe.textContent=`.drop.svelte-1vipsv{position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-1vipsv{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "body";grid-template-rows:30px 1fr;width:auto;height:auto;border-radius:.25rem}.body.svelte-1vipsv{grid-area:body;box-sizing:border-box;padding:0 1em .5em;width:100%;height:100%}.header.svelte-1vipsv{grid-area:header}.close-button.svelte-1vipsv{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-1vipsv:hover{background-color:#4e5052}.page.svelte-sqmqfb{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-sqmqfb{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-sqmqfb{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-sqmqfb{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-sqmqfb>h1:where(.svelte-sqmqfb){margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-sqmqfb>p:where(.svelte-sqmqfb){margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-sqmqfb{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-sqmqfb>div:where(.svelte-sqmqfb){height:100%}footer.svelte-sqmqfb{display:grid;grid-template-columns:20% 60% 20%;grid-template-areas:"session info .";align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb){grid-area:session;padding-left:.5em;display:flex;align-items:center}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) input:where(.svelte-sqmqfb){display:none}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .session-message:where(.svelte-sqmqfb){color:silver;padding-right:.5em}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .session-message:where(.svelte-sqmqfb){color:#fafafa}footer.svelte-sqmqfb .session.no-buttons:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session.no-buttons:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session.no-buttons:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb){display:none}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb){font-size:.9rem;background:#5e6062;color:silver;box-shadow:none;padding:0;margin:0 0 0 .2em;border-radius:3px;border:none;height:20px;box-sizing:border-box;display:inline-block}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb){stroke-width:1em;stroke-linecap:round;stroke-linejoin:round;stroke:silver}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .clear-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .upload-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .download-button:where(.svelte-sqmqfb){background:#35332d}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .clear-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .upload-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .download-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb){stroke:#fafafa}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb){margin-left:.5em}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb):hover,footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb):hover{background-color:#6eb8ff}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb):hover{background-color:#dc143c}footer.svelte-sqmqfb .info:where(.svelte-sqmqfb){grid-area:info;display:flex;justify-content:center;align-items:center}footer.svelte-sqmqfb .info:where(.svelte-sqmqfb) .button-info:where(.svelte-sqmqfb){cursor:default;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}footer.svelte-sqmqfb p{margin:0 .5em;text-align:center;padding:.15em}footer.svelte-sqmqfb span,footer.svelte-sqmqfb a{color:#f8ebc5}.hidden.svelte-sqmqfb{display:none}.nav.svelte-sqmqfb,.nav.svelte-sqmqfb :where(.svelte-sqmqfb){-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-sqmqfb{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-sqmqfb{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-sqmqfb>button:where(.svelte-sqmqfb){cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-sqmqfb>button:where(.svelte-sqmqfb)>span{color:#888}.nav-item.selected.svelte-sqmqfb{border-bottom:5px solid #80888f}.nav-item.selected.svelte-sqmqfb>button:where(.svelte-sqmqfb){font-weight:700;cursor:default}.nav-item.selected.svelte-sqmqfb:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-sqmqfb>header:where(.svelte-sqmqfb){border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-sqmqfb>footer:where(.svelte-sqmqfb){border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.info-container.svelte-sqmqfb{width:900px}.info-container.svelte-sqmqfb>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-sqmqfb>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-sqmqfb>h2{font-size:1.5em;line-height:1.25em;padding:0em 1rem .5em;margin:0}.info-container.svelte-sqmqfb>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-sqmqfb>ul{margin:0}.info-container.svelte-sqmqfb>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-sqmqfb>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-sqmqfb a{color:#ae8032}.info-container.svelte-sqmqfb a:hover{color:#eb9707}.info-container.svelte-sqmqfb:last-child{padding-bottom:2rem}button.svelte-ymtj5z{display:inline-block;font-size:.9em;padding:0 .5em;line-height:1.5em;border-radius:.25em;box-shadow:none;margin:0;text-align:center;border:1px solid}.button.svelte-ymtj5z:focus-visible{outline:solid 2px;outline-offset:2px}button.svelte-bx9fh5{display:inline-block;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin:0 .25em;text-align:center;padding:0;background-size:45% 45%;background-position:50%;background-repeat:no-repeat}button.svelte-bx9fh5:last-of-type{margin-right:0}.button.svelte-bx9fh5:focus-visible{outline:solid 2px;outline-offset:2px}.control-element.svelte-vzu0vi{font-size:.85em;background:var(--container-bg-color, #fff);color:var(--text-color-dark, #606570);padding:.5em .5em .5em 1em;border-radius:0;display:flex;justify-items:flex-start;justify-content:flex-start;align-items:center;margin-bottom:.5px}.control-element.svelte-vzu0vi:hover{background:var(--container-bg-color, #fafdff)}.control-element.svelte-vzu0vi:first-child{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.control-element.svelte-vzu0vi:last-child{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-vzu0vi{display:none}.control-element.error.svelte-vzu0vi{background:var(--warning-color, crimson);color:var(--warning-text-color, #fefefe)}.label.svelte-vzu0vi{padding-right:.75em;flex-grow:0;flex-shrink:1;color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi>.wrapper{flex:1 1 auto;position:relative;box-sizing:border-box;display:inline-block;margin:0;padding:0;width:auto;align-items:flex-start;justify-content:center;justify-items:flex-start}.control-element.svelte-vzu0vi>h2{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:1.1em}.control-element.svelte-vzu0vi>p{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:max(12px,.9em)}.control-element.error p{color:var(--warning-text-color, #fefafa)}.control-element.error a{color:var(--warning-link-color, #ffeeaa)}.control-element.error a:hover{color:var(--warning-link-hover-color, #ffee80)}.control-element.svelte-vzu0vi>.title{font-size:1.05em;font-weight:700;color:var(--text-color-dark, #606570);flex-grow:1;padding:.3em 0;margin:0}.control-element.svelte-vzu0vi>.range-slider-container{outline-color:var(--outline-color, #ccc);background:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi>.range-slider-container:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .range-slider{color:var(--text-color-light, #fafafa);background-color:var(--main-color1, #6eb8ff);border-right-color:var(--main-color2, #528abe)}.control-element.svelte-vzu0vi .range-value{color:var(--text-color-light, #fafafa)}.control-element.svelte-vzu0vi .range-value_left,.control-element.svelte-vzu0vi .range-value_right{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .button{border-color:transparent;background-color:var(--bg-color-dark, #606570);color:var(--text-color-light, #fafafa);outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .button:hover{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #5086b9)}.control-element.svelte-vzu0vi .button-cancel{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="2.0" viewBox="0 0 100 100" style="stroke:%23fafafa;stroke-width:1em;" ><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}.control-element.svelte-vzu0vi .button-cancel:hover{background-color:var(--warning-color, #dc143c)}.control-element.svelte-vzu0vi .button-undo{background-image:url('data:image/svg+xml;utf8,<svg width="99px" height="99px" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-linecap="round" stroke-linejoin="round" ><path d="M6 7L7 6L4.70711 3.70711L5.19868 3.21553C5.97697 2.43724 7.03256 2 8.13323 2C11.361 2 14 4.68015 14 7.93274C14 11.2589 11.3013 14 8 14C6.46292 14 4.92913 13.4144 3.75736 12.2426L2.34315 13.6569C3.90505 15.2188 5.95417 16 8 16C12.4307 16 16 12.3385 16 7.93274C16 3.60052 12.4903 0 8.13323 0C6.50213 0 4.93783 0.647954 3.78447 1.80132L3.29289 2.29289L1 0L0 1V7H6Z" fill="%23fafafa"></path> </g></svg>')}.control-element.svelte-vzu0vi .button-undo:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-vzu0vi .button-download{background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 110 110" style="stroke:%23fafafa;stroke-width:1.1em;" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><line x1="50" y1="0" x2="50" y2="100"/><line x1="10" y1="60" x2="50" y2="100"/><line x1="90" y1="60" x2="50" y2="100"/></svg>')}.control-element.svelte-vzu0vi .button-download:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-vzu0vi .selector:focus-visible{outline:2px solid;outline-offset:2px;outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .selector>.option{color:var(--text-color-dark, #606570);background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .plot-selector>.option>svg{stroke:var(--main-color1, #606570)}.control-element.svelte-vzu0vi .plot-selector>.option.selected>svg{stroke:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .selector>.option.selected{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .selector>.option:not(.selected):hover{border:1px solid var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .selector>.option:not(.selected):hover>svg{stroke:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .file-selector:before{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .file-selector.selected:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .file-selector:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .file-selector:focus-visible:before{outline-color:var(--outline-color, #ccc);color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .file-selector:hover:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .textinput>input{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .textinput>input:placeholder-shown{color:var(--text-color-dark, #a0a0a0);background-color:var(--bg-color-light, #f0f0f0);border-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .textinput>input::placeholder{color:#a0a0a0}.control-element.svelte-vzu0vi .textinput>input:active::placeholder,.control-element.svelte-vzu0vi .textinput>input:focus::placeholder{color:transparent}.control-element.svelte-vzu0vi .textinput>input:focus,.control-element.svelte-vzu0vi .textinput>input:active{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .textinput.error>input,.control-element.svelte-vzu0vi .textinput.error>input:focus,.control-element.svelte-vzu0vi .textinput.error>input:active{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce);border-color:var(--warning-color, crimson)}.control-element.svelte-vzu0vi .textinput.error>.error-message{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce)}.control-element.svelte-vzu0vi .spinner:after{border-color:var(--main-color1, #6eb8ff) transparent var(--main-color1, #6eb8ff) transparent}.control-element.svelte-vzu0vi .number-container{background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .number-container>.value{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .number-container>.button-small>svg>polygon{fill:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .number-container>.button-small:hover>svg>polygon{fill:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .number-container:focus-visible{outline-color:var(--outline-color, #ccc)}.range-slider-container.svelte-vhx0r0{position:relative;box-sizing:border-box;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-vhx0r0:focus-visible{outline:solid 2px #ccc;outline-offset:2px}.range-slider.svelte-vhx0r0{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;border-right:solid 5px;text-align:right;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_right.svelte-vhx0r0{justify-content:left}.range-value.svelte-vhx0r0{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;position:relative;user-select:none;-webkit-user-select:none;-moz-user-select:none;right:.25em}.range-value_right.svelte-vhx0r0{left:calc(100% + 5px + .25em)}.range-slider-container.svelte-xdlm7u{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-xdlm7u:focus-visible{outline:solid 2px;outline-offset:2px}.range-slider.svelte-xdlm7u{position:relative;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-radius:2px;text-align:center;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_left.svelte-xdlm7u{justify-content:left}.range-slider_right.svelte-xdlm7u{justify-content:right}.range-value.svelte-xdlm7u{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value_left.svelte-xdlm7u{position:relative;left:calc(100% + .25em)}.range-value_right.svelte-xdlm7u{position:relative;right:calc(100% + .25em)}input.svelte-1i17tox{display:none}.selector.svelte-1i17tox{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.selector.svelte-1i17tox:focus-visible{outline:solid 2px;outline-offset:2px}.option.svelte-1i17tox{cursor:default;padding:.25em .5em;margin:0 .3em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em}.option.svelte-1i17tox:not(.selected):hover{border:1px solid}.file-selector.svelte-1k0x7uv>input:where(.svelte-1k0x7uv){display:none}.file-selector.svelte-1k0x7uv{display:flex;align-items:baseline;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0;border-radius:2px;cursor:default}.file-selector.svelte-1k0x7uv:focus-visible{outline:solid 2px;outline-offset:2px}.file-selector.svelte-1k0x7uv:before{display:inline-block;content:"⇪";font-size:1.1em;margin:0 .5em 0 0;padding:0}.file-selector.selected.svelte-1k0x7uv:before{content:"☷";font-size:1.3em;letter-spacing:-.2em;font-weight:700}.textinput.svelte-1qtiwcs{box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex;position:relative}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs){flex:1 1 auto;font-size:.9em;width:100%;cursor:default;padding:.25em .5em;border:1px solid;border-radius:.3em;outline:none}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):focus,.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):active{border:1px solid}.error-message.svelte-1qtiwcs{position:absolute;left:0;bottom:calc(100% + 2px);border-radius:.3em;line-height:1em;font-size:.75em;padding:.5em}.spinner.svelte-n48urb{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-n48urb:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid;animation:svelte-n48urb-spinner 1.2s linear infinite}@keyframes svelte-n48urb-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-yf64an{display:none}.selector.svelte-yf64an{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yf64an{cursor:default;padding:0;padding-inline:0;padding-block:0;margin:0 .2em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em;height:auto;display:flex;justify-content:center}.option.svelte-yf64an:not(.selected):hover{border:1px solid}.number-container.svelte-giqvuu{box-sizing:border-box;flex:0 1 auto;height:1.5em;margin:0 5px 0 0;padding:0;width:auto;border-radius:2px;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:grid;grid-template-areas:"value up" "value down";grid-template-columns:1fr 1em;grid-template-rows:1fr 1fr;justify-items:center;align-items:center}.number-container.svelte-giqvuu:focus-visible{outline:solid 2px;outline-offset:2px}.value.svelte-giqvuu{grid-area:value;box-sizing:border-box;height:100%;display:block;padding:.1em .1em .1em .3em;text-align:right}.button-small.svelte-giqvuu{padding:0;margin:0;border:none;background:none;outline:none;width:.6em;height:.6em;box-sizing:border-box;font-size:inherit;display:flex;align-items:center;justify-content:center}.button-small.svelte-giqvuu>svg:where(.svelte-giqvuu){font-size:inherit;width:.6em;height:.6em}.button-up.svelte-giqvuu{grid-area:up}.button-down.svelte-giqvuu{grid-area:down}.color-picker.svelte-1ajmk4v{width:3em;height:1.25em;margin-right:2px;background:#000;border:3px solid #f0f0f0;border-radius:2px}input[type=color i].svelte-1ajmk4v{width:0;height:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent}.dataset-info.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name:where(.svelte-gdjwex),.dataset-info.svelte-gdjwex>.file-size:where(.svelte-gdjwex){display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}.buttons.svelte-t7v4gx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}table.svelte-16n1t3l{width:100%;border-collapse:collapse;font-size:.85em;margin-top:1em}tr.svelte-16n1t3l{width:100%}th.svelte-16n1t3l{border-bottom:1px solid #a0a0a0}th.svelte-16n1t3l,td.svelte-16n1t3l{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}td.svelte-16n1t3l{color:#a0a0a0}tr.global.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#404040}tr.current.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#2679b2}tr.selected.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#d22c2f}.show-download-links-none.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){display:none}.show-download-links-hover.svelte-1jtdxd0:hover>.download-links:where(.svelte-1jtdxd0){bottom:0}.show-download-links-fixed.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){bottom:0}.download-links.svelte-1jtdxd0{position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0){box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0):hover{background:#433;color:#fafafa}.download-links.svelte-1jtdxd0>button.error{background:#e43}.download-links.svelte-1jtdxd0>button.copied{background:#48e}.plot-container.svelte-1jtdxd0{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot-error.svelte-1jtdxd0{display:flex;justify-content:center;align-items:center}.message-error.svelte-1jtdxd0{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-1jtdxd0{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-1jtdxd0{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.selected-buttons.svelte-8mh2yv>.control-element{background:#fff0c8}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type{color:#fff;border-color:#dc143c;background:#dc143c;margin-left:5px}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type:hover{background:#dc143c20;border-color:#dc143c80;color:#dc143c}.plot-panel.svelte-8mh2yv{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-8mh2yv{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-8mh2yv{padding:0 .25em 0 .5em}.plot-selector.svelte-8mh2yv{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-8mh2yv:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:#fff;z-index:999}.plot.svelte-8mh2yv{width:100%;height:calc(100% - 15px)}.plot-select-msg.svelte-8mh2yv{height:15px;font-size:12px;color:#aaa;text-align:center}@media (min-width:1100px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr 400px}}.app-container.svelte-vtn33g{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-vtn33g{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-vtn33g{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-vtn33g>div:where(.svelte-vtn33g){background:#e8e8e8;border-radius:.25rem}.help-text.svelte-vtn33g{margin-top:.25rem}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g),.help-text.svelte-vtn33g>div:where(.svelte-vtn33g){background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-vtn33g table:where(.svelte-vtn33g){border-collapse:collapse}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g){padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) tr:where(.svelte-vtn33g):first-child td:where(.svelte-vtn33g){font-weight:700;background:#f8f4e0}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g):first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g):nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g):first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g):last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.app-controls.svelte-vtn33g>.downloads-widget:where(.svelte-vtn33g){background:#d0d0d0}.downloads-widget.svelte-vtn33g>div{background:#f0f0f0}.select-tarset-type button{margin-right:5px}@media (min-width:1300px){.app-container.svelte-vtn33g{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-vtn33g{grid-template-columns:min(320px,30%) 1fr}}
/*$vite$:1*/`,document.head.appendChild(Fe);var we=typeof document<"u"?document.currentScript:null;const Ze=!1;var Mn=Array.isArray,ca=Array.prototype.indexOf,rs=Array.from,ua=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,co=Object.getOwnPropertyDescriptors,fa=Object.prototype,va=Array.prototype,ss=Object.getPrototypeOf,uo=Object.isExtensible;function Nn(t){return typeof t=="function"}const mt=()=>{};function da(t){return typeof(t==null?void 0:t.then)=="function"}function ha(t){return t()}function hr(t){for(var e=0;e<t.length;e++)t[e]()}const Gt=2,fo=4,mr=8,gr=16,tn=32,Pn=64,br=128,Tt=256,pr=512,qt=1024,nn=2048,Tn=4096,rn=8192,wr=16384,vo=32768,Rn=65536,ma=1<<17,ga=1<<19,ho=1<<20,os=1<<21,un=Symbol("$state"),mo=Symbol("legacy props"),ba=Symbol("");function go(t){return t===this.v}function bo(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function pa(t,e){return t!==e}function ls(t){return!bo(t,this.v)}function wa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _a(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ya(t){throw new Error("https://svelte.dev/e/effect_orphan")}function xa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ea(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ka(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ca(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Aa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ln=!1,qa=!1;function Sa(){Ln=!0}const as=1,is=2,po=4,Ma=8,Na=16,Pa=1,Ta=2,Ra=4,La=8,ja=16,Ia=4,wo=1,za=2,ct=Symbol(),Fa="http://www.w3.org/1999/xhtml";function _o(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Ne=null;function _r(t){Ne=t}function Vt(t){return yo().get(t)}function Va(t,e){return yo().set(t,e),e}function he(t,e=!1,r){var s=Ne={p:Ne,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ln&&!e&&(Ne.l={s:null,u:null,r1:[],r2:_n(!1)}),Po(()=>{s.d=!0})}function me(t){const e=Ne;if(e!==null){const c=e.e;if(c!==null){var r=Pe,s=Ae;e.e=null;try{for(var l=0;l<c.length;l++){var a=c[l];Rt(a.effect),wt(a.reaction),Kn(a.fn)}}finally{Rt(r),wt(s)}}Ne=e.p,e.m=!0}return{}}function wn(){return!Ln||Ne!==null&&Ne.l===null}function yo(t){return Ne===null&&_o(),Ne.c??(Ne.c=new Map(Oa(Ne)||void 0))}function Oa(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}function Ue(t,e){if(typeof t!="object"||t===null||un in t)return t;const r=ss(t);if(r!==fa&&r!==va)return t;var s=new Map,l=Mn(t),a=ae(0),c=Ae,v=u=>{var f=Ae;wt(c);var h;return h=u(),wt(f),h};return l&&s.set("length",ae(t.length)),new Proxy(t,{defineProperty(u,f,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&ka();var d=s.get(f);return d===void 0?(d=v(()=>ae(h.value)),s.set(f,d)):G(d,v(()=>Ue(h.value))),!0},deleteProperty(u,f){var h=s.get(f);if(h===void 0)f in u&&s.set(f,v(()=>ae(ct)));else{if(l&&typeof f=="string"){var d=s.get("length"),m=Number(f);Number.isInteger(m)&&m<d.v&&G(d,m)}G(h,ct),xo(a)}return!0},get(u,f,h){var p;if(f===un)return t;var d=s.get(f),m=f in u;if(d===void 0&&(!m||(p=cn(u,f))!=null&&p.writable)&&(d=v(()=>ae(Ue(m?u[f]:ct))),s.set(f,d)),d!==void 0){var g=o(d);return g===ct?void 0:g}return Reflect.get(u,f,h)},getOwnPropertyDescriptor(u,f){var h=Reflect.getOwnPropertyDescriptor(u,f);if(h&&"value"in h){var d=s.get(f);d&&(h.value=o(d))}else if(h===void 0){var m=s.get(f),g=m==null?void 0:m.v;if(m!==void 0&&g!==ct)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return h},has(u,f){var g;if(f===un)return!0;var h=s.get(f),d=h!==void 0&&h.v!==ct||Reflect.has(u,f);if(h!==void 0||Pe!==null&&(!d||(g=cn(u,f))!=null&&g.writable)){h===void 0&&(h=v(()=>ae(d?Ue(u[f]):ct)),s.set(f,h));var m=o(h);if(m===ct)return!1}return d},set(u,f,h,d){var S;var m=s.get(f),g=f in u;if(l&&f==="length")for(var p=h;p<m.v;p+=1){var w=s.get(p+"");w!==void 0?G(w,ct):p in u&&(w=v(()=>ae(ct)),s.set(p+"",w))}m===void 0?(!g||(S=cn(u,f))!=null&&S.writable)&&(m=v(()=>ae(void 0)),G(m,v(()=>Ue(h))),s.set(f,m)):(g=m.v!==ct,G(m,v(()=>Ue(h))));var b=Reflect.getOwnPropertyDescriptor(u,f);if(b!=null&&b.set&&b.set.call(d,h),!g){if(l&&typeof f=="string"){var y=s.get("length"),C=Number(f);Number.isInteger(C)&&C>=y.v&&G(y,C+1)}xo(a)}return!0},ownKeys(u){o(a);var f=Reflect.ownKeys(u).filter(m=>{var g=s.get(m);return g===void 0||g.v!==ct});for(var[h,d]of s)d.v!==ct&&!(h in u)&&f.push(h);return f},setPrototypeOf(){Ca()}})}function xo(t,e=1){G(t,t.v+e)}const Gn=new Map;function _n(t,e){var r={f:0,v:t,reactions:null,equals:go,rv:0,wv:0};return r}function ae(t,e){const r=_n(t);return Oo(r),r}function yr(t,e=!1){var s;const r=_n(t);return e||(r.equals=ls),Ln&&Ne!==null&&Ne.l!==null&&((s=Ne.l).s??(s.s=[])).push(r),r}function G(t,e,r=!1){Ae!==null&&!Xt&&wn()&&(Ae.f&(Gt|gr))!==0&&!(gt!=null&&gt.includes(t))&&Aa();let s=r?Ue(e):e;return jn(t,s)}function jn(t,e){if(!t.equals(e)){var r=t.v;Jn?Gn.set(t,e):Gn.set(t,r),t.v=e,t.wv=Bo(),Eo(t,nn),wn()&&Pe!==null&&(Pe.f&qt)!==0&&(Pe.f&(tn|Pn))===0&&(Lt===null?Za([t]):Lt.push(t))}return e}function Eo(t,e){var r=t.reactions;if(r!==null)for(var s=wn(),l=r.length,a=0;a<l;a++){var c=r[a],v=c.f;(v&nn)===0&&(!s&&c===Pe||(Jt(c,e),(v&(qt|Tt))!==0&&((v&Gt)!==0?Eo(c,Tn):Mr(c))))}}let Da=!1;var cs,ko,Co,Ao;function Ba(){if(cs===void 0){cs=window,ko=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Co=cn(e,"firstChild").get,Ao=cn(e,"nextSibling").get,uo(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),uo(r)&&(r.__t=void 0)}}function us(t=""){return document.createTextNode(t)}function St(t){return Co.call(t)}function xr(t){return Ao.call(t)}function B(t,e){return St(t)}function Z(t,e){{var r=St(t);return r instanceof Comment&&r.data===""?xr(r):r}}function z(t,e=1,r=!1){let s=t;for(;e--;)s=xr(s);return s}function Wa(t){t.textContent=""}function In(t){var e=Gt|nn,r=Ae!==null&&(Ae.f&Gt)!==0?Ae:null;return Pe===null||r!==null&&(r.f&Tt)!==0?e|=Tt:Pe.f|=ho,{ctx:Ne,deps:null,effects:null,equals:go,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??Pe}}function P(t){const e=In(t);return Oo(e),e}function qo(t){const e=In(t);return e.equals=ls,e}function So(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Kt(e[r])}}function Ua(t){for(var e=t.parent;e!==null;){if((e.f&Gt)===0)return e;e=e.parent}return null}function Ya(t){var e,r=Pe;Rt(Ua(t));try{So(t),e=Uo(t)}finally{Rt(r)}return e}function Mo(t){var e=Ya(t),r=(vn||(t.f&Tt)!==0)&&t.deps!==null?Tn:qt;Jt(t,r),t.equals(e)||(t.v=e,t.wv=Bo())}function No(t){Pe===null&&Ae===null&&ya(),Ae!==null&&(Ae.f&Tt)!==0&&Pe===null&&_a(),Jn&&wa()}function Ha(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function zn(t,e,r,s=!0){var l=Pe,a={ctx:Ne,deps:null,nodes_start:null,nodes_end:null,f:t|nn,first:null,fn:e,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(r)try{hs(a),a.f|=vo}catch(u){throw Kt(a),u}else e!==null&&Mr(a);var c=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(ho|br))===0;if(!c&&s&&(l!==null&&Ha(a,l),Ae!==null&&(Ae.f&Gt)!==0)){var v=Ae;(v.effects??(v.effects=[])).push(a)}return a}function Po(t){const e=zn(mr,null,!1);return Jt(e,qt),e.teardown=t,e}function ge(t){No();var e=Pe!==null&&(Pe.f&tn)!==0&&Ne!==null&&!Ne.m;if(e){var r=Ne;(r.e??(r.e=[])).push({fn:t,effect:Pe,reaction:Ae})}else{var s=Kn(t);return s}}function Ga(t){return No(),fs(t)}function Ka(t){const e=zn(Pn,t,!0);return(r={})=>new Promise(s=>{r.outro?sn(e,()=>{Kt(e),s(void 0)}):(Kt(e),s(void 0))})}function Kn(t){return zn(fo,t,!1)}function fs(t){return zn(mr,t,!0)}function re(t,e=[],r=In){const s=e.map(r);return fn(()=>t(...s.map(o)))}function fn(t,e=0){return zn(mr|gr|e,t,!0)}function Ot(t,e=!0){return zn(mr|tn,t,!0,e)}function To(t){var e=t.teardown;if(e!==null){const r=Jn,s=Ae;Vo(!0),wt(null);try{e.call(null)}finally{Vo(r),wt(s)}}}function Ro(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var s=r.next;(r.f&Pn)!==0?r.parent=null:Kt(r,e),r=s}}function Xa(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&tn)===0&&Kt(e),e=r}}function Kt(t,e=!0){var r=!1;if((e||(t.f&ga)!==0)&&t.nodes_start!==null){for(var s=t.nodes_start,l=t.nodes_end;s!==null;){var a=s===l?null:xr(s);s.remove(),s=a}r=!0}Ro(t,e&&!r),Sr(t,0),Jt(t,wr);var c=t.transitions;if(c!==null)for(const u of c)u.stop();To(t);var v=t.parent;v!==null&&v.first!==null&&Lo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Lo(t){var e=t.parent,r=t.prev,s=t.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=r))}function sn(t,e){var r=[];vs(t,r,!0),jo(r,()=>{Kt(t),e&&e()})}function jo(t,e){var r=t.length;if(r>0){var s=()=>--r||e();for(var l of t)l.out(s)}else e()}function vs(t,e,r){if((t.f&rn)===0){if(t.f^=rn,t.transitions!==null)for(const c of t.transitions)(c.is_global||r)&&e.push(c);for(var s=t.first;s!==null;){var l=s.next,a=(s.f&Rn)!==0||(s.f&tn)!==0;vs(s,e,a?r:!1),s=l}}}function Fn(t){Io(t,!0)}function Io(t,e){if((t.f&rn)!==0){t.f^=rn,(t.f&qt)===0&&(t.f^=qt),$n(t)&&(Jt(t,nn),Mr(t));for(var r=t.first;r!==null;){var s=r.next,l=(r.f&Rn)!==0||(r.f&tn)!==0;Io(r,l?e:!1),r=s}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let Xn=[],ds=[];function zo(){var t=Xn;Xn=[],hr(t)}function Qa(){var t=ds;ds=[],hr(t)}function Qn(t){Xn.length===0&&queueMicrotask(zo),Xn.push(t)}function Fo(){Xn.length>0&&zo(),ds.length>0&&Qa()}let Er=!1,kr=!1,Cr=null,yn=!1,Jn=!1;function Vo(t){Jn=t}let Zn=[],jd=[],Ae=null,Xt=!1;function wt(t){Ae=t}let Pe=null;function Rt(t){Pe=t}let gt=null;function Ja(t){gt=t}function Oo(t){Ae!==null&&Ae.f&os&&(gt===null?Ja([t]):gt.push(t))}let bt=null,Mt=0,Lt=null;function Za(t){Lt=t}let Do=1,Ar=0,vn=!1;function Bo(){return++Do}function $n(t){var d;var e=t.f;if((e&nn)!==0)return!0;if((e&Tn)!==0){var r=t.deps,s=(e&Tt)!==0;if(r!==null){var l,a,c=(e&pr)!==0,v=s&&Pe!==null&&!vn,u=r.length;if(c||v){var f=t,h=f.parent;for(l=0;l<u;l++)a=r[l],(c||!((d=a==null?void 0:a.reactions)!=null&&d.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);c&&(f.f^=pr),v&&h!==null&&(h.f&Tt)===0&&(f.f^=Tt)}for(l=0;l<u;l++)if(a=r[l],$n(a)&&Mo(a),a.wv>t.wv)return!0}(!s||Pe!==null&&!vn)&&Jt(t,qt)}return!1}function $a(t,e){for(var r=e;r!==null;){if((r.f&br)!==0)try{r.fn(t);return}catch{r.f^=br}r=r.parent}throw Er=!1,t}function ei(t){return(t.f&wr)===0&&(t.parent===null||(t.parent.f&br)===0)}function qr(t,e,r,s){if(Er){if(r===null&&(Er=!1),ei(e))throw t;return}r!==null&&(Er=!0);{$a(t,e);return}}function Wo(t,e,r=!0){var s=t.reactions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];gt!=null&&gt.includes(t)||((a.f&Gt)!==0?Wo(a,e,!1):e===a&&(r?Jt(a,nn):(a.f&qt)!==0&&Jt(a,Tn),Mr(a)))}}function Uo(t){var g;var e=bt,r=Mt,s=Lt,l=Ae,a=vn,c=gt,v=Ne,u=Xt,f=t.f;bt=null,Mt=0,Lt=null,vn=(f&Tt)!==0&&(Xt||!yn||Ae===null),Ae=(f&(tn|Pn))===0?t:null,gt=null,_r(t.ctx),Xt=!1,Ar++,t.f|=os;try{var h=(0,t.fn)(),d=t.deps;if(bt!==null){var m;if(Sr(t,Mt),d!==null&&Mt>0)for(d.length=Mt+bt.length,m=0;m<bt.length;m++)d[Mt+m]=bt[m];else t.deps=d=bt;if(!vn)for(m=Mt;m<d.length;m++)((g=d[m]).reactions??(g.reactions=[])).push(t)}else d!==null&&Mt<d.length&&(Sr(t,Mt),d.length=Mt);if(wn()&&Lt!==null&&!Xt&&d!==null&&(t.f&(Gt|Tn|nn))===0)for(m=0;m<Lt.length;m++)Wo(Lt[m],t);return l!==null&&(Ar++,Lt!==null&&(s===null?s=Lt:s.push(...Lt))),h}finally{bt=e,Mt=r,Lt=s,Ae=l,vn=a,gt=c,_r(v),Xt=u,t.f^=os}}function ti(t,e){let r=e.reactions;if(r!==null){var s=ca.call(r,t);if(s!==-1){var l=r.length-1;l===0?r=e.reactions=null:(r[s]=r[l],r.pop())}}r===null&&(e.f&Gt)!==0&&(bt===null||!bt.includes(e))&&(Jt(e,Tn),(e.f&(Tt|pr))===0&&(e.f^=pr),So(e),Sr(e,0))}function Sr(t,e){var r=t.deps;if(r!==null)for(var s=e;s<r.length;s++)ti(t,r[s])}function hs(t){var e=t.f;if((e&wr)===0){Jt(t,qt);var r=Pe,s=Ne,l=yn;Pe=t,yn=!0;try{(e&gr)!==0?Xa(t):Ro(t),To(t);var a=Uo(t);t.teardown=typeof a=="function"?a:null,t.wv=Do;var c=t.deps,v;Ze&&qa&&t.f&nn}catch(u){qr(u,t,r,s||t.ctx)}finally{yn=l,Pe=r}}}function ni(){try{xa()}catch(t){if(Cr!==null)qr(t,Cr,null);else throw t}}function Yo(){var t=yn;try{var e=0;for(yn=!0;Zn.length>0;){e++>1e3&&ni();var r=Zn,s=r.length;Zn=[];for(var l=0;l<s;l++){var a=si(r[l]);ri(a)}}}finally{kr=!1,yn=t,Cr=null,Gn.clear()}}function ri(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var s=t[r];if((s.f&(wr|rn))===0)try{$n(s)&&(hs(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null?Lo(s):s.fn=null))}catch(l){qr(l,s,null,s.ctx)}}}function Mr(t){kr||(kr=!0,queueMicrotask(Yo));for(var e=Cr=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Pn|tn))!==0){if((r&qt)===0)return;e.f^=qt}}Zn.push(e)}function si(t){for(var e=[],r=t;r!==null;){var s=r.f,l=(s&(tn|Pn))!==0,a=l&&(s&qt)!==0;if(!a&&(s&rn)===0){if((s&fo)!==0)e.push(r);else if(l)r.f^=qt;else{var c=Ae;try{Ae=r,$n(r)&&hs(r)}catch(f){qr(f,r,null,r.ctx)}finally{Ae=c}}var v=r.first;if(v!==null){r=v;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function oi(t){var e;for(Fo();Zn.length>0;)kr=!0,Yo(),Fo();return e}function o(t){var e=t.f,r=(e&Gt)!==0;if(Ae!==null&&!Xt){if(!(gt!=null&&gt.includes(t))){var s=Ae.deps;t.rv<Ar&&(t.rv=Ar,bt===null&&s!==null&&s[Mt]===t?Mt++:bt===null?bt=[t]:(!vn||!bt.includes(t))&&bt.push(t))}}else if(r&&t.deps===null&&t.effects===null){var l=t,a=l.parent;a!==null&&(a.f&Tt)===0&&(l.f^=Tt)}return r&&(l=t,$n(l)&&Mo(l)),Jn&&Gn.has(t)?Gn.get(t):t.v}function Qt(t){var e=Xt;try{return Xt=!0,t()}finally{Xt=e}}const li=-7169;function Jt(t,e){t.f=t.f&li|e}function ai(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(un in t)ms(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&un in r&&ms(r)}}}function ms(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let s in t)try{ms(t[s],e)}catch{}const r=ss(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=co(r);for(let l in s){const a=s[l].get;if(a)try{a.call(t)}catch{}}}}}const ii=["touchstart","touchmove"];function ci(t){return ii.includes(t)}let Ho=!1;function ui(){Ho||(Ho=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function gs(t){var e=Ae,r=Pe;wt(null),Rt(null);try{return t()}finally{wt(e),Rt(r)}}function fi(t,e,r,s=r){t.addEventListener(e,()=>gs(r));const l=t.__on_r;l?t.__on_r=()=>{l(),s(!0)}:t.__on_r=()=>s(!0),ui()}const Go=new Set,bs=new Set;function vi(t,e,r,s={}){function l(a){if(s.capture||er.call(e,a),!a.cancelBubble)return gs(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Qn(()=>{e.addEventListener(t,l,s)}):e.addEventListener(t,l,s),l}function Nr(t,e,r,s,l){var a={capture:s,passive:l},c=vi(t,e,r,a);(e===document.body||e===window||e===document)&&Po(()=>{e.removeEventListener(t,c,a)})}function $e(t){for(var e=0;e<t.length;e++)Go.add(t[e]);for(var r of bs)r(t)}function er(t){var C;var e=this,r=e.ownerDocument,s=t.type,l=((C=t.composedPath)==null?void 0:C.call(t))||[],a=l[0]||t.target,c=0,v=t.__root;if(v){var u=l.indexOf(v);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var f=l.indexOf(e);if(f===-1)return;u<=f&&(c=u)}if(a=l[c]||t.target,a!==e){ua(t,"currentTarget",{configurable:!0,get(){return a||r}});var h=Ae,d=Pe;wt(null),Rt(null);try{for(var m,g=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+s];if(w!=null&&(!a.disabled||t.target===a))if(Mn(w)){var[b,...y]=w;b.apply(a,[t,...y])}else w.call(a,t)}catch(S){m?g.push(S):m=S}if(t.cancelBubble||p===e||p===null)break;a=p}if(m){for(let S of g)queueMicrotask(()=>{throw S});throw m}}finally{t.__root=e,delete t.currentTarget,wt(h),Rt(d)}}}function ps(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Vn(t,e){var r=Pe;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function K(t,e){var r=(e&wo)!==0,s=(e&za)!==0,l,a=!t.startsWith("<!>");return()=>{l===void 0&&(l=ps(a?t:"<!>"+t),r||(l=St(l)));var c=s||ko?document.importNode(l,!0):l.cloneNode(!0);if(r){var v=St(c),u=c.lastChild;Vn(v,u)}else Vn(c,c);return c}}function be(t,e,r="svg"){var s=!t.startsWith("<!>"),l=(e&wo)!==0,a=`<${r}>${s?t:"<!>"+t}</${r}>`,c;return()=>{if(!c){var v=ps(a),u=St(v);if(l)for(c=document.createDocumentFragment();St(u);)c.appendChild(St(u));else c=St(u)}var f=c.cloneNode(!0);if(l){var h=St(f),d=f.lastChild;Vn(h,d)}else Vn(f,f);return f}}function ue(){var t=document.createDocumentFragment(),e=document.createComment(""),r=us();return t.append(e,r),Vn(e,r),t}function R(t,e){t!==null&&t.before(e)}let ws=!0;function le(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function di(t,e){return hi(t,e)}const On=new Map;function hi(t,{target:e,anchor:r,props:s={},events:l,context:a,intro:c=!0}){Ba();var v=new Set,u=d=>{for(var m=0;m<d.length;m++){var g=d[m];if(!v.has(g)){v.add(g);var p=ci(g);e.addEventListener(g,er,{passive:p});var w=On.get(g);w===void 0?(document.addEventListener(g,er,{passive:p}),On.set(g,1)):On.set(g,w+1)}}};u(rs(Go)),bs.add(u);var f=void 0,h=Ka(()=>{var d=r??e.appendChild(us());return Ot(()=>{if(a){he({});var m=Ne;m.c=a}l&&(s.$$events=l),ws=c,f=t(d,s)||{},ws=!0,a&&me()}),()=>{var p;for(var m of v){e.removeEventListener(m,er);var g=On.get(m);--g===0?(document.removeEventListener(m,er),On.delete(m)):On.set(m,g)}bs.delete(u),d!==r&&((p=d.parentNode)==null||p.removeChild(d))}});return mi.set(f,h),f}let mi=new WeakMap;const _s=0,Pr=1,ys=2;function xs(t,e,r,s,l){var a=t,c=wn(),v=Ne,u=ct,f,h,d,m=(c?_n:yr)(void 0),g=(c?_n:yr)(void 0),p=!1;function w(y,C){p=!0,C&&(Rt(b),wt(b),_r(v));try{y===_s&&r&&(f?Fn(f):f=Ot(()=>r(a))),y===ys&&l&&(d?Fn(d):d=Ot(()=>l(a,g))),y!==_s&&f&&sn(f,()=>f=null),y!==Pr&&h&&sn(h,()=>h=null),y!==ys&&d&&sn(d,()=>d=null)}finally{C&&(_r(null),wt(null),Rt(null),oi())}}var b=fn(()=>{if(u!==(u=e())){if(da(u)){var y=u;p=!1,y.then(C=>{y===u&&(jn(m,C),w(Pr,!0))},C=>{if(y===u&&(jn(g,C),w(ys,!0),!l))throw g.v}),Qn(()=>{p||w(_s,!0)})}else jn(m,u),w(Pr,!1);return()=>u=ct}})}function U(t,e,[r,s]=[0,0]){var l=t,a=null,c=null,v=ct,u=r>0?Rn:0,f=!1;const h=(m,g=!0)=>{f=!0,d(g,m)},d=(m,g)=>{v!==(v=m)&&(v?(a?Fn(a):g&&(a=Ot(()=>g(l))),c&&sn(c,()=>{c=null})):(c?Fn(c):g&&(c=Ot(()=>g(l,[r+1,s]))),a&&sn(a,()=>{a=null})))};fn(()=>{f=!1,e(h),f||d(null,null)},u)}function Ko(t,e,r){var s=t,l=ct,a,c=wn()?pa:bo;fn(()=>{c(l,l=e())&&(a&&sn(a),a=Ot(()=>r(s)))})}function Ge(t,e){return e}function gi(t,e,r,s){for(var l=[],a=e.length,c=0;c<a;c++)vs(e[c].e,l,!0);var v=a>0&&l.length===0&&r!==null;if(v){var u=r.parentNode;Wa(u),u.append(r),s.clear(),dn(t,e[0].prev,e[a-1].next)}jo(l,()=>{for(var f=0;f<a;f++){var h=e[f];v||(s.delete(h.k),dn(t,h.prev,h.next)),Kt(h.e,!v)}})}function Ye(t,e,r,s,l,a=null){var c=t,v={flags:e,items:new Map,first:null},u=(e&po)!==0;if(u){var f=t;c=f.appendChild(us())}var h=null,d=!1,m=qo(()=>{var g=r();return Mn(g)?g:g==null?[]:rs(g)});fn(()=>{var g=o(m),p=g.length;d&&p===0||(d=p===0,bi(g,v,c,l,e,s,r),a!==null&&(p===0?h?Fn(h):h=Ot(()=>a(c)):h!==null&&sn(h,()=>{h=null})),o(m))})}function bi(t,e,r,s,l,a,c){var j,D,F,X;var v=(l&Ma)!==0,u=(l&(as|is))!==0,f=t.length,h=e.items,d=e.first,m=d,g,p=null,w,b=[],y=[],C,S,k,_;if(v)for(_=0;_<f;_+=1)C=t[_],S=a(C,_),k=h.get(S),k!==void 0&&((j=k.a)==null||j.measure(),(w??(w=new Set)).add(k));for(_=0;_<f;_+=1){if(C=t[_],S=a(C,_),k=h.get(S),k===void 0){var M=m?m.e.nodes_start:r;p=wi(M,e,p,p===null?e.first:p.next,C,S,_,s,l,c),h.set(S,p),b=[],y=[],m=p.next;continue}if(u&&pi(k,C,_,l),(k.e.f&rn)!==0&&(Fn(k.e),v&&((D=k.a)==null||D.unfix(),(w??(w=new Set)).delete(k))),k!==m){if(g!==void 0&&g.has(k)){if(b.length<y.length){var E=y[0],A;p=E.prev;var N=b[0],L=b[b.length-1];for(A=0;A<b.length;A+=1)Xo(b[A],E,r);for(A=0;A<y.length;A+=1)g.delete(y[A]);dn(e,N.prev,L.next),dn(e,p,N),dn(e,L,E),m=E,p=L,_-=1,b=[],y=[]}else g.delete(k),Xo(k,m,r),dn(e,k.prev,k.next),dn(e,k,p===null?e.first:p.next),dn(e,p,k),p=k;continue}for(b=[],y=[];m!==null&&m.k!==S;)(m.e.f&rn)===0&&(g??(g=new Set)).add(m),y.push(m),m=m.next;if(m===null)continue;k=m}b.push(k),p=k,m=k.next}if(m!==null||g!==void 0){for(var q=g===void 0?[]:rs(g);m!==null;)(m.e.f&rn)===0&&q.push(m),m=m.next;var T=q.length;if(T>0){var I=(l&po)!==0&&f===0?r:null;if(v){for(_=0;_<T;_+=1)(F=q[_].a)==null||F.measure();for(_=0;_<T;_+=1)(X=q[_].a)==null||X.fix()}gi(e,q,I,h)}}v&&Qn(()=>{var Q;if(w!==void 0)for(k of w)(Q=k.a)==null||Q.apply()}),Pe.first=e.first&&e.first.e,Pe.last=p&&p.e}function pi(t,e,r,s){(s&as)!==0&&jn(t.v,e),(s&is)!==0?jn(t.i,r):t.i=r}function wi(t,e,r,s,l,a,c,v,u,f){var h=(u&as)!==0,d=(u&Na)===0,m=h?d?yr(l):_n(l):l,g=(u&is)===0?c:_n(c),p={i:g,v:m,k:a,a:null,e:null,prev:r,next:s};try{return p.e=Ot(()=>v(t,m,g,f),Da),p.e.prev=r&&r.e,p.e.next=s&&s.e,r===null?e.first=p:(r.next=p,r.e.next=p.e),s!==null&&(s.prev=p,s.e.prev=p.e),p}finally{}}function Xo(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,l=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==s;){var c=xr(a);l.before(a),a=c}}function dn(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function _t(t,e,r,s,l){var a=t,c="",v;fn(()=>{c!==(c=e()??"")&&(v!==void 0&&(Kt(v),v=void 0),c!==""&&(v=Ot(()=>{var u=c+"";r&&(u=`<svg>${u}</svg>`);var f=ps(u);if((r||s)&&(f=St(f)),Vn(St(f),f.lastChild),r||s)for(;St(f);)a.before(St(f));else a.before(f)})))})}function xn(t,e,...r){var s=t,l=mt,a;fn(()=>{l!==(l=e())&&(a&&(Kt(a),a=null),a=Ot(()=>l(s,...r)))},Rn)}function Es(t,e,r){var s=t,l,a;fn(()=>{l!==(l=e())&&(a&&(sn(a),a=null),l&&(a=Ot(()=>r(s,l))))},Rn)}function Qo(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(r=Qo(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function _i(){for(var t,e,r=0,s="",l=arguments.length;r<l;r++)(t=arguments[r])&&(e=Qo(t))&&(s&&(s+=" "),s+=e);return s}function yi(t){return typeof t=="object"?_i(t):t??""}const Jo=[...` 	
\r\f \v\uFEFF`];function xi(t,e,r){var s=t==null?"":""+t;if(e&&(s=s?s+" "+e:e),r){for(var l in r)if(r[l])s=s?s+" "+l:l;else if(s.length)for(var a=l.length,c=0;(c=s.indexOf(l,c))>=0;){var v=c+a;(c===0||Jo.includes(s[c-1]))&&(v===s.length||Jo.includes(s[v]))?s=(c===0?"":s.substring(0,c))+s.substring(v+1):c=v}}return s===""?null:s}function Ei(t,e){return t==null?null:String(t)}function vt(t,e,r,s,l,a){var c=t.__className;if(c!==r||c===void 0){var v=xi(r,s,a);v==null?t.removeAttribute("class"):e?t.className=v:t.setAttribute("class",v),t.__className=r}else if(a&&l!==a)for(var u in a){var f=!!a[u];(l==null||f!==!!l[u])&&t.classList.toggle(u,f)}return a}function Dt(t,e,r,s){var l=t.__style;if(l!==e){var a=Ei(e);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}return s}const ki=Symbol("is custom element"),Ci=Symbol("is html");function O(t,e,r,s){var l=Ai(t);l[e]!==(l[e]=r)&&(e==="loading"&&(t[ba]=r),r==null?t.removeAttribute(e):typeof r!="string"&&qi(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Ai(t){return t.__attributes??(t.__attributes={[ki]:t.nodeName.includes("-"),[Ci]:t.namespaceURI===Fa})}var Zo=new Map;function qi(t){var e=Zo.get(t.nodeName);if(e)return e;Zo.set(t.nodeName,e=[]);for(var r,s=t,l=Element.prototype;l!==s;){r=co(s);for(var a in r)r[a].set&&e.push(a);s=ss(s)}return e}const Si=()=>performance.now(),on={tick:t=>requestAnimationFrame(t),now:()=>Si(),tasks:new Set};function $o(){const t=on.now();on.tasks.forEach(e=>{e.c(t)||(on.tasks.delete(e),e.f())}),on.tasks.size!==0&&on.tick($o)}function Mi(t){let e;return on.tasks.size===0&&on.tick($o),{promise:new Promise(r=>{on.tasks.add(e={c:t,f:r})}),abort(){on.tasks.delete(e)}}}function Tr(t,e){gs(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ni(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function el(t){const e={},r=t.split(";");for(const s of r){const[l,a]=s.split(":");if(!l||a===void 0)break;const c=Ni(l.trim());e[c]=a.trim()}return e}const Pi=t=>t;function Ti(t,e,r,s){var l=(t&Ia)!==0,a="both",c,v=e.inert,u=e.style.overflow,f,h;function d(){var b=Ae,y=Pe;wt(null),Rt(null);try{return c??(c=r()(e,(s==null?void 0:s())??{},{direction:a}))}finally{wt(b),Rt(y)}}var m={is_global:l,in(){e.inert=v,Tr(e,"introstart"),f=ks(e,d(),h,1,()=>{Tr(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=u})},out(b){e.inert=!0,Tr(e,"outrostart"),h=ks(e,d(),f,0,()=>{Tr(e,"outroend"),b==null||b()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},g=Pe;if((g.transitions??(g.transitions=[])).push(m),ws){var p=l;if(!p){for(var w=g.parent;w&&(w.f&Rn)!==0;)for(;(w=w.parent)&&(w.f&gr)===0;);p=!w||(w.f&vo)!==0}p&&Kn(()=>{Qt(()=>m.in())})}}function ks(t,e,r,s,l){var a=s===1;if(Nn(e)){var c,v=!1;return Qn(()=>{if(!v){var b=e({direction:a?"in":"out"});c=ks(t,b,r,s,l)}}),{abort:()=>{v=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return l(),{abort:mt,deactivate:mt,reset:mt,t:()=>s};const{delay:u=0,css:f,tick:h,easing:d=Pi}=e;var m=[];if(a&&r===void 0&&(h&&h(0,1),f)){var g=el(f(0,1));m.push(g,g)}var p=()=>1-s,w=t.animate(m,{duration:u});return w.onfinish=()=>{var b=(r==null?void 0:r.t())??1-s;r==null||r.abort();var y=s-b,C=e.duration*Math.abs(y),S=[];if(C>0){var k=!1;if(f)for(var _=Math.ceil(C/16.666666666666668),M=0;M<=_;M+=1){var E=b+y*d(M/_),A=el(f(E,1-E));S.push(A),k||(k=A.overflow==="hidden")}k&&(t.style.overflow="hidden"),p=()=>{var N=w.currentTime;return b+y*d(N/C)},h&&Mi(()=>{if(w.playState!=="running")return!1;var N=p();return h(N,1-N),!0})}w=t.animate(S,{duration:C,fill:"forwards"}),w.onfinish=()=>{p=()=>s,h==null||h(s,1-s),l()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=mt)},deactivate:()=>{l=mt},reset:()=>{s===0&&(h==null||h(1,0))},t:()=>p()}}function tl(t,e,r=e){var s=wn();fi(t,"input",l=>{var a=l?t.defaultValue:t.value;if(a=Cs(t)?As(a):a,r(a),s&&a!==(a=e())){var c=t.selectionStart,v=t.selectionEnd;t.value=a??"",v!==null&&(t.selectionStart=c,t.selectionEnd=Math.min(v,t.value.length))}}),Qt(e)==null&&t.value&&r(Cs(t)?As(t.value):t.value),fs(()=>{var l=e();Cs(t)&&l===As(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function Cs(t){var e=t.type;return e==="number"||e==="range"}function As(t){return t===""?null:+t}const $r=class $r{constructor(e){dr(this,Zr);dr(this,bn,new WeakMap);dr(this,Un);dr(this,ur);io(this,ur,e)}observe(e,r){var s=an(this,bn).get(e)||new Set;return s.add(r),an(this,bn).set(e,s),aa(this,Zr,ia).call(this).observe(e,an(this,ur)),()=>{var l=an(this,bn).get(e);l.delete(r),l.size===0&&(an(this,bn).delete(e),an(this,Un).unobserve(e))}}};bn=new WeakMap,Un=new WeakMap,ur=new WeakMap,Zr=new WeakSet,ia=function(){return an(this,Un)??io(this,Un,new ResizeObserver(e=>{for(var r of e){$r.entries.set(r.target,r);for(var s of an(this,bn).get(r.target)||[])s(r)}}))},Sn($r,"entries",new WeakMap);let qs=$r;var Ri=new qs({box:"border-box"});function nl(t,e,r){var s=Ri.observe(t,()=>r(t[e]));Kn(()=>(Qt(()=>r(t[e])),s))}function rl(t,e){return t===e||(t==null?void 0:t[un])===e}function Rr(t={},e,r,s){return Kn(()=>{var l,a;return fs(()=>{l=a,a=[],Qt(()=>{t!==r(...a)&&(e(t,...a),l&&rl(r(...l),t)&&e(null,...l))})}),()=>{Qn(()=>{a&&rl(r(...a),t)&&e(null,...a)})}}),t}function Li(t=!1){const e=Ne,r=e.l.u;if(!r)return;let s=()=>ai(e.s);if(t){let l=0,a={};const c=In(()=>{let v=!1;const u=e.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],v=!0);return v&&l++,l});s=()=>o(c)}r.b.length&&Ga(()=>{sl(e,s),hr(r.b)}),ge(()=>{const l=Qt(()=>r.m.map(ha));return()=>{for(const a of l)typeof a=="function"&&a()}}),r.a.length&&ge(()=>{sl(e,s),hr(r.a)})}function sl(t,e){if(t.l.s)for(const r of t.l.s)o(r);e()}let Lr=!1;function ji(t){var e=Lr;try{return Lr=!1,[t(),Lr]}finally{Lr=e}}const Ii={get(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(Nn(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,r){let s=t.props.length;for(;s--;){let l=t.props[s];Nn(l)&&(l=l());const a=cn(l,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(Nn(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const l=cn(s,e);return l&&!l.configurable&&(l.configurable=!0),l}}},has(t,e){if(e===un||e===mo)return!1;for(let r of t.props)if(Nn(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props){Nn(r)&&(r=r());for(const s in r)e.includes(s)||e.push(s)}return e}};function je(...t){return new Proxy({props:t},Ii)}function ol(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Y(t,e,r,s){var M;var l=(r&Pa)!==0,a=!Ln||(r&Ta)!==0,c=(r&La)!==0,v=(r&ja)!==0,u=!1,f;c?[f,u]=ji(()=>t[e]):f=t[e];var h=un in t||mo in t,d=c&&(((M=cn(t,e))==null?void 0:M.set)??(h&&e in t&&(E=>t[e]=E)))||void 0,m=s,g=!0,p=!1,w=()=>(p=!0,g&&(g=!1,v?m=Qt(s):m=s),m);f===void 0&&s!==void 0&&(d&&a&&Ea(),f=w(),d&&d(f));var b;if(a)b=()=>{var E=t[e];return E===void 0?w():(g=!0,p=!1,E)};else{var y=(l?In:qo)(()=>t[e]);y.f|=ma,b=()=>{var E=o(y);return E!==void 0&&(m=void 0),E===void 0?m:E}}if((r&Ra)===0)return b;if(d){var C=t.$$legacy;return function(E,A){return arguments.length>0?((!a||!A||C||u)&&d(A?b():E),E):b()}}var S=!1,k=yr(f),_=In(()=>{var E=b(),A=o(k);return S?(S=!1,A):k.v=E});return c&&o(_),l||(_.equals=ls),function(E,A){if(arguments.length>0){const N=A?o(_):a&&c?Ue(E):E;if(!_.equals(N)){if(S=!0,G(k,N),p&&m!==void 0&&(m=N),ol(_))return E;Qt(()=>o(_))}return E}return ol(_)?_.v:o(_)}}function zi(t){Ne===null&&_o(),Ln&&Ne.l!==null?Fi(Ne).m.push(t):ge(()=>{const e=Qt(t);if(typeof e=="function")return e})}function Fi(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Vi="5";typeof window<"u"&&((sa=window.__svelte??(window.__svelte={})).v??(sa.v=new Set)).add(Vi),Sa();function ll(t){if(qe(t))return ll(t.v);const e=new xe.valuesConstructor(t.length-1);for(let r=0;r<t.length-1;r++)e[r]=t[r+1]-t[r];return new xe(e)}function Ss(t,e){return qe(t)?Ss(t.v,e):Math.sqrt(jr(t,e))}function jr(t,e){if(e===void 0&&(e=!1),qe(t))return jr(t.v);const r=Dn(t);let s=0;for(let l=0;l<t.length;l++){const a=t[l]-r;s=s+a*a}return s/(e?t.length:t.length-1)}function Dn(t){return qe(t)?Dn(t.v):al(t)/t.length}function al(t){if(qe(t))return al(t.v);let e=0;for(let r=0;r<t.length;r++)e=e+t[r];return e}function il(t){if(qe(t))return il(t.v);let e=1;for(let r=0;r<t.length;r++)e=e*t[r];return e}function Bn(t){return qe(t)||Wt(t)?t.v[Ms(t.v)-1]:t[Ms(t)-1]}function Ms(t){if(qe(t)||Wt(t))return Ms(t.v);let e=1,r=t[0];for(let s=2;s<=t.length;s++)t[s-1]<r&&(e=s,r=t[s-1]);return e}function En(t){return qe(t)||Wt(t)?t.v[Ns(t.v)-1]:t[Ns(t)-1]}function Ns(t){if(qe(t)||Wt(t))return Ns(t.v);let e=1,r=t[0];for(let s=2;s<=t.length;s++)t[s-1]>r&&(e=s,r=t[s-1]);return e}const Ps=30,Oi=1e-7,Di=1e-7,cl=1e-13,ul=1e3,Bi=100;function fl(t,e,r,s,l){s===void 0&&(s=ul),r===void 0&&(r=cl),l===void 0&&(l=Bi);let a=r,c=s,v=(c-a)/l;for(let u=0;u<l;u++){let f,h;for(let g=0;g<l;g++){f=a+g*v,h=a+(g+1)*v;const p=e(f),w=e(h);if(p<=t&&w>=t)break}const d=(f+h)/2,m=e(d);if(Math.abs(m-t)<Oi||(a=f,c=h,v=(c-a)/l,v/c<Di))return d}return(a+c)/2}function vl(t,e=0,r=1){let s=xe.zeros(t);for(let l=0;l<t;l++)s.v[l]=e+Math.random()*(r-e);return s}function dl(t,e=0,r=1){let s=xe.zeros(t);for(let l=0;l<t;l++){const a=Math.sqrt(-2*Math.log(Math.random())),c=2*Math.PI*Math.random();s.v[l]=a*Math.sin(c)*r+e}return s}function Ir(t,e=0,r=1){if(qe(t))return t.apply(l=>Ir(l,e,r));const s=1/(Math.sqrt(2)*r);return .5*(1+Ui((t-e)*s))}function Ts(t,e=0,r=1){if(qe(t))return t.apply(I=>Ts(I,e,r));if(e!==0||r!==1)return Ts(t)*r+e;if(t<0||t>1)throw Error('Parameter "p" must be between 0 and 1.');if(t<1e-10)return-1/0;if(t>.9999999999)return 1/0;const s=.425,l=5,a=.180625,c=1.6,v=3.3871327179,u=5.0434271938*10,f=1.5929113202*100,h=5.910937472*10,d=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,p=1.4234372777,w=2.75681539,b=1.3067284816,y=1.7023821103*.1,C=7.370016425*.1,S=1.2021132975*.1,k=6.657905115,_=3.081226386,M=4.2868294337*.1,E=1.7337203997*.01,A=2.4197894225*.1,N=1.2258202635*.01,L=t-.5;let q;if(Math.abs(L)<=s)return q=a-L*L,L*(((h*q+f)*q+u)*q+v)/(((g*q+m)*q+d)*q+1);q=L<0?t:1-t,q=Math.sqrt(-Math.log(q));let T;return q<=l?(q=q-c,T=(((y*q+b)*q+w)*q+p)/((S*q+C)*q+1)):(q=q-l,T=((E*q+M)*q+_+k)/((N*q+A)*q+1)),L<0?-T:T}function Rs(t,e,r){if(r<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(t))return Rs(Ke(t),e,r);if(qe(t))return t.apply(s=>Rs(s,e,r));if(t<=0)return 0;if(r<=0&&ML_ERR_return_NAN,r==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(t<1)return 0;if(t==1)return .5;if(t>1)return 1}return zr(t*e,e)}return e==Number.POSITIVE_INFINITY?1-zr(r/t,r):e*t>r?1-Vr(r/(r+e*t),r/2,e/2):Vr(e*t/(r+e*t),e/2,r/2)}function hl(t,e,r){if(t===0)return 0;if(t===1)return Inf;if(r<=0)return NaN;let s=ul,l=cl;if(t>.9997&&r===1?(s=1e7,l=6e5,t=.9997):t>.9992&&r===1?(s=1e7,l=6e5):t>.997&&r===1?(s=1e6,l=45e3):t>.992&&r===1?(s=1e5,l=5e3):t>.97&&r===1&&(s=1e4,l=400),Array.isArray(t))return hl(Ke(t),e,r);const a=v=>Rs(v,e,r);function c(v,u,f){return v===0?0:v===1?Inf:u===0?NaN:f===0?NaN:fl(v,a,l,s)}return qe(t)?t.apply(c,e,r):c(t,e,r)}function zr(t,e){if(Array.isArray(t))return zr(Ke(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),s=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(s);function a(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const f=u/e,h=Math.pow(f,1/6)-.5*Math.pow(f,1/3)+1/3*Math.pow(f,1/2);return Ir(h,r,l)}function c(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:Wi(u/2,e/2)/tr(e/2)}const v=e>Ps?a:c;return qe(t)?t.apply(v):v(t)}function Fr(t,e){if(Array.isArray(t))return Fr(Ke(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),s=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(s);function a(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const f=Ts(u,r,l),h=Math.pow(Math.sqrt(36*f*f-30*f+13)/4+(3*f-3/2)/2+1/8,1/3);return Math.pow(h-3/(4*h)+.5,6)*e}function c(u){return u===0?0:u===1?Inf:e===0?0:fl(u,h=>zr(h,e),0,Ps*10)}const v=e>Ps?a:c;return qe(t)?t.apply(v):v(t)}function Vr(t,e,r){if(Array.isArray(t))return Vr(Ke(t),e,r);if(qe(t))return t.apply(l=>Vr(l,e,r));if(t<=0)return 0;if(t>=1)return 1;if(e==0||r==0||!Number.isFinite(e)||!Number.isFinite(r))return e==0&&r==0?.5:e==0||e/r==0?1:r==0||r/e==0||t<.5?0:1;const s=.5-t+.5;return nc(e,r,t,s)}function tr(t){if(qe(t))return t.apply(tr);if(t<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.PI/(Math.sin(Math.PI*t)+tr(1-t));t=t-1;let r=.9999999999998099;for(let l=0;l<e.length;l++)r=r+e[l]/(t+l+1);const s=t+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*r}function Wi(t,e){let l=0;for(let a=0;a<1e4;a++){const c=Math.pow(t,a)/tr(e+a+1);if(isNaN(c)||c<1e-18)break;l+=c}return Math.pow(t,e)*tr(e)*Math.exp(-t)*l}function Ui(t){const e=t>=0?1:-1;t=Math.abs(t);const r=.254829592,s=-.284496736,l=1.421413741,a=-1.453152027,c=1.061405429,u=1/(1+.3275911*t),f=1-((((c*u+a)*u+l)*u+s)*u+r)*u*Math.exp(-t*t);return e*f}function ml(t,e){const r=.564189583547756,s=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],a=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],c=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],v=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let f,h,d,m,g=Math.abs(e);if(g<=.5)return h=e*e,m=(((s[0]*h+s[1])*h+s[2])*h+s[3])*h+s[4]+1,d=((l[0]*h+l[1])*h+l[2])*h+1,f=.5-e*(m/d)+.5,f=Math.exp(h)*f,f;if(g<=4)m=((((((a[0]*g+a[1])*g+a[2])*g+a[3])*g+a[4])*g+a[5])*g+a[6])*g+a[7],d=((((((c[0]*g+c[1])*g+c[2])*g+c[3])*g+c[4])*g+c[5])*g+c[6])*g+c[7],f=m/d;else{if(e<=-5.6)return f=2,f=Math.exp(e*e)*2,f;h=1/(e*e),m=(((v[0]*h+v[1])*h+v[2])*h+v[3])*h+v[4],d=(((u[0]*h+u[1])*h+u[2])*h+u[3])*h+1,f=(r-h*m/d)/g}return e<0&&(f=Math.exp(e*e)*2-f),f}function gl(t,e){let r=t+e-2;return r<=.25?jt(r+1):r<=1.25?jt(r)+mn(r):jt(r-1)+Math.log(r*(r+1))}function Or(t,e){const r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;let u,f,h,d,m,g,p,w,b,y,C,S,k,_,M;return h=Math.min(t,e),d=Math.max(t,e),g=h/d,m=g/(g+1),b=1/(g+1),S=b*b,y=b+S+1,C=b+S*y+1,k=b+S*C+1,_=b+S*k+1,M=b+S*_+1,f=1/d,p=f*f,w=((((v*M*p+c*_)*p+a*k)*p+l*C)*p+s*y)*p+r,w*=m/d,f=1/h,p=f*f,u=(((((v*p+c)*p+a)*p+l)*p+s)*p+r)/h+w,u}function Be(t){let e,r,s,l,a;if(r=t,e=t-.5,e>0&&(r=e-.5),r<0){const c=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],v=.273076135303957,u=.0559398236957378;return a=(((((((c[8]*r+c[7])*r+c[6])*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],l=(u*r+v)*r+1,s=a/l,e>0?r*s/t:t*(s+.5+.5)}else{if(r==0)return 0;{const c=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],v=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return a=(((((c[6]*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],l=(((v[4]*r+v[3])*r+v[2])*r+v[1])*r+1,s=a/l,e>0?r/t*(s-.5-.5):t*s}}}function Yi(t,e,r){let s,l,a,c;if(t<-1.1||t>1.1)return Number.NaN;c=t*2,a=l=0,s=0;for(let v=1;v<=r;v++)a=l,l=s,s=c*l-a+e[r-v];return(s-a)*.5}function bl(t){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],r=22,s=-.999999985;if(t==0)return 0;if(t==-1)return Number.NEGATIVE_INFINITY;if(t<-1)return Number.NaN;if(Math.abs(t)<=.375)return Math.abs(t)<.5*Number.EPSILON?t:0<t&&t<1e-8||-1e-9<t&&t<0?t*(1-.5*t):t*(1-t*Yi(t/.375,e,r));if(t<s)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+t)}function hn(t,e){const r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;let u,f,h,d,m,g,p,w,b,y,C,S,k,_;return t>e?(h=e/t,u=1/(h+1),w=h/(h+1),f=t+(e-.5)):(h=t/e,u=h/(h+1),w=1/(h+1),f=e+(t-.5)),C=w*w,b=w+C+1,y=w+C*b+1,S=w+C*y+1,k=w+C*S+1,_=w+C*k+1,d=1/(e*e),p=((((v*_*d+c*k)*d+a*S)*d+l*y)*d+s*b)*d+r,p*=u/e,m=f*mn(t/e),g=t*(Math.log(e)-1),m>g?p-g-m:p-m-g}function jt(t){if(t<.6){const p=((((((-.00271935708322958*t+-.0673562214325671)*t+-.402055799310489)*t+-.780427615533591)*t+-.168860593646662)*t+.844203922187225)*t+.577215664901533)/((((((.000667465618796164*t+.0325038868253937)*t+.361951990101499)*t+1.56875193295039)*t+3.12755088914843)*t+2.88743195473681)*t+1);return-t*p}else{const e=.422784335098467,r=.848044614534529,s=.565221050691933,l=.156513060486551,a=.017050248402265,c=.000497958207639485,v=1.24313399877507,u=.548042109832463,f=.10155218743983,h=.00713309612391,d=.000116165475989616,m=t-.5-.5,g=(((((c*m+a)*m+l)*m+s)*m+r)*m+e)/(((((d*m+h)*m+f)*m+u)*m+v)*m+1);return m*g}}function Bt(t){const e=.418938533204673,r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;if(t<=.8)return jt(t)-Math.log(t);if(t<=2.25)return jt(t-.5-.5);if(t<10){let h=Math.round(t-1.25),d=t,m=1;for(let g=1;g<=h;++g)d+=-1,m*=d;return jt(d-1)+Math.log(m)}let u=1/(t*t),f=(((((v*u+c)*u+a)*u+l)*u+s)*u+r)/t;return e+f+(t-.5)*(Math.log(t)-1)}function Ls(t,e){const r=.918938533204673;let s=Math.min(t,e),l=Math.max(t,e);function a(c,v,u){let f=Math.round(u-1),h=1;for(let d=1;d<=f;++d)u+=-1,h*=u/(v+u);return c+Math.log(h)+(Bt(v)+(Bt(u)-gl(v,u)))}if(s<8){if(s<1)return l<8?Bt(s)+(Bt(l)-Bt(s+l)):Bt(s)+hn(s,l);let c;if(s<2)return l<=2?Bt(s)+Bt(l)-gl(s,l):l<8?(c=0,a(c,s,l)):Bt(s)+hn(s,l);if(l<=1e3){let v=Math.round(s-1);c=1;for(let u=1;u<=v;++u){s+=-1;let f=s/l;c*=f/(f+1)}return c=Math.log(c),l>=8?c+Bt(s)+hn(s,l):a(c,s,l)}else{let v=Math.round(s-1);c=1;for(let u=1;u<=v;++u)s+=-1,c*=s/(s/l+1);return log(c)-v*log(l)+(Bt(s)+hn(s,l))}}else{let c=Or(s,l),v=s/l,u=-(s-.5)*Math.log(v/(v+1)),f=l*mn(v);return u>f?Math.log(l)*-.5+r+c-f-u:Math.log(l)*-.5+r+c-u-f}}function pl(t){return(t==0?1024:-300)*.69314718055995*.99999}function Wn(t){const e=.0566749439387324,r=.0456512608815524,s=.333333333333333,l=-.224696413112536,a=.00620886815375787,c=-1.27408923933623,v=.354508718369557;let u,f,h,d,m;return t<-.39||t>.57?(d=t+.5+.5,t-Math.log(d)):(t<-.18?(u=t+.3,u/=.7,m=e-u*.3):t>.18?(u=t*.75-.25,m=r+u/3):(u=t,m=0),f=u/(u+2),h=f*f,d=((a*h+l)*h+s)/((v*h+c)*h+1),h*2*(1/(1-f)-f*d)+m)}function mn(t){if(Math.abs(t)>.375)return Math.log(1+t);const e=-1.29418923021993,r=.405303492862024,s=-.0178874546012214,l=-1.62752256355323,a=.747811014037616,c=-.0845104217945565;let v=t/(t+2),u=v*v,f=(((s*u+r)*u+e)*u+1)/(((c*u+a)*u+l)*u+1);return v*2*f}function Hi(t){const e=.564189583547756,r=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],l=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],a=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],c=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],v=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,f,h,d,m;if(h=Math.abs(t),h<=.5)return u=t*t,m=(((r[0]*u+r[1])*u+r[2])*u+r[3])*u+r[4]+1,d=((s[0]*u+s[1])*u+s[2])*u+1,t*(m/d);if(h<=4){m=((((((l[0]*h+l[1])*h+l[2])*h+l[3])*h+l[4])*h+l[5])*h+l[6])*h+l[7],d=((((((a[0]*h+a[1])*h+a[2])*h+a[3])*h+a[4])*h+a[5])*h+a[6])*h+a[7];let p=.5-Math.exp(-t*t)*m/d+.5;return t<0?-p:p}if(h>=5.8)return t>0?1:-1;f=t*t,u=1/f,m=(((c[0]*u+c[1])*u+c[2])*u+c[3])*u+c[4],d=(((v[0]*u+v[1])*u+v[2])*u+v[3])*u+1,u=(e-m/(f*d))/h;let g=.5-Math.exp(-f)*u+.5;return t<0?-g:g}function Gi(t){const e=914041914819518e-24,r=.0238082361044469,s=-.499999999085958,l=.107141568980644,a=-.0119041179760821,c=.000595130811860248;if(Math.abs(t)<=.15)return t*(((r*t+e)*t+1)/((((c*t+a)*t+l)*t+s)*t+1));{let v=Math.exp(t);return t>0?v*(.5-1/v+.5):v-.5-.5}}function nr(t,e){let r;if(e>0){if(t>0||(r=t+e,r<0))return Math.exp(t)*Math.exp(e)}else if(t<0||(r=t+e,r>0))return Math.exp(t)*Math.exp(e);return Math.exp(r)}function Ki(t){const e=.785398163397448,r=1.4616321449683622,s=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],l=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],a=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],c=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let v,u,f,h,d,m,g,p,w,b,y,C,S;if(y=Number.MAX_SAFE_INTEGER,h=.5/(.5*Number.EPSILON),y>h&&(y=h),S=1e-9,p=0,t<.5){if(fabs(t)<=S){if(t==0)return 0;p=-1/t}else{if(d=-t,w=e,d<=0&&(d=-d,w=-w),d>=y)return 0;if(f=Math.round(d),d-=f,f=Math.round(d*4),d=(d-f*.25)*4,u=f/2,u+u!=f&&(d=1-d),m=e*d,v=u/2,v+v!=u&&(w=-w),u=(f+1)/2,v=u/2,v+=v,v==u){if(m==0)return 0;p=w*(cos(m)/sin(m)*4)}else p=w*(sin(m)/cos(m)*4)}t=1-t}if(t<=3){g=t,C=s[0]*t;for(let k=1;k<=5;++k)g=(g+l[k-1])*t,C=(C+s[k])*t;return g=(C+s[6])/(g+l[5]),b=t-r,g*b+p}if(t<y){d=1/(t*t),g=d,C=a[0]*d;for(let k=1;k<=3;++k)g=(g+c[k-1])*d,C=(C+a[k])*d;p=C/(g+c[3])-.5/t+p}return p+log(t)}function Xi(t,e,r,s){let l,a,c,v,u,f;if(t>s*.001){if(v=t*Math.log(r),v<Math.exparg(1))return 0;l=Math.exp(v)}else l=1;for(l*=e/t,f=s/t,u=t+1,v=r,c=v/u,u+=1,v=r*v,a=v/u,c+=a;Math.abs(r)>f;)u+=1,v=r*v,a=v/u,c+=a;return l*=t*c+1,l}function Qi(t,e,r,s){const l=.577215664901533;let a,c,v,u,f,h,d=e*r;for(f=r-d,c=e*s<=.02?Math.log(r)+Ki(e)+l+f:Math.log(d)+l+f,a=s*5*Math.abs(c),v=1,u=0,v+=1,f*=r-d/v,h=f/v,u+=h;Math.abs(h)>a;)v+=1,f*=r-d/v,h=f/v,u+=h;return-t*(c+u)}function js(t,e,r,s){let l,a,c,v,u,f,h,d,m;if(r==0)return 0;if(h=Math.min(t,e),h>=1)f=t*Math.log(r)-Ls(t,e),a=Math.exp(f)/t;else if(d=Math.max(t,e),d<8)if(d<=1){if(a=Math.pow(r,t),a==0)return a;m=t+e,m>1?(u=t+e-1,f=(Be(u)+1)/m):f=Be(m)+1,c=(Be(t)+1)*(Be(e)+1)/f,a*=c*(e/m)}else{if(u=jt(h),l=Math.round(d-1),l>=1){c=1;for(let y=1;y<=l;++y)d+=-1,c*=d/(h+d);u+=Math.log(c)}f=t*Math.log(r)-u,d+=-1,m=h+d,m>1?(u=h+d-1,v=(Be(u)+1)/m):v=Be(m)+1,a=Math.exp(f)*(h/t)*(Be(d)+1)/v}else u=jt(h)+hn(h,d),f=t*Math.log(r)-u,a=h/t*Math.exp(f);if(a==0||t<=s*.1)return a;let g=s/t,p=0,w=0,b;for(c=1,p+=1,c*=(.5-e/p+.5)*r,b=c/(t+p),w+=b;p<1e7&&Math.abs(b)>g;)p+=1,c*=(.5-e/p+.5)*r,b=c/(t+p),w+=b;return t*w>-1?a*=t*w+1:a=0,a}function Dr(t,e,r,s,l,a){let c,v,u,f,h,d=t+e,m=t+1;if(l>1&&t>=1&&d>=m*1.1?(u=Math.round(Math.abs(pl(1))),v=Math.round(pl(0)),u>v&&(u=v),f=Math.exp(-u)):(u=0,f=1),c=$i(u,t,e,r,s)/t,l==1||c==0)return c;let g=l-1,p=f;if(v=0,e>1){if(s>1e-4){let w=(e-1)*r/s-t;w>=1&&(v=w<g?Math.round(w):g)}else v=g;for(let w=0;w<v;++w)h=w,f*=(d+h)/(m+h)*r,p+=f}for(let w=v;w<g&&(h=w,f*=(d+h)/(m+h)*r,p+=f,!(f<=a*p));++w);return c*=p,c}function Ji(t,e,r,s,l,a){let c,v,u,f,h,d,m,g,p,w,b,y,C,S,k,_,M,E,A;if(!Number.isFinite(l)||(A=Zi(t,e,r,s),Number.isNaN(A)))return Number.NaN;if(A==0)return 0;for(c=l+1,p=e/t,w=1/t+1,S=s+1,u=0,f=1,d=t+1,y=0,C=1,k=1,_=c/w,h=w/c,u+=1,m=u/t,g=u*(e-u)*r,v=t/d,E=f*(f+p)*v*v*(g*r),v=(m+1)/(w+m+m),M=u+g/d+v*(c+u*S),f=m+1,d+=2,m=E*y+M*k,y=k,k=m,m=E*C+M*_,C=_,_=m,b=h,h=k/_,y/=_,C/=_,k=h,_=1;u<1e4&&(u+=1,m=u/t,g=u*(e-u)*r,v=t/d,E=f*(f+p)*v*v*(g*r),v=(m+1)/(w+m+m),M=u+g/d+v*(c+u*S),f=m+1,d+=2,m=E*y+M*k,y=k,k=m,m=E*C+M*_,C=_,_=m,b=h,h=k/_,!(Math.abs(h-b)<=a*h));)y/=_,C/=_,k=h,_=1;return A*h}function Zi(t,e,r,s){const l=.398942280401433;let a,c,v,u,f,h,d,m,g;if(r==0||s==0)return 0;if(d=Math.min(t,e),d<8){let p,w;if(r<=.375?(p=Math.log(r),w=mn(-r)):s>.375?(p=Math.log(r),w=Math.log(s)):(p=mn(-s),w=Math.log(s)),h=t*p+e*w,d>=1)return h-=Ls(t,e),Math.exp(h);if(m=Math.max(t,e),m>=8)return u=jt(d)+hn(d,m),d*Math.exp(h-u);if(m<=1){let y=Math.exp(h);return y==0?0:(g=t+e,g>1?(u=t+e-1,h=(Be(u)+1)/g):h=Be(g)+1,c=(Be(t)+1)*(Be(e)+1)/h,y*(d*c)/(d/m+1))}if(u=jt(d),a=Math.round(m-1),a>=1){c=1;for(let y=1;y<=a;++y)m+=-1,c*=m/(d+m);u=Math.log(c)+u}h-=u,m+=-1,g=d+m;let b;return g>1?(u=d+m-1,b=(Be(u)+1)/g):b=Be(g)+1,d*Math.exp(h)*(Be(m)+1)/b}else{let p,w,b,y;return t<=e?(p=t/e,w=p/(p+1),b=1/(p+1),y=t-(t+e)*r):(p=e/t,w=1/(p+1),b=p/(p+1),y=(t+e)*s-e),v=-y/t,u=Math.abs(v)>.6?v-Math.log(r/w):Wn(v),v=y/e,f=Math.abs(v)<=.6?Wn(v):v-Math.log(s/b),h=Math.exp(-(t*u+e*f)),l*Math.sqrt(e*w)*h*Math.exp(-Or(t,e))}}function $i(t,e,r,s,l){const a=.398942280401433;let c,v,u,f,h,d,m,g;if(d=Math.min(e,r),d<8){let p,w;if(s<=.375?(p=Math.log(s),w=mn(-s)):l>.375?(p=Math.log(s),w=Math.log(l)):(p=mn(-l),w=Math.log(l)),h=e*p+r*w,d>=1)return h-=Ls(e,r),nr(t,h);if(m=Math.max(e,r),m>=8)return u=jt(d)+hn(d,m),d*nr(t,h-u);if(m<=1){let y=nr(t,h);return y==0?y:(g=e+r,g>1?(u=e+r-1,h=(Be(u)+1)/g):h=Be(g)+1,c=(Be(e)+1)*(Be(r)+1)/h,y*(d*c)/(d/m+1))}u=jt(d);let b=Math.round(m-1);if(b>=1){c=1;for(let y=1;y<=b;++y)m+=-1,c*=m/(d+m);u+=Math.log(c)}return h-=u,m+=-1,g=d+m,v=g>1?(Be(g-1)+1)/g:Be(g)+1,d*nr(t,h)*(Be(m)+1)/v}else{let p,w,b,y;e>r?(p=r/e,w=1/(p+1),b=p/(p+1),y=(e+r)*l-r):(p=e/r,w=p/(p+1),b=1/(p+1),y=e-(e+r)*s),-bl(r/e);let C=-y/e;return u=Math.abs(C)>.6?C-Math.log(s/w):Wn(C),C=y/r,f=Math.abs(C)>.6?C-Math.log(l/b):Wn(C),h=nr(t,-(e*u+r*f)),a*Math.sqrt(r*w)*h*Math.exp(-Or(e,r))}}function Is(t,e,r,s,l,a){let v=Array(30),u=Array(30),f=e-.5-.5,h=t+f*.5,d=s>.375?Math.log(r):mn(-s),m=-h*d;if(e*m==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+bl(Be(e))+e*Math.log(m)+h*d,p=g-(hn(e,t)+e*Math.log(h)),w=Math.exp(p);if(p==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=w==0,y=l==0?0:Math.exp(Math.log(l)-p),C=ec(e,m,g,a),S=.25/(h*h),k=d*.25*d,_=C,M=_,E=1,A=1,N=0;for(let L=1;L<=30;++L){let q=e+N;_=(q*(q+1)*_+(m+q+1)*E)*S,N+=2,E*=k,A/=N*(N+1);let T=L-1;v[T]=A;let I=0;if(L>1){let D=e-L;for(let F=1;F<=T;++F)I+=D*v[F-1]*u[T-F],D+=e}u[T]=f*A+I/L;let j=u[T]*_;if(M+=j,M<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(j)<=a*(M+y))break}return l+=b?Math.exp(p+Math.log(M)):w*M,l}function ec(t,e,r,s){const l=1.772453850905516;if(t*e==0)return e<=t?Math.exp(-r):0;if(t==.5){if(e<.25)return(.5-Hi(Math.sqrt(e))+.5)*Math.exp(-r);{let a=Math.sqrt(e);return ml(1,a)/a*l}}else if(e<1.1){let a=3,c=e,v=e/(t+3),u=s*.1/(t+1),f;for(a+=1,c*=-(e/a),f=c/(t+a),v+=f;Math.abs(f)>u;)a+=1,c*=-(e/a),f=c/(t+a),v+=f;let h=t*e*((v/6-.5/(t+2))*e+1/(t+1)),d=t*Math.log(e),m=Be(t),g=m+1;if(e>=.25&&t<e/2.59||d>-.13394){let p=Gi(d),w=((p+.5+.5)*h-p)*g-m;return w<=0?0:w*Math.exp(-r)}else return(.5-Math.exp(d)*g*(.5-h+.5)+.5)*Math.exp(-r)}else{let a=1,c=1,v=e,u=e+(1-t),f=1,h,d;a=e*c+f*a,v=e*u+f*v,h=a/v,f+=1;let m=f-t;for(c=a+m*c,u=v+m*u,d=c/u;Math.abs(d-h)>=s*d;)a=e*c+f*a,v=e*u+f*v,h=a/v,f+=1,m=f-t,c=a+m*c,u=v+m*u,d=c/u;return d}}function tc(t,e,r,s){const a=1.12837916709551,c=.353553390593274,v=Array(21),u=Array(21),f=Array(21),h=Array(21);let d=t*Wn(-r/t)+e*Wn(r/e),m;if(m=Math.exp(-d),m==0)return 0;let g=Math.sqrt(d),p=g/c*.5,w=d+d,b,y,C,S;t<e?(b=t/e,y=1/(b+1),C=(e-t)/e,S=1/Math.sqrt(t*(b+1))):(b=e/t,y=1/(b+1),C=(e-t)/t,S=1/Math.sqrt(e*(b+1))),v[0]=C*.6666666666666666,f[0]=v[0]*-.5,h[0]=-f[0];let k=.5/a*ml(1,g),_=c,M=k+h[0]*S*_,E=1,A=b*b,N=1,L=S,q=p,T=w;for(let j=2;j<=20;j+=2){N*=A,v[j-1]=y*2*(b*N+1)/(j+2);let D=j+1;E+=N,v[D-1]=C*2*E/(j+3);for(let Q=j;Q<=D;++Q){let W=(Q+1)*-.5;u[0]=W*v[0];for(let ne=2;ne<=Q;++ne){let $=0;for(let ee=1;ee<=ne-1;++ee){let te=ne-ee;$+=(ee*W-te)*v[ee-1]*u[te-1]}u[ne-1]=W*v[ne-1]+$/ne}f[Q-1]=u[Q-1]/(Q+1);let H=0;for(let ne=1;ne<=Q-1;++ne)H+=h[Q-ne-1]*f[ne-1];h[Q-1]=-(H+f[Q-1])}k=c*q+(j-1)*k,_=c*T+j*_,q=w*q,T=w*T,L*=S;let F=h[j-1]*L*k;L*=S;let X=h[D-1]*L*_;if(M+=F+X,Math.abs(F)+Math.abs(X)<=s*M)break}let I=Math.exp(-Or(t,e));return a*m*I*M}function nc(t,e,r,s){let a=0,c=0;function v(b,y,C,S){const k=js(b,y,C,1e-15);return S?.5-k+.5:k}function u(b,y,C,S){const k=js(y,b,C,1e-15);return S?k:.5-k+.5}function f(b,y,C,S,k,_){const M=Ji(b,y,C,S,k,15000000000000002e-30);return _?.5-M+.5:M}function h(b,y,C,S,k){let _=Math.round(y);y=y-_,y===0&&(_=_-1,y=1);let M=Dr(y,b,S,C,_,1e-15);return C<=.7?(M=M+js(b,y,C,1e-15),k?.5-M+.5:M):(b<=15&&(_=20,M=M+Dr(b,y,C,S,_,1e-15),b=b+_),M=Is(b,y,C,S,M,15*1e-15),k?.5-M+.5:M)}if(t<1e-15*.001&&e<1e-15*.001)return e/(t+e);let d,m,g,p,w;if(t<=1||e<=1){if(r>.5?(w=!0,d=e,g=s,m=t,p=r):(w=!1,d=t,g=r,m=e,p=s),m<Math.min(1e-15,1e-15*d))return a=Xi(d,m,g,1e-15),w?.5-a+.5:a;if(d<Math.min(1e-15,1e-15*m)&&m*g<=1)return c=Qi(d,m,g,1e-15),w?c:.5-c+.5;if(Math.max(d,m)>1){if(m<=1)return v(d,m,g,w);if(g>=.29)return u(d,m,p,w);if(g<.1&&Math.pow(g*m,d)<=.7)return v(d,m,g,w)}else{if(d>=Math.min(.2,m)||Math.pow(g,d)<=.9)return v(d,m,g,w);if(g>=.3)return u(d,m,p,w)}let b=!1;return Math.max(d,m)>1&&m>15?c=0:(b=!0,c=Dr(m,d,p,g,20,1e-15),m+=20),c=Is(m,d,p,g,c,15*1e-15),c==0||0<c&&c<Number.MIN_VALUE?(b?c=Dr(m-n,d,p,g,n,1e-15):c=Number.NEGATIVE_INFINITY,c=Is(m,d,p,g,c,15*1e-15),a=-expm1(c),w?.5-a+.5:a):(a=.5-c+.5,w?.5-a+.5:a)}else{let b=Number.isFinite(t+e)?t>e?(t+e)*s-e:t-(t+e)*r:t*s-e*r;const y=b<0;let C,S,k,_;if(y?(b=-b,C=e,k=s,S=t,_=r):(C=t,k=r,S=e,_=s),S<40)return S*k<=.7?v(C,S,k,y):h(C,S,k,_,y);if(C>S){if(S<=100||b>S*.03)return f(C,S,k,_,b,y)}else{if(C<=100)return f(C,S,k,_,b,y);if(b>C*.03)return f(C,S,k,_,b,y)}return a=tc(C,S,b,1e-15*100),y?.5-a+.5:a}}function wl(t){const e=t.nrows,r=t.ncols;if(e<r){const c=wl(t.subset([],yt.seq(1,e)));return{Q:c.Q,R:sc(c.Q,t)}}let s=lt.eye(e),l=t.t();for(let c=1;c<=r;c++)for(let v=e;v>=c+1;v--){const u=l.v.subarray((v-2)*r,v*r),f=s.v.subarray((v-2)*e,v*e),h=u.slice(),d=f.slice(),[m,g,p]=rc(h[c-1],h[c-1+r]);for(let w=0;w<r;w++)u[w]=h[w]*m+h[w+r]*g,u[w+r]=h[w]*-g+h[w+r]*m,f[w]=d[w]*m+d[w+e]*g,f[w+e]=d[w]*-g+d[w+e]*m;for(let w=r;w<e;w++)f[w]=d[w]*m+d[w+e]*g,f[w+e]=d[w]*-g+d[w+e]*m}const a=yt.seq(1,r);return{Q:e===r?s:s.subset([],a),R:e===r?l.t():l.subset([],a).t()}}function rc(t,e){if(t==0)return[0,1,e];if(Math.abs(t)>Math.abs(e)){const a=e/t,c=Math.sqrt(1+a*a),v=1/c;return[v,a*v,t*c]}const r=t/e,s=Math.sqrt(1+r*r),l=1/s;return[r*l,l,e*s]}function _l(t){return typeof t=="number"}function sc(t,e){if(e===void 0&&(e=t),!gn(t)||!gn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const r=t.nrows,s=t.ncols,l=e.nrows,a=e.ncols,c=s,v=a,u=r,f=new Float64Array(c*v);for(let h=0;h<v;h++){const d=e.v.subarray(h*l,(h+1)*l),m=f.subarray(h*c,(h+1)*c);for(let g=0;g<c;g++){const p=t.v.subarray(g*r,(g+1)*r);let w=0;for(let b=0;b<u;b++)w+=p[b]*d[b];m[g]=w}}return new lt(f,c,v)}function yl(t,e,r){if(r===void 0){if(e!==t.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new xe(t.v)}if(t.v.length!==e*r)throw Error("reshape: provided dimension does not match number of values in the object.");return new lt(t.v,e,r)}function gn(t){return t&&t.constructor===lt}function oc(t,e,r){return new lt(new Float64Array(t),e,r)}const pe=class pe{constructor(e,r,s){if(!ArrayBuffer.isView(e)||e.constructor!==pe.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(r===0||s===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==r*s)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=r,this.ncols=s}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return pe.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const s=pe.eye(e),l=pe.eye(e),a=this.t(),c=a.v[(e-1)*e+(e-1)],v=e-1;for(let u=0;u<e;u++)l.v[v*e+u]=s.v[v*e+u]/c;for(let u=e-2;u>=0;u--){let f=s.getcolumn(u+1);const h=a.getcolref(u+1);for(let d=u+1;d<e;d++){const m=l.getcolumn(d+1);f=f.subtract(m.mult(h[d]))}l.v.set(f.divide(h[u]).v,u*e)}return l.t()}if(this.islowertriangular()){const s=this.diag();if(il(s)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=pe.eye(e),a=pe.eye(e),c=this.t(),v=0,u=c.v[0];for(let f=0;f<e;f++)a.v[v*e+f]=l.v[v*e+f]/u;for(let f=1;f<e;f++){let h=l.getcolumn(f+1);const d=c.getcolref(f+1);for(let m=0;m<f;m++){const g=a.getcolumn(m+1);h=h.subtract(g.mult(d[m]))}a.v.set(h.divide(d[f]).v,f*e)}return a.t()}const r=wl(this);if(!r.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return r.R.inv().dot(r.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let r=0;r<e;r++)if(Math.abs(this.v[e*this.nrows+r])>pe.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let r=e+1;r<this.nrows;r++)if(Math.abs(this.v[e*this.nrows+r])>pe.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),r=new Float64Array(e);for(let s=0;s<e;s++)r[s]=this.getcolref(s+1)[s];return new xe(r)}t(){const e=this.nrows,r=this.ncols,s=new pe.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const a=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let c=0;c<this.nrows;c++)s[c*r+l]=a[c]}return new pe(s,r,e)}for(let l=0;l<this.nrows;l++){const a=s.subarray(l*r,(l+1)*r);for(let c=0;c<this.ncols;c++)a[c]=this.v[c*this.nrows+l]}return new pe(s,r,e)}dot(e){if(qe(e))return new pe(Vs(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(gn(e))return new pe(Vs(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,r,s){if(gn(e))return new pe(zs(this.v,e.v,r),this.nrows,this.ncols);if(_l(e))return new pe(Fs(this.v,e,r),this.nrows,this.ncols);if(!qe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(s===void 0&&(s=e.length===this.ncols?2:1),s===2&&e.length===this.ncols){const l=new pe.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)l.set(Fs(this.getcolref(a+1),e.v[a],r),a*this.nrows);return new pe(l,this.nrows,this.ncols)}if(s===1&&e.length===this.nrows){const l=new pe.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)l.set(zs(this.getcolref(a+1),e.v,r),a*this.nrows);return new pe(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(r,s)=>r+s)}subtract(e){return this.op(e,(r,s)=>r-s)}mult(e){return this.op(e,(r,s)=>r*s)}divide(e){return this.op(e,(r,s)=>r/s)}apply(e,r){if(r===void 0&&(r=2),r==2){const s=this.ncols,l=new pe.valuesConstructor(s);for(let a=0;a<s;a++)l[a]=e(this.getcolref(a+1));return new xe(l)}if(r==1)return this.t().apply(e,2);if(r==0){const s=this.v.length,l=new pe.valuesConstructor(s);for(let a=0;a<s;a++)l[a]=e(this.v[a]);return new pe(l,this.nrows,this.ncols)}}replace(e,r,s){typeof r=="number"&&(r=[r]),r.length===0&&(r=yt.seq(1,this.nrows)),Wt(r)||(r=Ut(r)),typeof s=="number"&&(s=[s]),s.length===0&&(s=yt.seq(1,this.ncols)),Wt(s)||(s=Ut(s));const l=r.length,a=s.length;if(Bn(r)<1||En(r)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Bn(s)<1||En(s)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==a)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let c=0;c<s.length;c++){const v=e.getcolref(c+1),u=(s.v[c]-1)*this.nrows;for(let f=0;f<r.length;f++){const h=r.v[f];this.v[u+h-1]=v[f]}}return this}copy(){return new pe(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const r=new xe.valuesConstructor(this.ncols);for(let s=0;s<this.ncols;s++)r[s]=this.getcolref(s+1)[e-1];return new xe(r)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new xe(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,r){if(typeof e=="number"&&(e=Ut([e])),typeof r=="number"&&(r=Ut([r])),Array.isArray(e)&&(e=e.length===0?null:Ut(e)),Array.isArray(r)&&(r=r.length===0?null:Ut(r)),e!==null&&!Wt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(r!==null&&!Wt(r))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Bn(e)<1||En(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(r!==null&&(Bn(r)<1||En(r)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const v=r.length,u=this.nrows,f=new pe.valuesConstructor(u*v);for(let h=0;h<r.length;h++)f.set(this.v.slice((r.v[h]-1)*this.nrows,r.v[h]*this.nrows),h*this.nrows);return new pe(f,u,v)}if(r==null)return this.t().subset(r,e).t();const s=e.length,l=r.length,a=new pe.valuesConstructor(s*l);let c=new pe.valuesConstructor(s);for(let v=0;v<l;v++){const u=this.v.subarray((r.v[v]-1)*this.nrows,r.v[v]*this.nrows);for(let f=0;f<s;f++)c[f]=u[e.v[f]-1];a.set(c,v*s)}return new pe(a,s,l)}toString(e){function r(c,v){return" ".repeat(v-c.length)+c}e===void 0&&(e=2),this.ncols;const s=Math.round(Math.abs(Math.log10(En(this.v))))+e+3;let l="";const a=this.t();for(let c=1;c<=a.ncols;c++)l+=Array.from(a.getcolref(c)).map(v=>r(v.toFixed(e),s)).join(" ")+`
`;return l}toCSV(e,r,s,l){e===void 0&&(e=","),r===void 0&&(r=e===";"?",":".");const a=l!=null&&l.length>0,c=s!=null&&s.length>0;if(a&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(c&&s.length!==this.ncols+(a?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const v=this.t();let u=c?s.join(e)+`
`:"";for(let f=1;f<=v.ncols;f++)u=u+(a?l[f-1]+e:"")+v.getcolref(f).join(e)+`
`;return u=u.replace(/\./g,r),u}static randn(e,r,s,l){return yl(dl(e*r,s,l),e,r)}static rand(e,r,s,l){return yl(vl(e*r,s,l),e,r)}static eye(e,r){r===void 0&&(r=e);const s=new Float64Array(e*r);for(let l=0;l<Math.min(e,r);l++)s[l*e+l]=1;return new pe(s,e,r)}static diagm(e){if(!qe(e))throw Error('diagm: the argument "x" must be a Vector.');const r=e.length,s=new Float64Array(r*r);for(let l=0;l<r;l++)s[l*r+l]=e.v[l];return new pe(s,r,r)}static zeros(e,r){return r===void 0&&(r=e),new pe(new Float64Array(e*r),e,r)}static ones(e,r){return pe.fill(1,e,r)}static fill(e,r,s){s===void 0&&(s=r);const l=new Float64Array(r*s);for(let a=0;a<l.length;a++)l[a]=e;return new pe(l,r,s)}static outer(e,r,s){if(Array.isArray(e)&&(e=Ke(e)),Array.isArray(r)&&(r=Ke(r)),!qe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!qe(r))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=pe.zeros(e.length,r.length);for(let a=0;a<r.length;a++){const c=r.v[a],v=l.getcolref(a+1);for(let u=0;u<e.length;u++)v[u]=s(e.v[u],c)}return l}static parseCSV(e,r,s,l){function a(b){return b.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}r===void 0&&(r=",");const c=r===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let v=e.split(/\n/),u=[],f=0;const h=v[0].split(r);(s||s===void 0&&a(h))&&(u=h,f=1),v=v.filter(b=>b.trim().length>1);let d=[],m=0;l&&(m=1);const g=v.length-f,p=h.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=pe.zeros(p,g);for(let b=f;b<g+f;b++){const y=v[b].split(r);let C;if(l?(d[b-f]=y[0],C=y.slice(1).map(S=>Number.parseFloat(S.trim().replace(c,".")))):C=y.map(S=>Number.parseFloat(S.trim().replace(c,"."))),C.some(S=>Number.isNaN(S)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=p)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(C),(b-f)*p)}return{values:w.t(),header:u,labels:d,sep:r,dec:c}}};Sn(pe,"valuesConstructor",Float64Array),Sn(pe,"TOLERANCE",Math.pow(10,-9));let lt=pe;function qe(t){return t&&t.constructor===xe}function Ke(t){return new xe(new Float64Array(t))}const He=class He{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const r=new yt.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=l+1,s=s+1);return new yt(r.subarray(0,s))}filter(e){const r=new He.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=this.v[l],s=s+1);return new He(r.subarray(0,s))}shuffle(){return new He(Cl(this.v))}sort(e){return new He(Al(this.v,e))}sortind(e){return new yt(ql(this.v,e))}rep(e){return El(this,e)}repeach(e){return kl(this,e)}replace(e,r){typeof r=="number"&&(r=[r]),r.length===0&&(r=yt.seq(1,this.length)),Wt(r)||(r=Ut(r));const s=r.length;if(Bn(r)<1||En(r)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==s)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<r.length;l++){const a=r.v[l];this.v[a-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Ut([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?yt.bool2ind(e):Ut(e)),!Wt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,s=He.zeros(r);for(let l=0;l<r;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");s.v[l]=this.v[e.v[l]-1]}return s}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new He(this.v.slice(e-1,r))}copy(){return new He(this.v.slice())}dot(e){return e===void 0&&(e=this),Vs(this.v,e.v,1,this.length,e.length,1)[0]}op(e,r){if(qe(e))return new He(zs(this.v,e.v,r));if(_l(e))return new He(Fs(this.v,e,r));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(r,s)=>r+s)}subtract(e){return this.op(e,(r,s)=>r-s)}mult(e){return this.op(e,(r,s)=>r*s)}divide(e){return this.op(e,(r,s)=>r/s)}apply(e){const r=this.v.length,s=He.zeros(r);for(let l=0;l<r;l++)s.v[l]=e(this.v[l]);return s}static c(...e){if(e.length===1)return e[0];const r=e.reduce((a,c)=>a+(typeof c=="number"?1:c.length),0),s=new He.valuesConstructor(r);let l=0;for(const a of e)typeof a=="number"?(s[l]=a,l+=1):(s.set(qe(a)?a.v:new He.valuesConstructor(a),l),l+=typeof a=="number"?1:a.length);return new He(s)}static seq(e,r,s){return xl(e,r,s,He)}static randn(e,r,s){return dl(e,r,s)}static rand(e,r,s){return vl(e,r,s)}static zeros(e){return new He(new He.valuesConstructor(e))}static ones(e){return He.fill(1,e)}static fill(e,r){const s=new He.valuesConstructor(r);for(let l=0;l<s.length;l++)s[l]=e;return new He(s)}};Sn(He,"valuesConstructor",Float64Array);let xe=He;function Wt(t){return t.constructor===yt}function Ut(t){return new yt(new Int32Array(t))}const st=class st{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const r=new st.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=l+1,s=s+1);return new st(r.subarray(0,s))}filter(e){const r=new st.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=this.v[l],s=s+1);return new st(r.subarray(0,s))}shuffle(){return new st(Cl(this.v))}sort(e){return new st(Al(this.v,e))}sortind(e){return new st(ql(this.v,e))}rep(e){return El(this,e)}repeach(e){return kl(this,e)}subset(e){if(typeof e=="number"&&(e=Ut([e])),Array.isArray(e)&&(e=Ut(e)),!Wt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,s=new st.valuesConstructor(r);for(let l=0;l<r;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");s[l]=this.v[e.v[l]-1]}return new st(s)}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new st(this.v.slice(e-1,r))}static seq(e,r,s){return xl(e,r,s,st)}static ones(e){return st.fill(1,e)}static fill(e,r){const s=new st.valuesConstructor(r);for(let l=0;l<s.length;l++)s[l]=e;return new st(s)}static bool2ind(e){let r=0;const s=new st.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(s[r]=l+1,r=r+1);return new st(s.subarray(0,r))}};Sn(st,"valuesConstructor",Int32Array);let yt=st;function xl(t,e,r,s){r===void 0&&(r=t<=e?1:-1);const l=Math.floor((e-t)/r)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const a=new s.valuesConstructor(l);for(let c=0;c<l;c++)a[c]=t+c*r;return new s(a)}function El(t,e){const r=t.length*e,s=new t.constructor.valuesConstructor(r);for(let l=1;l<=e;l++)for(let a=0;a<t.length;a++)s[(l-1)*t.length+a]=t.v[a];return new t.constructor(s)}function kl(t,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const r=t.length*e,s=new t.constructor.valuesConstructor(r);for(let l=0;l<t.length;l++)for(let a=0;a<e;a++)s[l*e+a]=t.v[l];return new t.constructor(s)}function zs(t,e,r){if(t.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(t.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const s=new t.constructor(t.length);for(let l=0;l<t.length;l++)s[l]=r(t[l],e[l]);return s}function Fs(t,e,r){const s=new t.constructor(t.length);for(let l=0;l<t.length;l++)s[l]=r(t[l],e);return s}function Vs(t,e,r,s,l,a){if(s!==l)throw Error("_dot: matrix dimensions do not much.");const c=r,v=a,u=s,f=new t.constructor(c*v);for(let h=0;h<v;h++){const d=e.subarray(h*l,(h+1)*l),m=f.subarray(h*c,(h+1)*c);for(let g=0;g<u;g++){const p=d[g],w=t.subarray(g*r,(g+1)*r);for(let b=0;b<c;b++)m[b]+=w[b]*p}}return f}function Cl(t){let e=t.slice(),r=e.length,s,l;for(;r;)l=Math.floor(Math.random()*r--),s=e[r],e[r]=e[l],e[l]=s;return e}function Al(t,e=!1){return e?t.slice().sort((r,s)=>s-r):t.slice().sort((r,s)=>r-s)}function ql(t,e=!1){const r=yt.seq(1,t.length).v;return e?r.sort((s,l)=>t[l-1]-t[s-1]):r.sort((s,l)=>t[s-1]-t[l-1])}function lc(t,e,r){return 5*t*e+e+4*r*e}function ac(t,e){return 2+2*t+t*e+17*e}function rt(t,e,r){if(!t||!t.class||!t.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const s=t.ncols,l=t.ncomp;let a,c;switch(e){case"mX":a=2,c=s;break;case"sX":a=2+s,c=s;break;case"loadings":case"xloadings":a=2+2*s+(r-1)*s,c=s;break;case"P":a=2+2*s,c=r*s;break;case"eigenvals":case"xeigenvals":a=2+2*s+s*l,c=l;break;case"cq0":a=2+2*s+s*l+l,c=l;break;case"cNq":a=2+2*s+s*l+2*l,c=l;break;case"rq0":a=2+2*s+s*l+3*l,c=l;break;case"rNq":a=2+2*s+s*l+4*l,c=l;break;case"ch0":a=2+2*s+s*l+5*l,c=l;break;case"cNh":a=2+2*s+s*l+6*l,c=l;break;case"rh0":a=2+2*s+s*l+7*l,c=l;break;case"rNh":a=2+2*s+s*l+8*l,c=l;break;case"cr0":a=2+2*s+s*l+9*l,c=l;break;case"cNr":a=2+2*s+s*l+10*l,c=l;break;case"rr0":a=2+2*s+s*l+11*l,c=l;break;case"rNr":a=2+2*s+s*l+12*l,c=l;break;case"cg0":a=2+2*s+s*l+13*l,c=l;break;case"cNg":a=2+2*s+s*l+14*l,c=l;break;case"rg0":a=2+2*s+s*l+15*l,c=l;break;case"rNg":a=2+2*s+s*l+16*l,c=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return t.v.subarray(a,a+c)}function Zt(t,e,r){if(!t||!t.class||!t.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const s=t.ncols,l=t.nrows,a=t.ncomp;let c,v;switch(e){case"scores":case"xscores":c=(r-1)*l,v=l;break;case"hdist":c=l*a+(r-1)*l,v=l;break;case"qdist":c=2*l*a+(r-1)*l,v=l;break;case"xcumexpvar":case"cumexpvar":c=3*l*a,v=a;break;case"fdistc":c=3*l*a+a+(r-1)*l,v=l;break;case"fdistr":c=4*l*a+a+(r-1)*l,v=l;break;case"gdist":c=5*l*a+a+(r-1)*s,v=s;break;case"rdist":c=5*l*a+a+s*a+(r-1)*s,v=s;break;case"idistc":c=5*l*a+a+2*s*a+(r-1)*s,v=s;break;case"idistr":c=5*l*a+a+3*s*a+(r-1)*s,v=s;break;default:throw new Error("pcares_get: wrong outcome name.")}return t.v.subarray(c,c+v)}function Br(t,e,r){if(!Array.isArray(t))return!1;if(t.length===0)return!0;for(let s=0;s<t.length;s++){const l=t[s];if(l<e||l>r)return!1}return!0}function Os(t,e,r,s,l,a,c){if(!gn(e))throw new Error("pca_fit: X must be a matrix.");a||(a=[]);const v=a&&Array.isArray(a)?a.length:0;if(!Br(a,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');c||(c=[]);const u=c&&Array.isArray(c)?c.length:0;if(!Br(c,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const f=e.nrows-v,h=e.ncols-u;if(f<3||h<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(s===void 0&&(s=!0),l===void 0&&(l=!1),r===void 0&&(r=Math.min(e.nrows-v-1,e.ncols-u)),r<1||r>Math.min(f-1,h))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const d=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);let m=null;if(v>0){const S=new Int32Array(a);m=t._malloc(S.length*S.BYTES_PER_ELEMENT),t.HEAP32.set(S,m/S.BYTES_PER_ELEMENT)}let g=null;if(u>0){const S=new Int32Array(c);g=t._malloc(S.length*S.BYTES_PER_ELEMENT),t.HEAP32.set(S,g/S.BYTES_PER_ELEMENT)}const p=ac(h,r),w=Float64Array,b=t._malloc(p*w.BYTES_PER_ELEMENT);if(t.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[d,e.nrows,e.ncols,r,s,l,b,m,v,g,u])!==1)throw new Error("pca_fit: PCA failed.");const C=t.HEAPF64.slice(b/w.BYTES_PER_ELEMENT,b/w.BYTES_PER_ELEMENT+p);return t._free(d),t._free(b),m&&t._free(m),g&&t._free(g),{class:["pcamodel"],v:C,ncomp:r,nrows:f,ncols:h,exclvars:c,center:s,scale:l}}function rr(t,e,r,s){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!gn(r))throw new Error("pca_predict: X must be a matrix.");s||(s=[]);const l=s&&Array.isArray(s)?s.length:0;if(!Br(s,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let a=e.exclvars.length;e.exclvars;const c=r.nrows-l;r.ncols===e.ncols&&(a=0);const v=r.ncols-a;if(c<1)throw new Error("pca_predict: X must have at least 1 row.");if(v!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const u=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,u/r.v.BYTES_PER_ELEMENT);let f=null;if(l>0){const A=new Int32Array(s);f=t._malloc(A.length*A.BYTES_PER_ELEMENT),t.HEAP32.set(A,f/A.BYTES_PER_ELEMENT)}let h=null;if(a>0){const A=new Int32Array(e.exclvars);h=t._malloc(A.length*A.BYTES_PER_ELEMENT),t.HEAP32.set(A,h/A.BYTES_PER_ELEMENT)}const d=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);const m=lc(r.nrows-l,e.ncomp,r.ncols-a),g=Float64Array,p=t._malloc(m*g.BYTES_PER_ELEMENT);if(t.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[u,r.nrows,r.ncols,d,p,f,l,h,a])!==1)throw new Error("pca_predict: PCA prediction failed.");const b=t.HEAPF64.slice(p/g.BYTES_PER_ELEMENT,p/g.BYTES_PER_ELEMENT+m);t._free(u),t._free(d),t._free(p),f&&t._free(f),h&&t._free(h);const y={class:["pcares"],v:b,ncomp:e.ncomp,nrows:c,ncols:v,outliers:s,exclvars:e.exclvars,center:e.center,scale:e.scale},C=new Array(e.ncomp),S=new Array(e.ncomp),k=new Array(e.ncomp),_=new Array(e.ncomp),M=new Array(e.ncomp),E=Zt(y,"xcumexpvar");M[0]=1,_[0]=E[0],k[0]=1-E[0],C[0]=E[0],S[0]=1-E[0];for(let A=1;A<e.ncomp;A++)M[A]=A+1,_[A]=E[A],k[A]=1-E[A],C[A]=E[A]-E[A-1],S[A]=1-C[A];return y.stat={components:M,resvar:S,expvar:C,cumexpvar:_,cumresvar:k},y}function ic(t,e,r,s,l,a,c,v){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!gn(r))throw new Error("pcapcv: X must be a matrix.");v||(v=[]);const u=v&&Array.isArray(v)?v.length:0;if(!Br(v,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');const f=e.exclvars.length,h=r.nrows-u,d=r.ncols-f;if(h<3)throw new Error("pcapcv: X must have at least 3 rows.");if(d!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(a)||![0,1,2].includes(a))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(c)||![0,1].includes(c))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(a>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(a>0&&l>h)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(s)||s<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const m=Math.min(a===0?h-2:h-Math.ceil(h/l)-1,d,e.ncomp);if(s>m)throw new Error('pcapcv: the value of "ncomp" is too large.');const g=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,g/r.v.BYTES_PER_ELEMENT);let p=null;if(u>0){const M=new Int32Array(v);p=t._malloc(M.length*M.BYTES_PER_ELEMENT),t.HEAP32.set(M,p/M.BYTES_PER_ELEMENT)}let w=null;if(f>0){const M=new Int32Array(e.exclvars);w=t._malloc(M.length*M.BYTES_PER_ELEMENT),t.HEAP32.set(M,w/M.BYTES_PER_ELEMENT)}const b=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,b/e.v.BYTES_PER_ELEMENT);const y=h*d,C=r.v.constructor,S=t._malloc(y*C.BYTES_PER_ELEMENT);if(t.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[g,r.nrows,r.ncols,s,e.center,e.scale,a,l,c,b,S,p,u,w,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const _=t.HEAPF64.slice(S/C.BYTES_PER_ELEMENT,S/C.BYTES_PER_ELEMENT+y);return t._free(g),t._free(b),t._free(S),p&&t._free(p),w&&t._free(w),new lt(_,h,d)}function Wr(t,e,r=1){const s=Math.round((e-t+1)/r),l=Array(s);for(let a=0;a<s;a++)l[a]=t+a*r;return l}function cc(t,e){let r,s,l;if(e.length>0){const a=t.values.nrows,c=t.objindices,v=a-e.length;r=Array(v),s=Array(v),l=Array(v);let u=0;for(let f=0;f<a;f++)e.includes(f)||(r[u]=c[f],s[u]=t.classes[f],l[u]=t.objlabels[f],u=u+1)}else r=t.objindices,l=t.objlabels,s=t.classes;return[r,l,s]}function Ur(){const t=new Date;return`${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}${t.getMilliseconds().toString().padStart(3,"0")}`}function Ds(t,e,r,s){const[l,a,c]=cc(r,s),v=rr(t,e,r.values,s);v.hash=Ur(),v.objindices=l,v.objlabels=a,v.classes=c,v.classNames=r.classNames,v.varlabels=r.varlabels,v.eigenvals=rt(e,"eigenvals"),v.cNh=rt(e,"cNh"),v.cNq=rt(e,"cNq"),v.ch0=rt(e,"ch0"),v.cq0=rt(e,"cq0"),v.rNh=rt(e,"rNh"),v.rNq=rt(e,"rNq"),v.rh0=rt(e,"rh0"),v.rq0=rt(e,"rq0");const u=e.nrows;return v.T2lim=2*(u-1)/(u-2)*hl(.95,2,u-2),v}function uc(t,e="."){return Array.isArray(t)&&t.length>0?e==="."?t.map(r=>Number.parseFloat(r.trim())):t.map(r=>Number.parseFloat(r.trim().replace(e,"."))):e==="."?Number.parseFloat(t.trim()):Number.parseFloat(t.trim().replace(e,"."))}function sr(t){return t.some(e=>Number.isNaN(e))}function kn(t){return t.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Sl(t){let e=t.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(r=>r.trim().length>1)}function fc(t,e,r,s,l,a,c,v=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const f=e===";"?",":".";let h=Sl(t);if(h.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");h=h.filter(F=>F.replaceAll(e,"").trim().length>0);const d=h[0].split(e);if(d.length<2)throw new Error("Found only one column, looks like your delimiter is not correct.");let m=0,g;const p=r!=="no";(p||p===void 0&&sr(firstRow))&&(g=d,m=1);const w=h.length-m;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let b,y,C,S=Array(w);s?(b=p?kn(g[0]):"",C=Array(w),y=1):(b="",C=[],y=0);let k,_=[],M;l?(k=p?kn(g[y]):"",M=Array(w),y=y+1):(k="",M=[]);const E=d.length-y;if(E<1)throw new Error("Data file should contain at least 1 column with values.");const A=lt.zeros(E,w);for(let F=m;F<w+m;F++){const X=F-m;S[X]=X;let Q=h[F].split(e);if(s&&(C[X]=Q[0],Q.shift()),l){const H=Q[0];M[X]=H,Q.shift(),(_.length===0||_.indexOf(H)<0)&&_.push(H)}const W=f==="."?Q.map(H=>Number.parseFloat(H.trim())):Q.map(H=>Number.parseFloat(H.trim().replace(f,".")));if(W.some(H=>Number.isNaN(H)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(W.length!=E)throw new Error("Wrong number of values in row #"+F);A.v.set(new Float64Array(W),(F-m)*E)}if(!s||C.length!==w){C=Array(w);for(let F=0;F<w;F++)C[F]="O"+(F+1)}C=C.map(F=>kn(F)),M=M.map(F=>kn(F)),_=_.map(F=>kn(F));let N,L=Array(E),q=Array(E);if(g&&g.length===E+y){N=g.map(F=>kn(F)).slice(y);for(let F=0;F<E;F++)L[F]=F,q[F]=F+1}else{N=Array(E);for(let F=0;F<E;F++)L[F]=F,N[F]="V"+(F+1),q[F]=F+1}let T;if(r==="values"){if(T=f==="."?N.map(F=>Number.parseFloat(F.trim())):N.map(F=>Number.parseFloat(F.trim().replace(f,"."))),T.some(F=>Number.isNaN(F)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else T=q;Array.isArray(T)||(T=[]),a||(a=""),c||(c=""),a=T.length>0&&a.length>0?a:"Variables",c=T.length>0&&c.length>0?c:"";const I=a+(c.length>0?", "+c:""),j=T[1]<T[0];return{values:A.t(),header:r,hasLabels:s,hasClassNames:l,labelsVarname:b,classLabelsVarname:k,objlabels:C,objindices:S,varlabels:N,varvalues:T,varindices:L,varrev:j,classes:M,responses:null,classNames:_,sep:e,dec:f,varvaluesName:a,varvaluesUnits:c,varAxisTitle:I}}function vc(t){if(sr(t[0].slice(2)))return!0;const e=t[0].length,r=[];for(let s=2;s<e;s++){let l=[];for(let f=1;f<t.length;f++)l.push(t[f][s]);const a=t[0][s],c=Dn(l),v=Ss(l),u=Math.abs((a-c)/v);r.push(u)}return r.every(s=>s>5)}function dc(t){const e=",",r=t[0].split(e),s=t[1].split(e),l=r.length,a=s.length,c=";",v=t[0].split(c),u=t[1].split(c),f=v.length,h=u.length;let d,m;if(l>1&&a>1&&l===a&&l>f)m=e,d=l;else if(f>1&&h>1&&f===h)m=c,d=a;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[m,m===","?".":",",d]}function hc(t){const e=Sl(t),r=e.length;if(r<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[s,l,a]=dc(e),c=Math.min(a,5),v=Math.min(r,5);let u=e.slice(0,v).map(E=>E.split(s).slice(0,c));u=u.map(E=>E.map(A=>kn(A)));const f=u.map(E=>uc(E.slice(),l));for(let E=1;E<v;E++)if(sr(f[E].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const h=vc(f);let d=0;const m=h?1:0,g=m+1,p=u[m][0],w=u[g][0],b=f[m][0],y=f[g][0],C=f[m][1],S=f[g][1];let k=!1,_=!1;if(Number.isNaN(b)&&Number.isNaN(y)&&p!==w?(k=!0,d=d+1):Number.isNaN(C)&&Number.isNaN(S)&&p!==w&&(k=!0,_=!0,d=d+2),!_){const E=k?1:0,A=f[m][E],N=f[g][E];_=sr([A,N]),d=d+_}let M="no";if(h){d>0?u[0].slice(d):u[0];const E=d>0?f[0].slice(d):f[0];M=sr(E)?"labels":"values"}return[s,k,_,M]}function mc(t){const e=t.values.t(),r=t.sep,s=t.dec;let l=null;t.header!=="no"&&(l=t.header==="values"?t.varvalues.slice():t.varlabels.slice()),l&&t.hasClassNames&&(l=[t.classLabelsVarname,...l]),l&&t.hasLabels&&(l=[t.labelsVarname,...l]);const a=t.classes&&t.classes.length===e.ncols,c=t.objlabels&&t.objlabels.length===e.ncols;let v=l.join(r);for(let u=0;u<e.ncols;u++){let f=e.getcolref(u+1).join(r);s!=="."&&(f=f.replace(".",s)),a&&(f=t.classes[u]+t.sep+f),c&&(f=t.objlabels[u]+t.sep+f),v=v+`
`+f}return v=v+`
`,s!=="."&&(v=v.replace(/\./g,s)),v}function Bs(t,e){const r=mc(t),s=new Blob([r],{type:"text/csv"}),l=window.URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download",`${e}.csv`),a.click()}function gc(t,e){const r=t.values,s=t.varvalues,l=t.varlabels,a=t.varindices,c=r.nrows,v=r.ncols,u=v-e.length,f=lt.zeros(c,u),h=Array(u),d=Array(u),m=Array(u);let g=0;for(let p=0;p<v;p++){if(e.includes(p))continue;const w=c*p,b=c*g;f.v.set(r.v.slice(w,w+c),b),h[g]=s[p],d[g]=l[p],m[g]=a[p],g=g+1}return{values:f,header:t.header,hasLabels:t.hasLabels,hasClassNames:t.hasClassNames,classNames:t.classNames,labelsVarname:t.labelsVarname,classLabelsVarname:t.classLabelsVarname,objlabels:t.objlabels,objindices:t.objindices,varlabels:d,varvalues:h,varindices:m,varrev:t.varrev,classes:t.classes,responses:t.responses,classNames:t.classNames,sep:t.sep,dec:t.dec,varvaluesName:t.varvaluesName,varvaluesUnits:t.varvaluesUnits,varAxisTitle:t.varAxisTitle,fileName:t.fileName}}function bc(t){if(!t.length)return"";t.sort((l,a)=>l-a);let e=[],r=t[0],s=r;for(let l=1;l<t.length;l++)t[l]===s+1?s=t[l]:(r===s?e.push(`${r}`):e.push(`${r}-${s}`),r=t[l],s=r);return r===s?e.push(`${r}`):e.push(`${r}-${s}`),e.join(" ")}function Yr(t,e){return gn(e)?{__type:"matrix",nrows:e.nrows,ncols:e.ncols,v:Array.from(e.v)}:qe(e)?{__type:"vector",length:e.length,v:Array.from(e.v)}:ArrayBuffer.isView(e)?{__type:e.constructor.name,data:Array.from(e)}:e}function pc(t,e){if(e&&typeof e=="object"&&e.__type){if(e.__type==="matrix")return oc(e.v,e.nrows,e.ncols);if(e.__type==="vector")return Ke(e.v);const r=globalThis[e.__type];if(typeof r=="function")return new r(e.data)}return e}function Ws(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${e}${r}${s}${l}${a}${c}`}const wc=t=>t;function _c(t,{delay:e=0,duration:r=400,easing:s=wc}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:s,css:a=>`opacity: ${a*l}`}}var yc=K('<div class="drop svelte-1vipsv"><div class="modal svelte-1vipsv"><div class="header svelte-1vipsv"><button class="close-button svelte-1vipsv">✕</button></div> <div class="body svelte-1vipsv"><!></div></div></div>');function xc(t,e){he(e,!0);function r(f){f.key==="Escape"&&e.closeModal()}var s=yc();Nr("keydown",cs,r);var l=B(s),a=B(l),c=B(a);c.__click=function(...f){var h;(h=e.closeModal)==null||h.apply(this,f)};var v=z(a,2),u=B(v);xn(u,()=>e.children),Ti(7,s,()=>_c),R(t,s),me()}$e(["click"]);function Ml(t,e){G(e,!0)}function Ec(t,e,r){const s=Ws(new Date),l=e.appID+"-session-"+s+".json";o(r).date=s;const a=JSON.stringify(o(r),Yr),c=new Blob([a],{type:"text/json"}),v=window.URL.createObjectURL(c),u=document.createElement("a");u.setAttribute("href",v),u.setAttribute("download",l),u.click()}function kc(t,e){confirm("Are you sure? All current results and models will be lost in all tabs.")&&e()}var Cc=K('<sup style="color:red">β</sup>'),Ac=K('<li><button class="svelte-sqmqfb"> </button></li>'),qc=K("<div><!></div>"),Sc=K('<div class="info-container svelte-sqmqfb"><!></div>'),Mc=K('<div class="page svelte-sqmqfb"><header class="page-header svelte-sqmqfb"><div class="header-group svelte-sqmqfb"><img class="logo svelte-sqmqfb" src="logo.svg"> <h1 class="svelte-sqmqfb"> <!></h1> <p class="svelte-sqmqfb"> </p></div> <ul class="nav svelte-sqmqfb"></ul></header> <main class="svelte-sqmqfb"></main> <footer class="svelte-sqmqfb"><div><span class="session-message svelte-sqmqfb"> </span> <label title="load session from file" class="upload-button svelte-sqmqfb"><input type="file" class="svelte-sqmqfb"> <svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-sqmqfb"><line x1="50" y1="25" x2="50" y2="75"></line><line x1="30" y1="40" x2="50" y2="25"></line><line x1="70" y1="40" x2="50" y2="25"></line></svg></label> <button title="download session as a file" class="download-button svelte-sqmqfb"><svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-sqmqfb"><line x1="50" y1="25" x2="50" y2="75"></line><line x1="30" y1="60" x2="50" y2="75"></line><line x1="70" y1="60" x2="50" y2="75"></line></svg></button> <button title="reset all sessions" class="clear-button svelte-sqmqfb"><svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-sqmqfb"><line x1="25" y1="25" x2="75" y2="75"></line><line x1="25" y1="75" x2="75" y2="25"></line></svg></button></div> <div class="info svelte-sqmqfb"><button class="button-info svelte-sqmqfb">info</button> <!></div></footer> <!></div>');function Nc(t,e){he(e,!0);let r=Y(e,"tabs",19,()=>[]),s=Y(e,"isBeta",3,!1);const l="mdatools-"+e.appID;let a=ae(!1),c=ae(void 0),v=ae("Current session "),u=ae(!1);function f(k){G(v,k,!0),G(u,!0),setTimeout(()=>{G(v,"Current session "),G(u,!1)},1e3)}function h(){G(a,!1)}function d(k){o(c).tab=k}function m(){const k=indexedDB.open(l,1);k.onsuccess=_=>{const E=_.target.result.transaction(e.appID,"readwrite");E.objectStore(e.appID).delete("session"),E.oncomplete=()=>{G(c,e.initSession(),!0),f("Session was reinitialzed.")},E.onerror=()=>console.error("Failed to session from DB.")}}function g(k,_){console.log("backing up"),window.localStorage.removeItem(e.appID+"-blocked");const M=indexedDB.open(l,1);M.onsuccess=E=>{const L=E.target.result.transaction(e.appID,"readwrite").objectStore(e.appID);L.put(k,"session"),L.put(Ws(new Date),"session-update")}}function p(){new Promise((k,_)=>{const M=indexedDB.open(l,1);M.onsuccess=E=>{const q=E.target.result.transaction(e.appID,"readonly").objectStore(e.appID).get("session");q.onsuccess=()=>k(q.result),q.onerror=()=>_(q.error)}}).then(k=>{w(k),G(v,"Last session is restored "),G(u,!0),setTimeout(()=>{G(v,"Current session "),G(u,!1)},1500)}).catch(k=>{console.error(k),G(c,e.initSession(),!0)})}function w(k){if(!k||k==="undefined"){G(c,e.initSession(),!0);return}const _=JSON.parse(k,pc);G(c,e.checkSession(_)?_:e.initSession(e.appID),!0)}function b(k){e.resetSession(o(c));const _=new FileReader;_.onload=()=>{w(_.result),k.target.value=""},_.readAsText(k.target.files[0])}zi(()=>{const k=e.appID,_=indexedDB.open(l,1);_.onupgradeneeded=M=>{const E=M.target.result;E.objectStoreNames.contains(k)||E.createObjectStore(k)},_.onsuccess=M=>{p()}});var y=ue(),C=Z(y);{var S=k=>{var _=Mc(),M=B(_),E=B(M),A=B(E),N=z(A,2),L=B(N),q=z(L);{var T=Re=>{var et=Cc();R(Re,et)};U(q,Re=>{s()&&Re(T)})}var I=z(N,2),j=B(I),D=z(E,2);Ye(D,21,r,Ge,(Re,et,xt)=>{var ke=Ac();let Xe;var tt=B(ke);tt.__click=()=>d(xt),tt.__keydown=()=>d(xt);var Et=B(tt);re(kt=>{Xe=vt(ke,1,"nav-item svelte-sqmqfb",null,Xe,kt),le(Et,o(et).name)},[()=>({selected:o(c).tab===xt})]),R(Re,ke)});var F=z(M,2);Ye(F,21,r,Ge,(Re,et,xt)=>{var ke=qc();let Xe;var tt=B(ke);Es(tt,()=>o(et).component,(Et,kt)=>{kt(Et,{get WASM(){return e.WASM},get session(){return o(c)},backupSession:g})}),re(Et=>Xe=vt(ke,1,"tab-content svelte-sqmqfb",null,Xe,Et),[()=>({hidden:o(c).tab!==xt})]),R(Re,ke)});var X=z(F,2),Q=B(X);let W;var H=B(Q),ne=B(H),$=z(H,2),ee=B($);ee.__change=b;var te=z($,2);te.__click=[Ec,e,c];var se=z(te,2);se.__click=[kc,m];var de=z(Q,2),ve=B(de);ve.__click=[Ml,a],ve.__keydown=[Ml,a];var Ee=z(ve,2);xn(Ee,()=>e.footer);var Te=z(X,2);{var Me=Re=>{xc(Re,{closeModal:h,children:(et,xt)=>{var ke=Sc(),Xe=B(ke);xn(Xe,()=>e.info),R(et,ke)},$$slots:{default:!0}})};U(Te,Re=>{o(a)&&Re(Me)})}re(Re=>{O(A,"alt",e.appShortTitle),le(L,e.appTitle),le(j,e.appSlogan),W=vt(Q,1,"session svelte-sqmqfb",null,W,Re),le(ne,o(v))},[()=>({"no-buttons":o(u)})]),R(k,_)};U(C,k=>{o(c)&&k(S)})}R(t,y),me()}$e(["click","keydown","change"]);function Pc(t,e,r,s,l){const a=t.ncomp,c=t.nrows,v=new Array(a),u=new Array(a),f=new Array(a),h=new Array(a);for(let d=0;d<a;d++){const m=Zt(t,e==="robust"?"fdistr":"fdistc",d+1),g=Nl(!1,m,s[d],l[d]);let p=t.nrows;const w=s[d],b=r[d],y=new xe(m);let C=y.sort(),S=y.sortind();const k=Array.from({length:c},()=>"alien");let _=-1,M=0,E=0,A=0,N=0;for(;_<0;)M>0&&(k[S.v[p-1]-1]="external",p=p-1,S=S.slice(1,p),C=C.slice(1,p)),E=Dn(C),A=jr(C,!0),N=A/(E*E),_=4-2*b*N,M=M+1;const L=(2+Math.sqrt(_))/N,q=L-b,T=E/L,I=w/T,j=1-2*(b+q)*(b+3*q)/(3*(b+2*q)**2),D=(j-1)*(1-3*j),F=(b+2*q)/(b+q)**2,X=1+j*F*(j-1-.5*(2-j)*D*F),Q=j*Math.sqrt(2*F)*(1+.5*D*F),W=Ir((Math.pow(I/(b+q),j)-X)/Q);v[d]=g,v[d].beta=W,v[d].s=q,v[d].k=b,v[d].Mz=X,v[d].Sz=Q,v[d].m=E,v[d].f0=T,v[d].hz=j,v[d].anum={aliens:p,external:c-p},v[d].a=k,f[d]=1-W,u[d]=g.TN/(g.TN+g.FP),h[d]=d+1}return{class:["simcares"],classes:t.classes,classNames:t.classNames,target:!1,v,nrows:t.nrows,stat:{specificity:u,selectivity:f,components:h}}}function Nl(t,e,r,s){const l=e.length,a=new Array(l),c=new Array(l),v={regular:0,extreme:0,outliers:0},u={in:0,out:0};let f=0,h=0,d=0,m=0;for(let g=0;g<l;g++){const p=e[g];p<r?(a[g]="regular",c[g]="in",v.regular+=1,u.in+=1):p>s?(a[g]="outlier",c[g]="out",v.outliers+=1,u.out+=1):(a[g]="extreme",c[g]="out",v.extreme+=1,u.out+=1),f=f+(c[g]==="in"&&t),m=m+(c[g]!=="in"&&t),d=d+(c[g]!=="in"&&!t),h=h+(c[g]==="in"&&!t)}return{f:e,c:a,d:c,cnum:v,dnum:u,TP:f,TN:d,FN:m,FP:h}}function Tc(t,e,r,s){const l=t.ncomp,a=new Array(l),c=new Array(l),v=new Array(l);for(let u=0;u<l;u++){const f=Zt(t,e==="robust"?"fdistr":"fdistc",u+1),h=Nl(!0,f,r[u],s[u]);c[u]=h.TP/(h.TP+h.FN),v[u]=u+1,a[u]=h}return{class:["simcares"],classes:t.classes,target:!0,v:a,nrows:t.nrows,stat:{sensitivity:c,components:v}}}function Rc(t,e,r,s,l,a,c){(!a||!Array.isArray(a))&&(a=[]),(!c||!Array.isArray(c))&&(c=[]);const v=s.values.nrows,u=a.length,f=v-u,h=e.ncomp,d=Zt(r.pca,"qdist",h),m=Zt(r.pca,"hdist",h),g=e.limType==="classic"?"c":"r",p=Zt(r.pca,"fdist"+g,h),w=rt(t,g+"Nh")[h-1],b=rt(t,g+"Nq")[h-1],y=rt(t,g+"h0")[h-1],C=rt(t,g+"q0")[h-1],S=w+b,k=r.simca.v[h-1],_=s.sep,M=r.simca.classes&&r.simca.classes.length===f,E=M?["","","","",""]:["","","",""];let A="";if(A+=["Reference classes:",M?"provided":"not provided",...E].join(_)+`
`,A+=["Number of components:",h,...E].join(_)+`
`,A+=["Alpha:",(e.alpha/100).toFixed(3),...E].join(_)+`
`,A+=["Limits estimator:",e.limType,...E].join(_)+`
`,A+=`
`,A+=["Nh:",w,...E].join(_)+`
`,A+=["Nq:",b,...E].join(_)+`
`,A+=["Nf:",S,...E].join(_)+`
`,A+=`
`,A+=["F crit (extremes):",e.eCrit[h-1],...E].join(_)+`
`,A+=["F crit (outliers):",e.oCrit[h-1],...E].join(_)+`
`,A+=`
`,c.length>0&&(A+=["Number of excluded varibles:",c.length,...E].join(_)+`
`,A+=["Indices of excluded varibles:",bc(c),...E].join(_)+`
`,A+=`
`),k.beta!==null&&k.beta!==void 0){A+=["Objects treated as from non-target class","",...E].join(_)+`
`,A+=["Objects:",v,...E].join(_)+`
`,A+=["In:",k.dnum.in,...E].join(_)+`
`,A+=["Out:",k.dnum.out,...E].join(_)+`
`,A+=["Aliens:",k.anum.aliens,...E].join(_)+`
`,A+=["External:",k.anum.external,...E].join(_)+`
`,A+=["Specificity:",r.simca.stat.specificity?r.simca.stat.specificity[h-1]:"-",...E].join(_)+`
`,A+=["Selectivity:",r.simca.stat.selectivity?r.simca.stat.selectivity[h-1]:"-",...E].join(_)+`
`,A+=["Beta:",k.beta,...E].join(_)+`
`,A+=["Non-centrality, s:",k.s,...E].join(_)+`
`,A+=["Scaling, f0:",k.f0,...E].join(_)+`
`,A+=`
`,A+=["","object","class","role","decision","h/h0","q/q0","f"].join(_)+`
`;for(let I=0;I<v;I++)A+=["",s.objlabels[I],r.simca.classes[I],k.a[I],k.d[I],m[I]/y,d[I]/C,p[I]].join(_)+`
`}else{A+=["Objects treated as from target class","",...E].join(_)+`
`,A+=["Objects:",v,...E].join(_)+`
`,A+=["Removed:",u,...E].join(_)+`
`,A+=["In:",k.dnum.in,...E].join(_)+`
`,A+=["Out:",k.dnum.out,...E].join(_)+`
`,A+=["Regular:",k.cnum.regular,...E].join(_)+`
`,A+=["Extreme:",k.cnum.extreme,...E].join(_)+`
`,A+=["Outliers:",k.cnum.outliers,...E].join(_)+`
`,A+=["Sensitivity:",r.simca.stat.sensitivity?r.simca.stat.sensitivity[h-1]:"-",...E].join(_)+`
`,A+=`
`,A+=["","object","class","role","decision","h/h0","q/q0","f"].join(_)+`
`;let I=0;for(let j=0;j<v;j++){if(u>0&&a.includes(j)){A+=["",s.objlabels[j],"-","removed","-","-","-","-"].join(_)+`
`;continue}A+=["",s.objlabels[I],r.pca.classes[I],k.c[I],k.d[I],m[I]/y,d[I]/C,p[I]].join(_)+`
`,I=I+1}}A+=`
`,s.dec!=="."&&(A=A.replace(/\./g,s.dec)),A=["Target class:",e.className,...E].join(_)+`
`+A,A=["Data filename:",s.fileName,...E].join(_)+`
`+A;let N=["DD-SIMCA results ("+l+")","https://mda.tools/ddsimca/",...E].join(_)+`

`;const L=new Blob([N+A],{type:"text/csv"}),q=window.URL.createObjectURL(L),T=document.createElement("a");T.setAttribute("href",q),T.setAttribute("download",`ddsimca-results-${l}.csv`),T.click()}function Lc(t,e){const r=new Blob([JSON.stringify({pca:t,simca:e},Yr)],{type:"application/json"}),s=window.URL.createObjectURL(r),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download","ddsimca-model.json"),l.click()}async function Pl(t,e,r=.1,s="classic"){const l=e.calset.values,a=e.tarset.values,c=e.altset.values,v=e.calset.classNames[0],u=l.ncols-e.varsExcluded.length,f=e.model.ncomp>u?u:e.model.ncomp;return t().then(h=>{const d=Os(h,l,f,e.model.center,e.model.scale,[],e.varsExcluded),m=rr(h,d,a);m.objindices=e.tarset.objindices,m.objlabels=e.tarset.objlabels,m.classes=e.tarset.classes,m.classNames=e.tarset.classNames;const g=rr(h,d,c);g.objindices=e.altres.objindices,g.objlabels=e.altres.objlabels,g.classes=e.altres.classes,g.classNames=e.altres.classNames,d.hash=Ur(),d.varlabels=e.calset.varlabels.filter(E=>!e.varsExcluded.includes(E)),d.varindices=e.calset.varindices.filter(E=>!e.varsExcluded.includes(E)),d.varvalues=e.calset.varvalues.filter(E=>!e.varsExcluded.includes(E)),d.varvaluesName=e.calset.varvaluesName,d.varvaluesUnits=e.calset.varvaluesUnits,d.varrev=e.calset.varrev,d.header=e.calset.header,d.prep=[];const p=1-e.alpha/100,w=Math.pow(1-r/100,1/d.nrows),b=s.charAt(0),y=rt(d,b+"Nh"),C=rt(d,b+"Nq"),S=y.map((E,A)=>E+C[A]),k=S.map(E=>Fr(p,E)),_=S.map(E=>Fr(w,E)),M={ncomp:e.nComp,alpha:e.alpha,gamma:r,limType:s,Nf:S,eCrit:k,oCrit:_,className:v,hash:Ur()};e.currentRes={model:d,simca:M,tar:{pca:m,simca:Tc(m,s,k,_)},alt:{pca:g,simca:Pc(g,s,S,k,_)}}}).catch(h=>{console.error(h)})}function jc(t,e,r){let s=t.length;const l=Ke(t);let a=l.sort(),c=l.sortind(),v=-1,u=0,f=0,h=0,d=0;for(;v<0;)u>0&&(s=s-1,c=c.slice(1,s),a=a.slice(1,s)),f=Dn(a),h=jr(a,!0),d=h/(f*f),v=4-2*r*d,u=u+1;const m=(2+Math.sqrt(v))/d,g=m-r,p=f/m,w=e/p,b=1-2*(r+g)*(r+3*g)/(3*(r+2*g)**2),y=(b-1)*(1-3*b),C=(r+2*g)/(r+g)**2,S=1+b*C*(b-1-.5*(2-b)*y*C),k=b*Math.sqrt(2*C)*(1+.5*y*C);return 1-Ir((Math.pow(w/(r+g),b)-S)/k)}function Tl(t,e,r,s,l=5){if(l<.01||l>50)throw new Error("getStat: wrong value for 'alpha' parameter.");let a,c,v,u,f;s?(f=s.ncompBest,a=s.sens,c=s.spec,v=s.eff,u=s.sel):(a=new Float64Array(t.ncomp),c=new Float64Array(t.ncomp),v=new Float64Array(t.ncomp),u=new Float64Array(t.ncomp));const h=rt(t,"cNh"),d=rt(t,"ch0"),m=rt(t,"cNq"),g=rt(t,"cq0"),p=new Float64Array(t.ncomp),w=new Float64Array(t.ncomp),b=new Float64Array(t.ncomp),y=new Float64Array(t.ncomp),C=new Float64Array(t.ncomp),S=new Float64Array(t.ncomp),k=new Float64Array(t.ncomp),_=new Float64Array(t.ncomp),M=1-l/100;for(let E=0;E<t.ncomp;E++){const A=h[E],N=d[E],L=m[E],q=g[E],T=A+L,I=Fr(M,T);let j,D;j=Zt(e,"qdist",E+1),D=Zt(e,"hdist",E+1);let F=0;for(let W=0;W<e.nrows;W++){const H=D[W]/N*A+j[W]/q*L;F+=H<I}F=F/e.nrows,p[E]=F,C[E]=p[E]-a[f?f-1:E],j=Zt(r,"qdist",E+1),D=Zt(r,"hdist",E+1);const X=Array(r.nrows);let Q=0;for(let W=0;W<r.nrows;W++){const H=D[W]/N*A+j[W]/q*L;Q+=H>=I,X[W]=H}Q=Q/r.nrows,w[E]=Q,b[E]=jc(X,I,T),S[E]=w[E]-c[f?f-1:E],k[E]=b[E]-u[f?f-1:E],y[E]=Math.sqrt(F*Q),_[E]=y[E]-v[f?f-1:E]}return{alpha:l,ncomp:t.ncomp,sens:{diff:C,val:p},spec:{diff:S,val:w},sel:{diff:k,val:b},eff:{diff:_,val:y}}}async function Ic(t,e,r,s,l,a,c,v,u,f){return t().then(h=>{const d=Os(h,s,r,c,v,[],e),m=rr(h,d,l),g=rr(h,d,a);return Tl(d,m,g,u,f)}).catch(h=>{console.error(h)})}function zc(t,e,r,s){if(!r&&!e)throw new Error('One of the two arguments "nInt" or "intSize" must be specified.');if(e?r=Math.round(t/e):e=Math.round(t/r),!Number.isInteger(e)||e<2||e>t)throw new Error('Wrong value for "nInt" or "intSize" arguments.');if(!Number.isInteger(r)||r<1||r>t/2)throw new Error('Wrong value for "nInt" or "intSize" arguments.');const l=Array(e),a=Array(e),c=Array(e),v=Array(e),u=Array(e),f=t%e,h=Math.trunc(t/e);let d,m,g;if(e===t)for(r=1,d=0;d<e;d++)l[d]=d,a[d]=d;else if(f===0)for(d=0;d<e;d++)m=d*h,l[d]=m,a[d]=m+h-1;else{let E=0;for(d=0;d<f;d++)l[d]=E,E+=h+1,a[d]=E-1;for(d=f;d<e;d++)l[d]=E,E+=h,a[d]=E-1}let p,w,b,y,C,S,k,_,M=[0,1];for(d=0;d<e;d++)m=l[d],b=s[m],g=a[d],y=s[g],d>0&&(w=a[d-1],S=s[w],k=(b-S)/2),d<e-1&&(p=l[d+1],C=s[p],_=(C-y)/2),d===0&&(k=_,M[0]=b-2*k),d===e-1&&(k=_,M[1]=y+2*_),v[d]=b-k,u[d]=y-b+k+_,c[d]=(b+y)/2;return{nVars:t,nInt:e,intSize:r,intLeftIndices:l,intRightIndices:a,limX:M,left:v,width:u,mid:c}}function Fc(t){const e=[4,6,7,8,9].filter(l=>l<=t&&t%l===0);let r;return t>=10&&t<20?r=[t]:t>=20&&t<30?r=[10,t]:t>=30&&t<=50?r=[10,20,t]:t>50&&t<70?r=[10,20,30]:t>=70&&t<90?r=[10,20,30,40]:t>=90?r=[10,20,30,40,50]:t===5?r=[5]:r=[],[...e,...r].sort((l,a)=>l-a)}var Vc=K('<button tabindex="0" class="button svelte-ymtj5z"> </button>');function ut(t,e){let r=Y(e,"text",3,"button");var s=Vc();s.__click=function(...a){var c;(c=e.onclick)==null||c.apply(this,a)};var l=B(s);re(()=>le(l,r())),R(t,s)}$e(["click"]);var Oc=K('<button tabindex="0"></button>');function Us(t,e){var r=Oc();r.__click=function(...s){var l;(l=e.onclick)==null||l.apply(this,s)},re(()=>{O(r,"title",e.title),O(r,"aria-label",e.title),O(r,"alt",e.title),vt(r,1,`button ${e.className??""}`,"svelte-bx9fh5")}),R(t,r)}$e(["click"]);function or(t,e){let r=Y(e,"title",3,"Reset");Us(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-cancel"})}function Dc(t,e){let r=Y(e,"title",3,"Undo");Us(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-undo"})}function Bc(t,e){let r=Y(e,"title",3,"Download");Us(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-download"})}function Wc(t){const e={};for(const r of Object.keys(t))e[r]=t[r].default;return e}var Uc=K('<span class="label svelte-vzu0vi"> </span>'),Yc=K("<div><!> <!></div>");function ce(t,e){let r=Y(e,"label",3,null),s=Y(e,"name",3,""),l=Y(e,"status",3,""),a=Y(e,"colors",3,""),c=Y(e,"labelWidth",3,12);var v=Yc(),u=B(v);{var f=d=>{var m=Uc(),g=B(m);re(()=>{Dt(m,`flex-basis:${c()??""}ch;`),le(g,r())}),R(d,m)};U(u,d=>{r()&&d(f)})}var h=z(u,2);xn(h,()=>e.children??mt),re(()=>{vt(v,1,`control-element ${s()??""} ${l()??""}`,"svelte-vzu0vi"),Dt(v,a())}),R(t,v)}const Rl=(t,e,r,s)=>{const l=e(t);l<0||l>1||G(r,l*100>o(s)-5&&l*100<o(s)+5,!0)},Ll=(t,e,r,s,l,a)=>{G(e,!1);const c=r(t);c<0||c>1||(s(l(c)),a()&&a()(s()))},jl=(t,e,r,s,l,a)=>{if(!o(e))return;const c=r(t);c<0||c>1||(s(l(c)),a()&&a()(s()))},Hc=(t,e,r,s,l,a)=>{if(t.key==="ArrowLeft"){e(e()-r()<s()?s():e()-r()),l()&&l()(e());return}if(t.key==="ArrowRight"){e(e()+r()>a()?a():e()+r()),l()&&l()(e());return}};var Gc=K('<div role="slider" class="range-slider-container svelte-vhx0r0" tabindex="0"><div><span> </span></div></div>');function Il(t,e){he(e,!0);let r=Y(e,"min",7,0),s=Y(e,"max",3,100),l=Y(e,"value",31,()=>Ue(r())),a=Y(e,"decNum",3,1),c=Y(e,"step",19,()=>+((s()-r())/100).toFixed(4)),v=Y(e,"onchange",3,null);ge(()=>{l()<r()&&(l(r()),v()&&v()(l())),l()>s()&&(l(s()),v()&&v()(l())),r()>s()&&r(s())});let u=ae(void 0),f=ae(void 0),h=ae(!1);const d=M=>{const E=r()+M*(s()-r());return+(Math.round(E/c())*c()).toFixed(4)},m=M=>{const E=o(u).getBoundingClientRect(),A=o(f).getBoundingClientRect(),N=E.x,L=A.x+A.width;return(M.clientX-N)/(L-N)},g=M=>{G(h,!1)},p=M=>{let E=l()+c()*M.deltaY*.5;E<r()&&(E=r()),E>s()&&(E=s()),l(+(Math.round(E/c())*c()).toFixed(4)),M.preventDefault(),v()&&v()(l())},w=P(()=>r()===s()?100:(l()-r())/(s()-r())*100);var b=Gc();b.__keydown=[Hc,l,c,r,v,s],b.__mousemove=[jl,h,m,l,d,v],b.__mousedown=[Rl,m,h,w],b.__mouseup=[Ll,h,m,l,d,v],b.__touchmove=[jl,h,m,l,d,v],b.__touchstart=[Rl,m,h,w],b.__touchend=[Ll,h,m,l,d,v];var y=B(b);let C;var S=B(y);let k;var _=B(S);Rr(y,M=>G(u,M),()=>o(u)),Rr(b,M=>G(f,M),()=>o(f)),re((M,E,A)=>{O(b,"aria-valuenow",l()),O(b,"aria-valuemin",r()),O(b,"aria-valuemax",s()),C=vt(y,1,"range-slider svelte-vhx0r0",null,C,M),Dt(y,`width:${o(w)??""}%`),k=vt(S,1,"range-value svelte-vhx0r0",null,k,E),le(_,A)},[()=>({"range-slider_right":o(w)<50}),()=>({"range-value_right":o(w)<50}),()=>l().toFixed(a())]),Nr("mousewheel",b,p),Nr("mouseleave",b,g),Nr("touchcancel",b,g),R(t,b),me()}$e(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]),$e(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]);const Kc=(t,e,r)=>{if(t.key==="ArrowLeft"){const s=e.options.findIndex(l=>l===r());s>0&&r(e.options[s-1]);return}if(t.key==="ArrowRight"){const s=e.options.findIndex(l=>l===r());s<e.options.length-1&&r(e.options[s+1]);return}};var Xc=(t,e,r)=>e(r),Qc=K('<button tabindex="-1"><!></button>'),Jc=K('<div role="radiogroup" tabindex="0"></div> <input class="svelte-1i17tox">',1);function Nt(t,e){he(e,!0);let r=Y(e,"value",31,()=>Ue(e.options[0])),s=Y(e,"className",3,"");var l=Jc(),a=Z(l);a.__keydown=[Kc,e,r],Ye(a,20,()=>e.options,v=>v,(v,u)=>{var f=Qc();f.__click=[Xc,r,u];let h;var d=B(f);_t(d,()=>u,!1,!1),re((m,g)=>h=vt(f,1,`option option_${m??""}`,"svelte-1i17tox",h,g),[()=>u.toString().replace(".","_"),()=>({selected:u==r()})]),R(v,f)});var c=z(a,2);re(()=>vt(a,1,`selector ${s()??""}`,"svelte-1i17tox")),tl(c,r),R(t,l),me()}$e(["keydown","click"]);function lr(t,e){he(e,!0);let r=Y(e,"options",19,()=>["no","yes"]),s=Y(e,"value",15,!1),l=ae(!0);const a=P(()=>r().length!=2?(console.error('Switch: parameter "option" must gave two values.'),null):r());ge(()=>G(l,s()?r()[1]:r()[0],!0)),ge(()=>s(o(l)===r()[1]));var c=ue(),v=Z(c);{var u=f=>{Nt(f,{get options(){return o(a)},get value(){return o(l)},set value(h){G(l,h,!0)}})};U(v,f=>{o(a)&&f(u)})}R(t,c),me()}var Zc=K('<div tabindex="0" role="radiogroup"> <input type="file" class="svelte-1k0x7uv"></div> <!>',1);function $c(t,e){he(e,!0);let r=Y(e,"file",15),s=Y(e,"message",3,"Select CSV file with dataset"),l=Y(e,"acceptType",3,".csv"),a;function c(b){a&&a.files.length>0?r(a.files[0]):r(null)}function v(b){(b.type==="click"||b.type==="keydown"&&(b.code==="Space"||b.code==="Enter"))&&a.click()}function u(b){a.value=null,r(null)}var f=Zc(),h=Z(f);h.__keydown=v,h.__click=v;let d;var m=B(h),g=z(m);g.__change=c,Rr(g,b=>a=b,()=>a);var p=z(h,2);{var w=b=>{or(b,{onclick:u})};U(p,b=>{r()&&b(w)})}re(b=>{d=vt(h,1,"file-selector svelte-1k0x7uv",null,d,b),le(m,`${(r()?r().name:s())??""} `),O(g,"accept",l())},[()=>({selected:r()})]),R(t,f),me()}$e(["keydown","click","change"]);function eu(t,e,r,s){e()&&G(r,e()(s()),!0)}var tu=K('<div class="error-message svelte-1qtiwcs"> </div>'),nu=K('<div><input type="text" class="svelte-1qtiwcs"> <!></div>');function zl(t,e){he(e,!0);let r=Y(e,"value",15,""),s=Y(e,"className",3,""),l=Y(e,"placeholder",3,""),a=Y(e,"maxLength",3,25),c=Y(e,"validator",3,null),v=ae("");var u=nu();let f;var h=B(u);h.__input=[eu,c,v,r];var d=z(h,2);{var m=g=>{var p=tu(),w=B(p);re(()=>le(w,o(v))),R(g,p)};U(d,g=>{o(v)&&o(v).length>0&&g(m)})}re(g=>{f=vt(u,1,`textinput ${s()??""}`,"svelte-1qtiwcs",f,g),O(h,"placeholder",l()),O(h,"maxlength",a())},[()=>({error:o(v)&&o(v).length>0})]),tl(h,r),R(t,u),me()}$e(["input"]);var ru=K('<div class="spinner svelte-n48urb"></div>');function Ys(t){var e=ru();R(t,e)}$e(["keydown","click"]),$e(["keydown","click"]);var su=K("<h2> </h2>"),ou=K("<!> <!>",1),lu=K('<div class="widget"><!></div>');function au(t,e){he(e,!0);let r=Y(e,"title",3,""),s=Y(e,"value",15),l=Y(e,"labelWidth",3,13);function a(f){const h={};for(const d of Object.keys(f))h[d]=f[d].default;return h}ge(()=>{!s()&&e.options&&s(a(e.options))});var c=lu(),v=B(c);{var u=f=>{var h=ou(),d=Z(h);{var m=p=>{ce(p,{children:(w,b)=>{var y=su(),C=B(y);re(()=>le(C,r())),R(w,y)},$$slots:{default:!0}})};U(d,p=>{r()&&p(m)})}var g=z(d,2);Ye(g,17,()=>Object.keys(e.options),Ge,(p,w)=>{var b=ue();const y=P(()=>e.options[o(w)]);var C=Z(b);{var S=k=>{ce(k,{get label(){return o(y).label},get labelWidth(){return l()},children:(_,M)=>{var E=ue(),A=Z(E);Es(A,()=>o(y).el,(N,L)=>{L(N,je(()=>o(y).props,{get value(){return s()[o(w)]},set value(q){s(s()[o(w)]=q,!0)}}))}),R(_,E)},$$slots:{default:!0}})};U(C,k=>{o(y).hidden||k(S)})}R(p,b)}),R(f,h)};U(v,f=>{s()&&f(u)})}R(t,c),me()}var iu=K('<span style="font-weight:bold"> </span><br>',1),cu=K('<p class="dataset-info svelte-gdjwex"><!> <span>Data file:</span> <span class="file-name svelte-gdjwex"> </span><br> <span>Size:</span> <span class="file-size svelte-gdjwex"> </span></p> <!>',1);function uu(t,e){he(e,!0);let r=Y(e,"title",3,"");var s=ue(),l=Z(s);{var a=c=>{ce(c,{children:(v,u)=>{var f=cu(),h=Z(f),d=B(h);{var m=C=>{var S=iu(),k=Z(S),_=B(k);re(()=>le(_,r())),R(C,S)};U(d,C=>{r()&&r()!==""&&C(m)})}var g=z(d,4),p=B(g),w=z(g,5),b=B(w),y=z(h,2);or(y,{get onclick(){return e.reset}}),re(()=>{O(g,"title",e.dataset.fileName),le(p,e.dataset.fileName),le(b,`${e.dataset.values.nrows??""} × ${e.dataset.values.ncols??""}`)}),R(v,f)},$$slots:{default:!0}})};U(l,c=>{e.dataset&&c(a)})}R(t,s),me()}var fu=K("<!> <!>",1),vu=K("<!> <!> <!> <!> <!> <!>",1),du=K("<!> <!>",1),hu=K("<p> </p>"),mu=K("<!> <p> </p>",1),gu=K("<p> </p>"),bu=K("<!> <!> <!>",1);function Hs(t,e){he(e,!0);let r=Y(e,"model",3,null),s=Y(e,"outliers",19,()=>[]),l=Y(e,"className",3,"Class"),a=Y(e,"classMandatory",3,!1),c=Y(e,"classUnique",3,!1),v=Y(e,"title",3,""),u=Y(e,"dataset",15),f=Y(e,"resobj",15);const h=[",",";"],d=P(()=>r()?["no","yes"]:["no","labels","values"]);let m=ae(void 0),g=ae(""),p=ae(""),w=ae(","),b=ae("no"),y=ae(!1),C=ae(!1),S=ae(null),k=ae("neutral"),_=ae("");function M(W,H,ne){G(S,e.WASM().then($=>{f(Ds($,W,H,ne))}).catch($=>{console.error($),f(null),G(k,"error"),G(_,$,!0)}),!0)}function E(W,H){if(!W||W.size<10)return;const $=W.slice(0,1e5),ee=new FileReader;ee.onload=()=>{const te=ee.result;!te||te.length<0||((se=>(G(w,se[0],!0),G(y,se[1],!0),G(C,se[2],!0),G(b,se[3],!0)))(hc(te)),G(C,a()||o(C),!0),H&&o(b)!=="no"&&G(b,"yes"))},ee.onerror=function(te){csvString=null,G(k,"error"),G(_,te,!0),console.error("Error reading CSV file.",te)},ee.readAsText($)}function A(W){try{const H=fc(W,o(w),o(b)==="yes"?"labels":o(b),o(y),o(C),o(g),o(p));if(H.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r()&&H.values.ncols!==r().ncols+r().exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(H.classNames.length>H.values.nrows/2)throw new Error("Dataset has too many unique "+l().toLowerCase()+" labels ("+H.classNames.length+"), check your CSV file.");if(a()&&H.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(c()&&H.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");H.fileName=o(m).name.replace(/\.[^/.]+$/,""),r()&&(H.varrev=r().varrev,H.header=r().header,H.varlabels=r().varlabels,H.varvalues=r().varvalues,H.varvaluesName=r().varvaluesName,H.varvaluesUnits=r().varvaluesUnits),u(H),G(_,""),G(k,"success")}catch(H){console.error(H),u(null),G(k,"error"),G(_,H,!0)}}function N(W){const H=new FileReader;H.onload=()=>{A(H.result)},H.readAsText(o(m))}function L(){G(m,""),u(null),f(null),G(g,""),G(p,""),G(k,"neutral"),G(_,"")}ge(()=>{o(m)===null?L():(E(o(m),r()),G(k,"neutral"),G(_,""))}),ge(()=>{o(w)&&(G(k,"neutral"),G(_,""))}),ge(()=>{if(u()&&r()&&!f()&&!o(_))try{f(M(r(),u(),s())),G(_,""),G(k,"success")}catch(W){console.error(W),u(null),f(null),G(k,"error"),G(_,W,!0)}});var q=bu(),T=Z(q);{var I=W=>{var H=du(),ne=Z(H);Ko(ne,()=>o(m)===void 0,te=>{ce(te,{children:(se,de)=>{$c(se,{id:"dataFile",message:"Select CSV file with dataset",get file(){return o(m)},set file(ve){G(m,ve,!0)}})},$$slots:{default:!0}})});var $=z(ne,2);{var ee=te=>{var se=vu(),de=Z(se);ce(de,{label:"Delimiter",children:(ke,Xe)=>{Nt(ke,{id:"sep",options:h,get value(){return o(w)},set value(tt){G(w,tt,!0)}})},$$slots:{default:!0}});var ve=z(de,2);ce(ve,{label:"Row labels",children:(ke,Xe)=>{lr(ke,{id:"hasLabels",options:["no","yes"],get value(){return o(y)},set value(tt){G(y,tt,!0)}})},$$slots:{default:!0}});var Ee=z(ve,2);{var Te=ke=>{ce(ke,{get label(){return`${l()??""} labels`},children:(Xe,tt)=>{lr(Xe,{id:"hasLabels",options:["no","yes"],get value(){return o(C)},set value(Et){G(C,Et,!0)}})},$$slots:{default:!0}})};U(Ee,ke=>{a()||ke(Te)})}var Me=z(Ee,2);ce(Me,{label:"Header",children:(ke,Xe)=>{Nt(ke,{id:"header",get options(){return o(d)},get value(){return o(b)},set value(tt){G(b,tt,!0)}})},$$slots:{default:!0}});var Re=z(Me,2);{var et=ke=>{var Xe=fu(),tt=Z(Xe);ce(tt,{label:"Header name",children:(kt,Yn)=>{zl(kt,{id:"varvaluesName",placeholder:"e.g. Wavelength",get value(){return o(g)},set value(dt){G(g,dt,!0)}})},$$slots:{default:!0}});var Et=z(tt,2);ce(Et,{label:"Header units",children:(kt,Yn)=>{zl(kt,{id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm",get value(){return o(p)},set value(dt){G(p,dt,!0)}})},$$slots:{default:!0}}),R(ke,Xe)};U(Re,ke=>{o(b)==="values"&&ke(et)})}var xt=z(Re,2);ce(xt,{label:" ",children:(ke,Xe)=>{ut(ke,{text:"Load",onclick:N})},$$slots:{default:!0}}),R(te,se)};U($,te=>{o(m)&&te(ee)})}R(W,H)},j=W=>{var H=ue(),ne=Z(H);{var $=ee=>{var te=ue(),se=Z(te);xs(se,()=>o(S),de=>{ce(de,{children:(ve,Ee)=>{var Te=mu(),Me=Z(Te);Ys(Me);var Re=z(Me,2),et=B(Re);re(()=>le(et,r()?"Loading data and apply model...":"Loading data...")),R(ve,Te)},$$slots:{default:!0}})},void 0,(de,ve)=>{ce(de,{status:"error",children:(Ee,Te)=>{var Me=hu(),Re=B(Me);re(()=>le(Re,o(ve))),R(Ee,Me)},$$slots:{default:!0}})}),R(ee,te)};U(ne,ee=>{o(S)&&ee($)})}R(W,H)};U(T,W=>{u()?W(j,!1):W(I)})}var D=z(T,2);{var F=W=>{uu(W,{get dataset(){return u()},reset:L,get title(){return v()}})};U(D,W=>{u()&&W(F)})}var X=z(D,2);{var Q=W=>{ce(W,{status:"error",children:(H,ne)=>{var $=gu(),ee=B($);re(()=>le(ee,o(_))),R(H,$)},$$slots:{default:!0}})};U(X,W=>{(o(k)==="error"||o(_))&&W(Q)})}R(t,q),me()}var pu=K("<!> <!> <!> <!>",1),wu=K("<p> </p>"),_u=K("<!> <p>Computing global model...</p>",1),yu=K('<p><span style="color:#a0a0a0;">PCA model:</span> </p> <!>',1),xu=K('<div class="buttons"><!> <!></div>'),Eu=K("<!> <!>",1),ku=K("<p> </p>"),Cu=K("<!> <!> <!> <!>",1);function Au(t,e){he(e,!0);let r=Y(e,"outliers",19,()=>[]),s=Y(e,"resobj",15),l=Y(e,"model",15),a=Y(e,"downloadModel",3,null),c=Y(e,"downloadResults",3,null),v=ae("neutral"),u=ae(""),f=ae(1),h=ae(!0),d=ae(!1),m=ae(void 0);async function g(L,q,T,I){G(m,e.WASM().then(j=>{G(v,"computing");const D=Os(j,L.values,q,T,I,r());D.hash=Ur(),D.exclvars=[],D.varlabels=L.varlabels,D.varindices=L.varindices,D.varvalues=L.varvalues,D.varvaluesName=L.varvaluesName,D.varvaluesUnits=L.varvaluesUnits,D.varrev=L.varrev,D.prep=[];const F=Ds(j,D,L,r());l(D),s(F),G(v,"success")}).catch(j=>{console.error(j),l(null),G(v,"error"),G(u,j,!0)}),!0)}function p(L){G(v,"neutral"),G(u,null),g(e.dataset,o(f),o(h),o(d))}function w(){G(v,"neutral"),G(m,null),s(null),l(null),G(u,null)}let b=P(()=>e.dataset?Math.min(e.dataset.values.nrows-2-r().length,e.dataset.values.ncols-1,50):null);ge(()=>{e.dataset===null&&w()}),ge(()=>{G(f,o(b)?Math.min(o(b),20):null,!0)});var y=Cu(),C=Z(y);{var S=L=>{var q=pu(),T=Z(q);ce(T,{name:"ncomp",label:"# of PCs",children:(F,X)=>{Il(F,{id:"ncomp",min:1,get max(){return o(b)},step:1,decNum:0,get value(){return o(f)},set value(Q){G(f,Q,!0)}})},$$slots:{default:!0}});var I=z(T,2);ce(I,{name:"center",label:"Center",children:(F,X)=>{lr(F,{id:"center",options:["no","yes"],get value(){return o(h)},set value(Q){G(h,Q,!0)}})},$$slots:{default:!0}});var j=z(I,2);ce(j,{name:"scale",label:"Scale",children:(F,X)=>{lr(F,{id:"scale",options:["no","yes"],get value(){return o(d)},set value(Q){G(d,Q,!0)}})},$$slots:{default:!0}});var D=z(j,2);ce(D,{name:"create-model",label:" ",children:(F,X)=>{ut(F,{onclick:p,text:"Create model"})},$$slots:{default:!0}}),R(L,q)};U(C,L=>{e.dataset&&!l()&&o(v)!=="computing"&&L(S)})}var k=z(C,2);{var _=L=>{var q=ue(),T=Z(q);xs(T,()=>o(m),I=>{ce(I,{name:"spinner",children:(j,D)=>{var F=_u(),X=Z(F);Ys(X),R(j,F)},$$slots:{default:!0}})},void 0,(I,j)=>{ce(I,{name:"error",status:"error",children:(D,F)=>{var X=wu(),Q=B(X);re(()=>le(Q,o(j))),R(D,X)},$$slots:{default:!0}})}),R(L,q)};U(k,L=>{o(m)&&L(_)})}var M=z(k,2);{var E=L=>{var q=Eu(),T=Z(q);ce(T,{name:"info",children:(D,F)=>{var X=yu(),Q=Z(X),W=z(B(Q)),H=z(Q,2);or(H,{onclick:w}),re(()=>le(W,` ${l().ncomp??""} PCs${(l().center?", centered":"")??""}${(l().scale?", scaled":"")??""}`)),R(D,X)},$$slots:{default:!0}});var I=z(T,2);{var j=D=>{ce(D,{name:"download-buttons",label:"Download",children:(F,X)=>{var Q=xu(),W=B(Q);ut(W,{onclick:()=>c()(s(),e.dataset,"train",r(),l()),text:"Results"});var H=z(W,2);ut(H,{onclick:()=>a()(l()),text:"Model"}),R(F,Q)},$$slots:{default:!0}})};U(I,D=>{a()&&c()&&D(j)})}R(L,q)};U(M,L=>{l()&&L(E)})}var A=z(M,2);{var N=L=>{ce(L,{name:"error",status:"error",children:(q,T)=>{var I=ku(),j=B(I);re(()=>le(j,o(u))),R(q,I)},$$slots:{default:!0}})};U(A,L=>{(o(v)==="error"||o(u))&&L(N)})}R(t,y),me()}var qu=K('<span class="buttons svelte-t7v4gx"><!> <!></span>'),Su=K('<span class="buttons svelte-t7v4gx"><!> <!></span>'),Mu=K('<span class="buttons svelte-t7v4gx"><!> <!> <!></span>'),Nu=K("<!> <!> <!>",1);function Pu(t,e){he(e,!0);function r(f,h,d){let m=["#","excluded interval","nPCs","sensitivity","specificity","efficiency","selectivity"].join(h)+`
`;const g=f.length;for(let y=0;y<g;y++)m+=[y,y===0?"-":f[y].int,f[y].ncomp,f[y].sens,f[y].spec,f[y].eff,f[y].sel].join(h)+`
`;d!=="."&&(m=m.replace(/\./g,d));const p=new Blob([m],{type:"text/csv"}),w=window.URL.createObjectURL(p),b=document.createElement("a");b.setAttribute("href",w),b.setAttribute("download","ddsimca-love-progress.csv"),b.click()}function s(f,h){if(!h||h.length===0){Bs(f,`${f.fileName}`);return}Bs(gc(f,h),`${f.fileName}-reduced`)}function l(f,h,d,m){const g=d.model,p=d.simca,w=d[f];Rc(g,p,w,h,f,[],m)}function a(f){Lc(f.model,f.simca,f.simca.ncomp)}var c=ue(),v=Z(c);{var u=f=>{var h=Nu(),d=Z(h);ce(d,{label:"Outcomes",children:(p,w)=>{var b=qu(),y=B(b);ut(y,{onclick:()=>r(e.s.statsProgress,e.s.calset.sep,e.s.calset.dec),text:"Full progress"});var C=z(y,2);ut(C,{onclick:()=>a(e.s.currentRes),text:"Model"}),R(p,b)},$$slots:{default:!0}});var m=z(d,2);ce(m,{label:"Results",children:(p,w)=>{var b=Su(),y=B(b);ut(y,{onclick:()=>l("tar",e.s.tarset,e.s.currentRes,e.s.varsExcluded),text:"Target"});var C=z(y,2);ut(C,{onclick:()=>l("alt",e.s.altset,e.s.currentRes,e.s.varsExcluded),text:"Alt"}),R(p,b)},$$slots:{default:!0}});var g=z(m,2);ce(g,{label:"Reduced data",children:(p,w)=>{var b=Mu(),y=B(b);ut(y,{onclick:()=>s(e.s.calset,e.s.varsExcluded),text:"Train"});var C=z(y,2);ut(C,{onclick:()=>s(e.s.tarset,e.s.varsExcluded),text:"Target"});var S=z(C,2);ut(S,{onclick:()=>s(e.s.altset,e.s.varsExcluded),text:"Alt"}),R(p,b)},$$slots:{default:!0}}),R(f,h)};U(v,f=>{e.s.varsExcluded&&e.s.varsExcluded.length>0&&f(u)})}R(t,c),me()}var Tu=K("<!> <!> <!>",1),Ru=K("<p> </p>"),Lu=K("<!> <p>Computing PV-set...</p>",1),ju=K('<p><span style="color:#a0a0a0;">PV-set:</span> </p> <!> <!>',1),Iu=K("<p> </p>"),zu=K("<!> <!> <!> <!>",1);function Fu(t,e){he(e,!0);let r=Y(e,"outliers",19,()=>[]),s=Y(e,"pvset",15),l=Y(e,"pvres",15),a=ae("neutral"),c=ae(""),v=ae(Ue(["ven","rand","loo"])),u=ae("ven"),f=ae(void 0),h=e.calset.values.nrows-r().length,d=e.calset&&e.calset.values.nrows>0?[3,4,5,10,20].filter(N=>N>=h/(h-e.model.ncomp-1)&&N<=h/2):[],m=ae(Ue(d.length>0?d[0]:0));ge(()=>{d.length===0&&(G(v,["loo"],!0),G(u,"loo"))});async function g(N,L,q){G(f,e.WASM().then(T=>{const I=q.type=="loo"?0:q.type=="rand"?2:1,j=ic(T,L,N.values,L.ncomp,q.nseg,I,0,r());s({classLabelsVarname:N.classLabelsVarname,classNames:N.classNames,classes:N.classes,dec:N.dec,fileName:N.fileName+"-pcv",hasClassNames:N.hasClassNames,hasLabels:N.hasLabels,header:N.header,labelsVarname:N.labelsVarname,objindices:e.calres.objindices,objlabels:e.calres.objlabels,responses:e.calres.responses,sep:N.sep,values:j,varAxisTitle:N.varAxisTitle,varindices:L.varindices,varlabels:L.varlabels,varrev:L.varrev,varvalues:L.varvalues,varvaluesName:L.varvaluesName,varvaluesUnits:L.varvaluesUnits}),l(Ds(T,L,s(),[]))}).catch(T=>{console.error(T),s(null),l(null),G(a,"error"),G(c,T,!0)}),!0)}function p(N){G(a,"neutral"),G(c,""),g(e.calset,e.model,{type:o(u),nseg:o(m)})}function w(){G(a,"neutral"),G(c,""),G(f,null),s(null),l(null)}ge(()=>{e.model===null&&w()});var b=zu(),y=Z(b);{var C=N=>{var L=Tu(),q=Z(L);ce(q,{name:"split",label:"Split type:",children:(D,F)=>{Nt(D,{id:"cvType",get options(){return o(v)},get value(){return o(u)},set value(X){G(u,X,!0)}})},$$slots:{default:!0}});var T=z(q,2);{var I=D=>{ce(D,{name:"nseg",label:"Segments:",children:(F,X)=>{Nt(F,{id:"nseg",options:d,get value(){return o(m)},set value(Q){G(m,Q,!0)}})},$$slots:{default:!0}})};U(T,D=>{o(u)!=="loo"&&D(I)})}var j=z(T,2);ce(j,{name:"run-button",label:" ",children:(D,F)=>{ut(D,{onclick:p,text:"Compute PV-set"})},$$slots:{default:!0}}),R(N,L)};U(y,N=>{e.model&&!s()&&o(a)!=="busy"&&N(C)})}var S=z(y,2);{var k=N=>{var L=ue(),q=Z(L);xs(q,()=>o(f),T=>{ce(T,{name:"spinner",children:(I,j)=>{var D=Lu(),F=Z(D);Ys(F),R(I,D)},$$slots:{default:!0}})},void 0,(T,I)=>{ce(T,{name:"error",status:"error",children:(j,D)=>{var F=Ru(),X=B(F);re(()=>le(X,o(I))),R(j,F)},$$slots:{default:!0}})}),R(N,L)};U(S,N=>{o(f)&&N(k)})}var _=z(S,2);{var M=N=>{ce(N,{name:"info",children:(L,q)=>{var T=ju(),I=Z(T),j=z(B(I)),D=z(I,2);Bc(D,{onclick:()=>Bs(s(),e.calset.fileName+"-pv")});var F=z(D,2);or(F,{onclick:w}),re(()=>le(j,` ${s().values.nrows??""} × ${s().values.ncols??""}, ${o(u)??""}
      ${(o(u)!=="loo"?o(m)+" seg":"")??""}`)),R(L,T)},$$slots:{default:!0}})};U(_,N=>{s()&&N(M)})}var E=z(_,2);{var A=N=>{ce(N,{name:"error",status:"error",children:(L,q)=>{var T=Iu(),I=B(T);re(()=>le(I,o(c))),R(L,T)},$$slots:{default:!0}})};U(E,N=>{o(a)==="error"&&o(c)&&N(A)})}R(t,b),me()}var Vu=K('<tr class="global svelte-16n1t3l"><td class="svelte-16n1t3l">0</td><td class="svelte-16n1t3l">-</td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Ou=K('<tr class="global svelte-16n1t3l"><td class="svelte-16n1t3l"></td><td class="svelte-16n1t3l">-</td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr> <tr class="svelte-16n1t3l"><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td></tr>',1),Du=K('<tr><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Bu=K("<!> <!>",1),Wu=K('<tr class="selected svelte-16n1t3l"><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Uu=K('<table class="svelte-16n1t3l"><thead><tr class="svelte-16n1t3l"><th class="svelte-16n1t3l">#</th><th class="svelte-16n1t3l">int</th><th class="svelte-16n1t3l">#PCs</th><th class="svelte-16n1t3l">sens</th><th class="svelte-16n1t3l">spec</th><th class="svelte-16n1t3l">eff</th><th class="svelte-16n1t3l">sel</th></tr></thead><tbody><!><!></tbody></table>');function Yu(t,e){he(e,!0);const r=5,s=P(()=>e.s.statsProgress?e.s.statsProgress.length:0),l=P(()=>o(s)-r+1),a=P(()=>Wr(o(l)<=0?0:o(l),o(s)-1)),c=P(()=>e.s.outcomes&&e.s.outcomes.status==="done"&&e.s.intSelected>=0?{i:o(s),ncomp:e.s.nComp,int:e.s.intSelected+1,sens:e.s.outcomes.sens.val.getcolumn(e.s.nComp).v[e.s.intSelected],spec:e.s.outcomes.spec.val.getcolumn(e.s.nComp).v[e.s.intSelected],eff:e.s.outcomes.eff.val.getcolumn(e.s.nComp).v[e.s.intSelected],sel:e.s.outcomes.sel.val.getcolumn(e.s.nComp).v[e.s.intSelected]}:null);var v=ue(),u=Z(v);{var f=h=>{var d=Uu(),m=z(B(d)),g=B(m);{var p=C=>{var S=Vu(),k=z(B(S),2),_=B(k),M=z(k),E=B(M),A=z(M),N=B(A),L=z(A),q=B(L),T=z(L),I=B(T);re((j,D,F,X)=>{le(_,e.s.nComp),le(E,j),le(N,D),le(q,F),le(I,X)},[()=>e.s.statsGlobal.sens[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.spec[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.eff[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.sel[e.s.nComp-1].toFixed(3)]),R(C,S)},w=C=>{var S=Bu(),k=Z(S);{var _=E=>{var A=Ou(),N=Z(A),L=B(N);L.textContent="0";var q=z(L,2),T=B(q),I=z(q),j=B(I),D=z(I),F=B(D),X=z(D),Q=B(X),W=z(X),H=B(W);re((ne,$,ee,te)=>{le(T,e.s.statsProgress[0].ncomp),le(j,ne),le(F,$),le(Q,ee),le(H,te)},[()=>e.s.statsProgress[0].sens.toFixed(3),()=>e.s.statsProgress[0].spec.toFixed(3),()=>e.s.statsProgress[0].eff.toFixed(3),()=>e.s.statsProgress[0].sel.toFixed(3)]),R(E,A)};U(k,E=>{o(l)>0&&E(_)})}var M=z(k,2);Ye(M,17,()=>o(a),Ge,(E,A)=>{var N=Du();let L;var q=B(N),T=B(q),I=z(q),j=B(I),D=z(I),F=B(D),X=z(D),Q=B(X),W=z(X),H=B(W),ne=z(W),$=B(ne),ee=z(ne),te=B(ee);re((se,de,ve,Ee,Te)=>{L=vt(N,1,"svelte-16n1t3l",null,L,se),le(T,o(A)),le(j,o(A)>0?e.s.statsProgress[o(A)].int:"-"),le(F,e.s.statsProgress[o(A)].ncomp),le(Q,de),le(H,ve),le($,Ee),le(te,Te)},[()=>({global:o(A)==0,current:o(A)===e.s.statsProgress.length-1}),()=>e.s.statsProgress[o(A)].sens.toFixed(3),()=>e.s.statsProgress[o(A)].spec.toFixed(3),()=>e.s.statsProgress[o(A)].eff.toFixed(3),()=>e.s.statsProgress[o(A)].sel.toFixed(3)]),R(E,N)}),R(C,S)};U(g,C=>{e.s.statsProgress?C(w,!1):C(p)})}var b=z(g);{var y=C=>{var S=Wu(),k=B(S),_=B(k),M=z(k),E=B(M),A=z(M),N=B(A),L=z(A),q=B(L),T=z(L),I=B(T),j=z(T),D=B(j),F=z(j),X=B(F);re((Q,W,H,ne)=>{le(_,o(c).i),le(E,o(c).int),le(N,o(c).ncomp),le(q,Q),le(I,W),le(D,H),le(X,ne)},[()=>o(c).sens.toFixed(3),()=>o(c).spec.toFixed(3),()=>o(c).eff.toFixed(3),()=>o(c).sel.toFixed(3)]),R(C,S)};U(b,C=>{o(c)&&C(y)})}R(h,d)};U(u,h=>{e.s.statsGlobal&&e.s.nComp&&h(f)})}R(t,v),me()}const Hu={small:30,medium:40,large:50,xlarge:60},Gu={small:5,medium:8,large:12,xlarge:15},Ku={small:6,medium:10,large:14,xlarge:18},Gs={small:4,medium:6,large:8,xlarge:10},Xu={small:12,medium:15,large:19,xlarge:21},Fl={small:11,medium:15,large:17,xlarge:19},Hr={small:["0","3,3","1,1","3,1,1,1"],medium:["0","5,5","2,2","5,2,2,2"],large:["0","7,7","3,3","7,3,2,3"],xlarge:["0","9,9","4,4","9,3,3,3"]},ar=["●","◼","▲","▼","⬥","＋","✳","✕"],Qu=.8,Vl=.5,Ju={small:5,medium:8,large:12,xlarge:15},pt={MIDDLEGRAY:"#dadada",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function Ol(t,e){return Array.isArray(t)&&t.length===e&&!t.some(r=>r===void 0)&&!t.some(r=>isNaN(r))}function Dl(t,e){if(t!=null&&(Array.isArray(t)&&(t=Ke(t)),!(!qe(t)||t.length<1)))return t.apply(r=>Qs((r-e[1])*e[0]+e[2])).v}function at(t,e){return Dl(t,e.coords)}function Bl(t,e){return Dl(t,e.objects)}function Wl(t,e){if(t!=null&&(Array.isArray(t)&&(t=Ke(t)),!(!qe(t)||t.length<1)))return t.apply(r=>(r-e[2])/e[0]+e[1]).v}function Ul(t,e){return Wl(t,e.coords)}function Yl(t,e){return Wl(t,e.objects)}function Ks(t){return t===0?"":`<tspan>&times;10</tspan><tspan font-size="0.75em" dy="-0.5em">${t.toString()}</tspan>`}function Cn(t){if(t===Math.round(t))return t;if(Math.abs(t)>10**6)return Math.round(t);if(Math.abs(t)<10**-6)return t;let e=t.toPrecision(10);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Xs(t){if(t===void 0)return[0,void 0];if(t.length<1)return[0,void 0];if(t.length===1)return[0,[t[0].toString()]];let e=Cn(Math.abs(Bn(ll(t)))),r=0;if(e>=1)return e<100?[0,Array.from(t).map(a=>a.toFixed(0))]:(r=Math.ceil(Cn(Math.log10(e)))-2,[r,Array.from(t).map(a=>(a/Math.pow(10,r)).toFixed(0))]);let s=Math.ceil(-Cn(Math.log10(e)));return s<=2?[0,Array.from(t).map(l=>l.toFixed(s))]:(r=s-2,s=2,Cn(Math.abs(En(t)))<=10?[-r,Array.from(t).map(l=>(l*Math.pow(10,r)).toFixed(s))]:[-r,Array.from(t).map(l=>(l/Math.pow(10,r)).toString())])}function It(t,e,r){return Array.isArray(t)&&(t=Ke(t)),qe(t)?t.length<1?(console.error(e+": vector with coordinates is empty."),null):r&&t.length!==r?(console.error(e+": vector does not have the expected length of "+r+"."),null):t:(console.error(e+": coordinates must be provided as array or instance of Vector class."),null)}function Zu(t,e,r,s){if(!t||!e||t.length!==e.length)return console.error("val2p: provided coordinate values are not correct."),null;const l=r.coords,a=s.coords;let c="";for(let v=0;v<t.length;v++){const u=Qs((t.v[v]-l[1])*l[0]+l[2]),f=Qs((e.v[v]-a[1])*a[0]+a[2]);c+=u+","+f+" "}return c}function Hl(t,e){return t?Array.isArray(t)?!e||e.length<1?[null,"tick labels must be accompanied with tick values."]:e.v.length!==t.length?[null,"number of tick labels and values should be the same."]:[t.map(r=>cr(r)),""]:[null,"tick labels must be provided as array."]:[null,""]}function Gl(t,e){if(Array.isArray(t)&&(t=Ke(t)),!qe(t))return[null,"tick values must be provided as an array or as a vector."];if(t.v.some(c=>isNaN(c)))return[null,"tick values must be numeric"];const r=new Set(t.v);if(t.length!==r.size)return[null,"ticks values must be unique."];const s=e[0]<e[1]?e[0]:e[1],l=e[0]<e[1]?e[1]:e[0],a=t.filter(c=>c>=s&c<=l);return a.length!==t.length?[null,"some of ticks values are outside axis limits."]:[a,""]}function Kl(t,e,r,s,l,a){l==null&&(l=!1),a===void 0&&(a=1e-4);const c=e[0]<e[1]?e:[e[1],e[0]];if(t)return t;if(typeof c!="object"||c[0]===void 0||c[1]===void 0){console.error("getAxisTicks: provided axis limits are not valid.");return}const v=Math.abs(c[1]-c[0])*a,u=c[1]-c[0]-2*v,f=Math.floor(Math.log10(u)),h=1/Math.pow(10,f-1),d=Math.round(u*h)/h;let m=$u(d/r);l&&(Math.abs(c[1]-c[0])<=1?console.error('getAxisTicks: parameter "whole" will be ignored as axis limits are too narrow to fit whole ticks.'):(m<1&&(m=1),m=Math.round(m)));let g=Math.ceil((c[0]+v)/m)*m,p=Math.floor((c[1]-v)/m)*m;Math.abs(c[0]-g)<m/10&&(g=g+m),Math.abs(c[1]-p)<m/10&&(p=p-m),r=Math.ceil(Cn((p-g)/m))+1,t=xe.zeros(r);for(let w=0;w<r;w++)t.v[w]=g+m*w;if(Math.abs(m)<1){const w=Math.pow(10,1+Math.round(-Math.log10(m)));t=t.apply(b=>Math.round((b+Number.EPSILON)*w)/w)}return t.filter(w=>w>=c[0]&w<=c[1])}function $u(t,e){const r=Math.floor(Math.log10(t)),s=t/Math.pow(10,r);let l;return s<=1?l=1:s<=2?l=2:s<=5?l=5:l=10,l*Math.pow(10,r)}function Qs(t){return Math.round(t*10)/10}function ef(t,e){return e<300.2||t<400.2?"small":e<400.2||t<700.2?"medium":e<650.2||t<850.2?"large":"xlarge"}function Xl(t,e){return t<400.2?"small":t<700.2?"medium":t<900.2?"large":"xlarge"}function tf(){const t=new Int32Array(256);for(let e=0;e<256;e++){let r=e;for(let s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t}function nf(t){let e=-1,r=tf();for(let s=0;s<t.length;s++)e=r[(e^t[s])&255]^e>>>8;return e^-1}function rf(t,e){const r=new Uint8Array(13);e*=39.3701,r[0]=112,r[1]=72,r[2]=89,r[3]=115,r[4]=e>>>24,r[5]=e>>>16,r[6]=e>>>8,r[7]=e&255,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;const s=nf(r),l=new Uint8Array(4);l[0]=s>>>24,l[1]=s>>>16,l[2]=s>>>8,l[3]=s&255;const a=new Uint8Array(4);a[0]=0,a[1]=0,a[2]=0,a[3]=9;const c=new Uint8Array(54);return c.set(t,0),c.set(a,33),c.set(r,37),c.set(l,50),c}function sf(t,e){const r=t.split(","),s=r[0],l=r[1],a=33/3*4,c=l.substring(0,a),v=l.substring(a),u=atob(c),f=new Uint8Array(u.length);for(let m=0;m<f.length;m++)f[m]=u.charCodeAt(m);const h=rf(f,e),d=btoa(String.fromCharCode(...h));return[s,",",d,v].join("")}function of(t,e,r,s,l){if(r||(r=10),s||(s=10),l||(l=300),r<1||r>30)return console.error('Parameter "width" must be between 1 and 30 (cm).'),null;if(s<1||s>30)return console.error('Parameter "height" must be between 1 and 30 (cm).'),null;if(l<50||l>1200)return console.error('Parameter "res" must be between 50 and 1200 (ppi).'),null;if(!t||!(t instanceof SVGElement))return console.error('Parameter "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const a=r/2.54*l,c=s/2.54*l;setTimeout(()=>{const v=t.clientHeight,u=t.clientWidth;let f=Math.max(a/u,c/v),h=1;f<1&&(h=f,f=1);const d=document.createElement("canvas"),m=d.getContext("2d");d.width=u*(h<1?h:f),d.height=v*(h<1?h:f),t.setAttribute("width",u*f),t.setAttribute("height",v*f),m.fillStyle="white",m.fillRect(0,0,d.width,d.height),m.scale(f,f);const g=new XMLSerializer().serializeToString(t),p=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(p),b=new Image;b.onload=function(){h<0&&(b.width=b.width*h,b.height=b.height*h),m.drawImage(b,0,0,d.width,d.height);const y=d.toDataURL("image/png"),C=sf(y,l),S=document.createElement("a");S.href=C,S.download=`${e}.png`,S.click()},b.src=w},20)}function lf(t,e){if(!t||!(t instanceof SVGElement))return console.error('Variable "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const r=t.clientHeight,s=t.clientWidth;t.setAttribute("width",s+"px"),t.setAttribute("height",r+"px"),t.setAttribute("viewBox",`0 0 ${s} ${r}`);const l=new Blob([t.outerHTML],{type:"image/svg+xml"}),a=window.URL.createObjectURL(l),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",`${e}.svg`),c.click()}function af(t,e,r,s){const l=t.textContent;navigator.clipboard.write([new ClipboardItem({"image/png":cf(e,r,s)})]).then(()=>{t.classList.add("copied"),t.textContent="✓ done",setTimeout(()=>{t.classList.remove("copied"),t.textContent=l},500)},a=>{console.error(a),t.classList.add("error"),t.textContent="x copy",setTimeout(()=>{t.classList.remove("error"),t.textContent=l},500)}).catch(a=>console.error(a))}async function cf(t,e,r){const s=t.clientHeight,l=t.clientWidth,a=Math.max(e/l,r/s),c=document.createElement("canvas"),v=c.getContext("2d");return c.width=l*a,c.height=s*a,v.scale(a,a),t.setAttribute("width",c.width),t.setAttribute("height",c.height),await new Promise((f,h)=>{const d=new XMLSerializer().serializeToString(t),m=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,p=g.createObjectURL(m),w=new Image;w.onload=function(){v.drawImage(w,0,0,c.width,c.height),g.revokeObjectURL(p),c.toBlob(function(b){b?f(b):h(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){h(b)},w.src=p})}function uf(t,e,r,s,l){let a=l.ticks,c=l.tickLabels,v=0;const u=Kl(a,t,Gu[r.x],!0,l.whole),f=u.length,h=Yl([Gs[r.plot]],s)[0],d=xe.fill(e[0],f),m=d.add(h),g=xe.fill(e[1],f);if(c||(a?(v=0,c=a.v.map(A=>Cn(A).toString())):[v,c]=Xs(u.v)),!c||c.length!==u.length)return console.error('XAxis: "tickLabels" must be a array of the same size as ticks.'),null;const p=[[u,d],[u,g]],w=[[Ke([t[0]]),Ke([e[0]])],[Ke([t[1]]),Ke([e[0]])]],b=[[u,m],[u,d]],y=(t[1]-t[0])*.01,C=[[null,null],[[t[1]-(v>9?1:0)*y],[d.v[f-1]]]],S=Ks(v),k=c.length,_=Math.abs(t[1]>t[0]?t[1]-u.v[k-1]:t[1]-u.v[0]),M=Math.abs(t[1]-t[0]),E=Math.abs(u.v[1]-u.v[0]);if(S.length>0&&_<M*.1&&_<E*.5){const A=t[1]>t[0]?k-1:0;c[A]=" "}return{grid:p,axisLine:w,tickCoords:b,tfCoords:C,ticks:a,tickLabels:c,tickFactor:v,tfLabel:S}}function ff(t,e,r,s,l){let a=l.ticks,c=l.tickLabels,v=0;const u=Kl(l.ticks,e,Ku[r.y],!0,l.whole),f=u.length,h=Yl([Gs[r.plot]],s)[0],d=xe.fill(t[0],f),m=d.add(h),g=xe.fill(t[1],f);if(c||(a?(v=0,c=a.v.map(E=>Cn(E).toString())):[v,c]=Xs(u.v)),c.length!==u.length)return console.error('YAxis: "tickLabels" must be a array of the same size as ticks.'),null;const p=[[d,u],[g,u]],w=[[Ke([t[0]]),Ke([e[0]])],[Ke([t[0]]),Ke([e[1]])]],b=[[d,u],[m,u]],y=[[[],[]],[[m.v[f-1]+(Math.abs(v)>9?3:2)*h],[e[1]]]],C=Ks(v),S=c.length,k=Math.abs(e[1]>e[0]?e[1]-u.v[S-1]:e[1]-u.v[0]),_=Math.abs(e[1]-e[0]),M=Math.abs(u.v[1]-u.v[0]);if(C.length>0&&k<_*.1&&k<M*.5){const E=e[1]>e[0]?S-1:0;c[E]=" "}return{grid:p,axisLine:w,tickCoords:b,tfCoords:y,ticks:a,tickLabels:c,tickFactor:v,tfLabel:C}}function vf(t){if(!t.breaks)return console.error("ColormapLegend: breaks values must be provided."),null;const e=qe(t.breaks)?t.breaks.v:t.breaks;if(e.length<2)return console.error("ColormapLegend: incorrect breaks values."),null;if(!t.colmap)return console.error('ColormapLegend: values for "colmap" parameter must be provided.'),null;if(!Array.isArray(t.colmap))return console.error('ColormapLegend: parameter "colmap" must be array with colors.'),null;if(t.colmap.length!==e.length-1)return console.error('ColormapLegend: number of color values in "colmap" does not match number of intervals defined by breaks.'),null;const r=t.colmap;let s,l;if(t.labels?(s=t.labels,l=0):[l,s]=Xs(e),!(s.length===e.length-1||s.length===e.length))return console.error('ColormapLegend: number of values in "labels" should be equal to or by one less than number of values in "breaks".'),null;const a=s.length===r.length;return{colmap:r,breaks:e,labels:s,isCentered:a,labelsFactor:l,fontSize:t.fontSize,labelColor:t.labelColor}}function df(t,e,r,s){const l=t.colmap.length,a=e*Qu,c=a/l,v=r[1]+(e-a)*.5,u=Ju[s.y],f=r[2]+u*Vl,h=f+u*(1+Vl),d=t.isCentered?c/2:0;return{start:v,top:f,height:u,width:c,dxl:d,ltop:h}}function ir(t,e,r){if(!t||!e||!r||typeof r!="function")return;const s=t.target;if(s.tagName===e){const l=Array.prototype.indexOf.call(s.parentNode.children,s);if(l<0)return;r(l),t.stopPropagation()}}function hf(t,e){const s=document.createElement("canvas").getContext("2d");return s.font=e,s.measureText(t.replace(/<(.|\n)*?>/g,"")).width}function mf(t,e){const r="Arial",s=e/8,l=e*1.5,a=Array(t.length),c=Array(t.length);let v=0,u=0,f=0;for(let d=0;d<t.length;d++){const m=hf("  "+t[d].label+"  ",e+"px "+r);f=m>f?m:f;const g=e*t[d].labelHeight+2*s;a[d]=g,c[d]=v,v=v+g,u=u+g}const h=l+2*s+f;return[c,a,l,s,u,h]}function gf(t,e,r,s,l){const[a,c,v,u,f,h]=mf(t.items,s*t.fontSize),d=t.position.includes("left")?e[0]+l:t.position.includes("right")?e[1]-h-l:(e[1]+e[0]-h)*.5,m=t.position.includes("top")?r[1]+l:t.position.includes("bottom")?r[0]-f-l:(r[1]+r[0]-f)*.5;return{lgl:d,lgt:m,lgw:h,lgh:f,ely:a,elh:c,elw:v,elp:u}}function cr(t){if(!t||t.length<1)return t;function e(a){return'<tspan font-size="0.75em" dy="-0.5em">'+a+'</tspan><tspan dy="0.4em"> </tspan>'}function r(a){return'<tspan font-size="0.75em" dy="0.5em">'+a+'</tspan><tspan dy="-0.4em"> </tspan>'}let s=0,l="";for(;s<t.length;){const a=t[s];if((a==="^"||a==="_")&&s<t.length-1){const c=a==="^";if(s++,t[s]==="("){let v=s+1;for(;v<t.length&&t[v]!==")";)v++;const u=t.slice(s+1,v);l+=c?e(u):r(u),s=v+1}else if(t[s]==="-"||t[s]==="–"){const v=t.slice(s,s+2);l+=c?e(v):r(v),s=s+2}else l+=c?e(t[s]):r(t[s]),s++}else l+=a,s++}return l}var bf=be('<line vector-effect="non-scaling-stroke"></line>'),pf=be("<g></g>");function Js(t,e){he(e,!0);let r=Y(e,"lineCoords",19,()=>[]),s=Y(e,"lineColor",19,()=>pt.DARKGRAY),l=Y(e,"lineType",3,1),a=Y(e,"lineWidth",3,1),c=Y(e,"className",3,"");const v=Vt("axes");let u=P(()=>at(r()[0][0],v.tX())),f=P(()=>at(r()[1][0],v.tX())),h=P(()=>at(r()[0][1],v.tY())),d=P(()=>at(r()[1][1],v.tY())),m=P(()=>`stroke:${s()};stroke-width: ${a()}px;stroke-dasharray:${Hr[v.scales().plot][l()-1]}`);var g=ue(),p=Z(g);{var w=b=>{var y=pf();Ye(y,21,()=>o(u),Ge,(C,S,k)=>{var _=bf();re(()=>{O(_,"x1",o(u)[k]),O(_,"x2",o(f)[k]),O(_,"y1",o(h)[k]),O(_,"y2",o(d)[k]),Dt(_,o(m))}),R(C,_)}),re(()=>vt(y,0,yi(c()))),R(b,y)};U(p,b=>{o(u)&&o(h)&&o(f)&&b(w)})}R(t,g),me()}var wf=be('<text text-anchor="middle"><!></text>'),_f=be("<text><!></text>"),yf=be("<text><!></text>"),xf=be('<g class="tick-labels"><!></g>');function Ql(t,e){he(e,!0);let r=Y(e,"pos",3,1),s=Y(e,"las",3,1),l=P(()=>["middle","middle","start","middle","end"][r()]),a=P(()=>`fill:${e.textColor};`);const c=Vt("axes");let v=P(()=>at(e.tickCoords[1][0],c.tX())),u=P(()=>at(e.tickCoords[1][1],c.tY())),f=P(()=>Fl[c.scales().plot]),h=P(()=>[0,0,o(f),0,-o(f)][r()]),d=P(()=>[0,o(f),0,-o(f),0][r()]);var m=xf(),g=B(m);{var p=b=>{var y=ue(),C=Z(y);Ye(C,17,()=>o(v),Ge,(S,k,_)=>{var M=wf();O(M,"data-id",_),O(M,"dx",0);var E=B(M);_t(E,()=>e.tickLabels[_],!0,!1),re(()=>{O(M,"x",o(v)[_]),O(M,"y",o(u)[_]),O(M,"dy",o(h)*1.25),O(M,"transform",`rotate(-90, ${o(v)[_]}, ${o(u)[_]})`)}),R(S,M)}),R(b,y)},w=(b,y)=>{{var C=k=>{var _=ue(),M=Z(_);Ye(M,17,()=>o(v),Ge,(E,A,N)=>{var L=_f();O(L,"data-id",N),O(L,"dy",0),O(L,"text-anchor","end");var q=B(L);_t(q,()=>e.tickLabels[N],!0,!1),re(()=>{O(L,"x",o(v)[N]),O(L,"y",o(u)[N]),O(L,"dx",-o(d)/2),O(L,"transform",`rotate(-90, ${o(v)[N]}, ${o(u)[N]})`)}),R(E,L)}),R(k,_)},S=k=>{var _=ue(),M=Z(_);Ye(M,17,()=>o(v),Ge,(E,A,N)=>{var L=yf();O(L,"data-id",N);var q=B(L);_t(q,()=>e.tickLabels[N],!0,!1),re(()=>{O(L,"x",o(v)[N]),O(L,"y",o(u)[N]),O(L,"dx",o(h)),O(L,"dy",o(d)),O(L,"text-anchor",o(l))}),R(E,L)}),R(k,_)};U(b,k=>{s()===2&&r()===1?k(C):k(S,!1)},y)}};U(g,b=>{s()===2&&r()===4?b(p):b(w,!1)})}re(()=>Dt(m,o(a))),R(t,m),me()}const Ef=(t,e=mt,r=mt)=>{var s=Nf();P(()=>r().height*1.25);const l=P(()=>e().colmap.length);var a=Z(s);Ye(a,17,()=>e().colmap,Ge,(h,d,m)=>{var g=qf();const p=P(()=>r().start+m*r().width);var w=Z(g),b=z(w);O(b,"dy",0);var y=B(b);_t(y,()=>e().labels[m],!0,!1),re(()=>{O(w,"x",o(p)),O(w,"y",r().top),O(w,"width",r().width),O(w,"height",r().height),O(w,"fill",o(d)),O(b,"x",o(p)),O(b,"y",r().ltop),O(b,"dx",r().dxl),O(b,"fill",e().labelColor),O(b,"font-size",e().fontSize+"em")}),R(h,g)});var c=z(a);{var v=h=>{var d=Sf();const m=P(()=>r().start+o(l)*r().width);O(d,"dx",0),O(d,"dy",0);var g=B(d);_t(g,()=>e().labels[o(l)],!0,!1),re(()=>{O(d,"x",o(m)),O(d,"y",r().ltop),O(d,"fill",e().labelColor),O(d,"font-size",`${e().fontSize??""}em`)}),R(h,d)};U(c,h=>{e().isCentered||h(v)})}var u=z(c);{var f=h=>{var d=Mf();const m=P(()=>r().start+o(l)*r().width);var g=B(d);_t(g,()=>Ks(e().labelsFactor),!0,!1),re(()=>{O(d,"x",o(m)),O(d,"y",r().ltop),O(d,"fill",e().labelColor),O(d,"font-size",`${e().fontSize??""}em`)}),R(h,d)};U(u,h=>{e().labelsFactor!==0&&h(f)})}R(t,s)};function Jl(t,e,r){e(t,r())}function Zl(t,e,r){e(t,r())}function $l(t,e,r){e(t,r())}function Gr(t,e,r){e(t,r())}async function ea(t,e,r,s){af(t.target,o(e),r(),s())}function ta(t,e,r){lf(o(e),r())}function na(t,e,r,s,l,a){of(o(e),r(),s(),l(),a())}var kf=be('<text fill="crimson" text-anchor="middle"> </text>'),Cf=be('<text dy="10px" fill="crimson" text-anchor="middle" dominant-baseline="hanging"> </text>'),Af=be("<!><!><!><!><!>",1),qf=be('<rect></rect><text dominant-baseline="hanging" text-anchor="middle"><!></text>',1),Sf=be('<text dominant-baseline="hanging" text-anchor="middle"><!></text>'),Mf=be('<text dx="1.2em" dy="-0.25em" dominant-baseline="hanging" text-anchor="right"><!></text>'),Nf=be("<!><!><!>",1),Pf=be("<line></line>"),Tf=be('<text dominant-baseline="middle" text-anchor="middle"> </text>'),Rf=be('<svg><!><!><text class="legend-text" xml:space="preserve" dominant-baseline="middle" text-anchor="start"><!></text></svg>'),Lf=be('<svg><rect height="100%" width="100%"></rect><!></svg>'),jf=be('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),If=be('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),zf=be('<text dominant-baseline="middle" style="font-size:1.2em;"><!></text>'),Ff=be('<g class="plot-labels"><!><!><!></g>'),Vf=be('<g class="axis x-axis"><!></g>'),Of=be('<g class="axis y-axis"><!></g>'),Df=be('<rect fill="transparent" id="axes-box"></rect>'),Bf=be('<rect stroke="transparent" fill="transparent" id="axes-box"></rect>'),Wf=be('<g class="colormap-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Uf=be('<g class="group-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Yf=be('<!><!><g class="axes-box"><!></g><g class="axes-content svelte-1jtdxd0"><!></g><!><!>',1),Hf=K('<p class="message-error svelte-1jtdxd0">Axes component was not properly initialized. <br> Check that you defined axes limits and margins correctly.</p>'),Gf=K('<div class="download-links svelte-1jtdxd0"><button class="svelte-1jtdxd0">⇩ svg</button> <button class="svelte-1jtdxd0">⇩ png</button> <button class="svelte-1jtdxd0">⧉ copy</button></div>'),Kf=K(`<div><svg class="plot svelte-1jtdxd0" xmlns="http://www.w3.org/2000/svg"><style>.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
            user-select: none;
         }

         .series-points text {
            /* dominant-baseline: central;
            alignment-baseline: central */
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-textlabels text,
         .series-textlabels tspan,
         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }


         .colormap-legend text,
         .colormap-legend tspan,
         .series-points text,
         .series-points tspan {
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }

         .series-points1 text,
         .series-points1 tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
         }

         .series-points2 text,
         .series-points2 tspan {
            dominant-baseline: central;
            alignment-baseline: central;
         }

         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
            text-anchor: middle;
            user-select: none;
            -webkit-user-select: none;
         }

         .tick-labels text,
         .tick-labels tspan {
            user-select: none;
            -webkit-user-select: none;
         }</style><!><svg preserveAspectRatio="none" class="axes"><defs><clipPath><rect></rect></clipPath></defs><!></svg></svg> <!></div>`);function Xf(t,e){he(e,!0);const r=(fe,ye=mt,_e=mt)=>{var Qe=ue(),ht=Z(Qe);{var Yt=At=>{var ze=ue(),Ce=Z(ze);{var it=Je=>{var De=kf(),Ft=B(De);re(()=>{O(De,"x",o(te)[0]-10),O(De,"y",o($)),O(De,"transform",`rotate(-90, ${o(te)[0]-10}, ${o($)})`),le(Ft,_e().error)}),R(Je,De)},ot=Je=>{var De=Cf(),Ft=B(De);re(()=>{O(De,"x",o(ee)),O(De,"y",o(se)[0]),le(Ft,_e().error)}),R(Je,De)};U(Ce,Je=>{_e().pos===4?Je(it):Je(ot,!1)})}R(At,ze)},Ct=At=>{var ze=Af(),Ce=Z(ze);{var it=ie=>{Js(ie,{get lineCoords(){return ye().grid},get lineColor(){return pt.MIDDLEGRAY},lineType:3})};U(Ce,ie=>{_e().showGrid&&ie(it)})}var ot=z(Ce);Js(ot,{get lineCoords(){return ye().axisLine},get lineColor(){return pt.DARKGRAY},lineType:1});var Je=z(ot);Js(Je,{get lineCoords(){return ye().tickCoords},get lineColor(){return pt.DARKGRAY},lineType:1});var De=z(Je);{var Ft=ie=>{Ql(ie,{get las(){return _e().las},get pos(){return _e().pos},get tickCoords(){return ye().tickCoords},get tickLabels(){return ye().tickLabels},get tickColor(){return pt.DARKGRAY},get hideLast(){return _e().hideLast}})};U(De,ie=>{ye().tickCoords.length===2&&ye().tickLabels.length===ye().tickCoords[1][0].length&&ie(Ft)})}var nt=z(De);{var Le=ie=>{const ft=P(()=>[ye().tfLabel]);Ql(ie,{get pos(){return _e().pos},get tickCoords(){return ye().tfCoords},get tickLabels(){return o(ft)},get textColor(){return pt.DARKGRAY}})};U(nt,ie=>{ye().tickFactor!==0&&ie(Le)})}R(At,ze)};U(ht,At=>{_e().error?At(Yt):At(Ct,!1)})}R(fe,Qe)},s=(fe,ye=mt,_e=mt)=>{var Qe=Lf();const ht=P(()=>_e().elw+2*_e().elp),Yt=P(()=>_e().elp),Ct=P(()=>_e().elh),At=P(()=>_e().ely);var ze=B(Qe),Ce=z(ze);Ye(Ce,17,()=>ye().items,Ge,(it,ot,Je)=>{var De=Rf();O(De,"x",0);var Ft=B(De);{var nt=Ht=>{var V=Pf();re(()=>{O(V,"x1",o(Yt)),O(V,"x2",o(ht)-o(Yt)),O(V,"y1",o(Ct)[Je]/2),O(V,"y2",o(Ct)[Je]/2),O(V,"stroke",o(ot).line.lineColor),O(V,"stroke-width",o(ot).line.lineWidth),O(V,"stroke-dasharray",o(q)[o(ot).line.lineType-1])}),R(Ht,V)};U(Ft,Ht=>{o(ot).line&&Ht(nt)})}var Le=z(Ft);{var ie=Ht=>{var V=Tf(),J=B(V);re(()=>{O(V,"x",o(ht)/2),O(V,"y",o(Ct)[Je]/2),O(V,"fill",o(ot).point.faceColor),O(V,"stroke-width",o(ot).point.lineWidth),O(V,"stroke",o(ot).point.lineColor),O(V,"font-size",o(N)),le(J,ar[o(ot).point.marker-1])}),R(Ht,V)};U(Le,Ht=>{o(ot).point&&Ht(ie)})}var ft=z(Le),oo=B(ft);_t(oo,()=>o(ot).label,!0,!1),re(()=>{O(De,"y",o(At)[Je]),O(De,"width",_e().lgw),O(De,"height",o(Ct)[Je]),O(ft,"x",o(ht)+o(Yt)),O(ft,"y",o(Ct)[Je]/2),O(ft,"fill",pt.LEGEND),O(ft,"font-size",`${ye().fontSize??""}em`)}),R(it,De)}),re(()=>{O(Qe,"x",_e().lgl),O(Qe,"y",_e().lgt),O(Qe,"height",_e().lgh),O(Qe,"width",_e().lgw),O(ze,"fill",ye().faceColor),O(ze,"stroke",ye().lineColor),O(ze,"stroke-width",ye().lineWidth)}),R(fe,Qe)};let l=Y(e,"limX",19,()=>[0,1]),a=Y(e,"limY",19,()=>[0,1]),c=Y(e,"margins",19,()=>[1,1.1,.55,.6]),v=Y(e,"downloadLinks",3,"none"),u=Y(e,"fileName",3,"plot"),f=Y(e,"pngWidth",3,8),h=Y(e,"pngHeight",3,8),d=Y(e,"pngRes",3,300),m=Y(e,"clipboardWidth",3,1200),g=Y(e,"clipboardHeight",3,800),p=Y(e,"onclick",3,null),w=Y(e,"onmousemove",3,null),b=Y(e,"onmousedown",3,null),y=Y(e,"onmouseup",3,null);function C(fe,ye){if(ye&&fe.target.id=="axes-box"){const _e=Ul([fe.offsetX-o(I)],o(H))[0],Qe=Ul([fe.offsetY-o(j)],o(ne))[0];ye(_e,Qe)}}const S="plottingArea"+Math.round(Math.random()*1e4);let k=ae(0),_=ae(0),M=ae(0);const E=P(()=>({plot:ef(o(_),o(M)),x:Xl(o(_)),y:Xl(o(M))})),A=P(()=>c().map(fe=>fe*Hu[o(E).plot])),N=P(()=>Xu[o(E).plot]),L=P(()=>Gs[o(E).plot]),q=P(()=>Hr[o(E).plot]),T=P(()=>o(Te).show&&o(Te).label!==""?o(N)*1.5:0),I=P(()=>o(Me).show&&o(Me).label!==""?o(N)*1.5:0),j=P(()=>e.title&&e.title!==""?o(N)*1.5:0),D=P(()=>o(_)>o(I)?o(_)-o(I):0),F=P(()=>o(M)>o(T)+o(j)?o(M)-o(T)-o(j):0),X=P(()=>o(F)-o(A)[0]-o(A)[2]),Q=P(()=>o(D)-o(A)[1]-o(A)[3]),W=P(()=>Ol(l(),2)&&Ol(a(),2)&&o(D)>o(A)[1]+o(A)[3]&&o(F)>o(A)[0]+o(A)[2]),H=P(()=>o(W)?{coords:[o(Q)/(l()[1]-l()[0]),l()[0],o(A)[1]],objects:[o(Q)/(l()[1]-l()[0]),0,0]}:{coords:[1,0,0],objects:[1,0,0]}),ne=P(()=>o(W)?{coords:[-o(X)/(a()[1]-a()[0]),a()[1],o(A)[2]],objects:[o(X)/(a()[1]-a()[0]),0,0]}:{coords:[0,1,0],objects:[0,1,0]}),$=P(()=>o(X)*.5+o(j)+o(A)[2]),ee=P(()=>o(Q)*.5+o(I)+o(A)[1]),te=P(()=>o(W)?at(l(),o(H)):[0,1]),se=P(()=>o(W)?at(a(),o(ne)):[1,0]),de=P(()=>cr(e.title)),ve=P(()=>o(de)?o(de).length===e.title.left?1:1.4:0);let Ee=ae(Ue({show:!1})),Te=ae(Ue({show:!1,error:""})),Me=ae(Ue({show:!1,error:""})),Re=ae(Ue({show:!1,colmap:null,breaks:null})),et=ae(Ue({show:!1,items:null,position:null}));const xt=P(()=>o(W)&&o(Re)&&o(Re).show?vf(o(Re)):null),ke=P(()=>o(W)&&o(Te).show?uf(l(),a(),o(E),o(ne),o(Te)):null),Xe=P(()=>o(W)&&o(Me).show?ff(l(),a(),o(E),o(H),o(Me)):null),tt=P(()=>o(W)&&o(xt)?df(o(xt),o(Q),o(A),o(E)):null),Et=P(()=>o(W)&&o(et)&&o(et).show&&o(te)?gf(o(et),o(te),o(se),o(N),o(L)):null);Va("axes",{setBox:fe=>G(Ee,fe,!0),setXAxis:fe=>G(Te,fe,!0),setYAxis:fe=>G(Me,fe,!0),setColmapLegend:fe=>G(Re,fe,!0),setGroupLegend:fe=>G(et,fe,!0),scales:()=>o(E),tX:()=>o(H),tY:()=>o(ne),limX:()=>l(),limY:()=>a()});var kt=Kf();let Yn;var dt=B(kt),fr=z(B(dt));{var es=fe=>{var ye=Ff(),_e=B(ye);{var Qe=ze=>{var Ce=jf();O(Ce,"dx",0),O(Ce,"dy",0);var it=B(Ce);_t(it,()=>o(Te).label,!0,!1),re(()=>{O(Ce,"x",o(ee)),O(Ce,"y",o(F)+o(j))}),R(ze,Ce)};U(_e,ze=>{o(Te).show&&o(Te).label&&o(Te).label!==""&&ze(Qe)})}var ht=z(_e);{var Yt=ze=>{var Ce=If();O(Ce,"dx",0),O(Ce,"dy",0);var it=B(Ce);_t(it,()=>o(Me).label,!0,!1),re(()=>{O(Ce,"x",o(N)/1.1*o(Me).labelHeight),O(Ce,"y",o($)),O(Ce,"transform",`rotate(-90, ${o(N)*o(Me).labelHeight/1.1}, ${o($)})`)}),R(ze,Ce)};U(ht,ze=>{o(Me).show&&o(Me).label&&o(Me).label!==""&&ze(Yt)})}var Ct=z(ht);{var At=ze=>{var Ce=zf();O(Ce,"dx",0),O(Ce,"dy",0);var it=B(Ce);_t(it,()=>o(de),!0,!1),re(()=>{O(Ce,"x",o(ee)),O(Ce,"y",o(N)*o(ve))}),R(ze,Ce)};U(Ct,ze=>{o(de)&&o(de)!==""&&ze(At)})}R(fe,ye)};U(fr,fe=>{o(W)&&fe(es)})}var pn=z(fr),ts=B(pn),ns=B(ts);O(ns,"id",S);var Hn=B(ns),eo=z(ts);{var to=fe=>{var ye=Yf(),_e=Z(ye);{var Qe=Le=>{var ie=Vf(),ft=B(ie);r(ft,()=>o(ke),()=>o(Te)),R(Le,ie)};U(_e,Le=>{o(Te).show&&o(ke)&&Le(Qe)})}var ht=z(_e);{var Yt=Le=>{var ie=Of(),ft=B(ie);r(ft,()=>o(Xe),()=>o(Me)),R(Le,ie)};U(ht,Le=>{o(Me).show&&o(Xe)&&Le(Yt)})}var Ct=z(ht),At=B(Ct);{var ze=Le=>{var ie=Df();ie.__keydown=[Gr,C,p],ie.__click=[Gr,C,p],ie.__mousemove=[$l,C,w],ie.__mousedown=[Jl,C,b],ie.__mouseup=[Zl,C,y],re(()=>{O(ie,"stroke",o(Ee).lineColor),O(ie,"stroke-width",`${o(Ee).lineWidth??""}px`),O(ie,"x",o(te)[0]),O(ie,"y",o(se)[1]),O(ie,"width",o(te)[1]-o(te)[0]),O(ie,"height",o(se)[0]-o(se)[1])}),R(Le,ie)},Ce=Le=>{var ie=Bf();ie.__keydown=[Gr,C,p],ie.__click=[Gr,C,p],ie.__mousemove=[$l,C,w],ie.__mousedown=[Jl,C,b],ie.__mouseup=[Zl,C,y],re(()=>{O(ie,"x",o(te)[0]),O(ie,"y",o(se)[1]),O(ie,"width",o(te)[1]-o(te)[0]),O(ie,"height",o(se)[0]-o(se)[1])}),R(Le,ie)};U(At,Le=>{o(Ee).show?Le(ze):Le(Ce,!1)})}var it=z(Ct);O(it,"clip-path",`url(#${S??""})`);var ot=B(it);xn(ot,()=>e.children??mt);var Je=z(it);{var De=Le=>{var ie=Wf(),ft=B(ie);Ef(ft,()=>o(xt),()=>o(tt)),R(Le,ie)};U(Je,Le=>{o(tt)&&Le(De)})}var Ft=z(Je);{var nt=Le=>{var ie=Uf(),ft=B(ie);s(ft,()=>o(et),()=>o(Et)),R(Le,ie)};U(Ft,Le=>{o(Et)&&Le(nt)})}R(fe,ye)};U(eo,fe=>{o(W)&&fe(to)})}Rr(dt,fe=>G(k,fe),()=>o(k));var no=z(dt,2);{var ro=fe=>{var ye=Hf();R(fe,ye)},so=fe=>{var ye=Gf(),_e=B(ye);_e.__click=[ta,k,u],_e.__keydown=[ta,k,u];var Qe=z(_e,2);Qe.__click=[na,k,u,f,h,d],Qe.__keydown=[na,k,u,f,h,d];var ht=z(Qe,2);ht.__click=[ea,k,m,g],ht.__keydown=[ea,k,m,g],R(fe,ye)};U(no,fe=>{o(W)?fe(so,!1):fe(ro)})}re(fe=>{Yn=vt(kt,1,`plot-container show-download-links-${v()??""}`,"svelte-1jtdxd0",Yn,fe),Dt(dt,`font-size:${o(N)??""}px`),O(pn,"x",o(I)),O(pn,"y",o(j)),O(pn,"width",o(D)),O(pn,"height",o(F)),O(Hn,"x",o(te)[0]),O(Hn,"y",o(se)[1]),O(Hn,"width",o(te)[1]-o(te)[0]),O(Hn,"height",o(se)[0]-o(se)[1])},[()=>({"plot-error":!o(W)})]),nl(dt,"clientWidth",fe=>G(_,fe)),nl(dt,"clientHeight",fe=>G(M,fe)),R(t,kt),me()}$e(["keydown","click","mousemove","mousedown","mouseup"]);function Kr(t,e){he(e,!0);let r=Y(e,"tickLabels",7),s=Y(e,"las",3,1),l=Y(e,"whole",3,!1),a=Y(e,"show",3,!0),c=Y(e,"showGrid",3,!1);const v=Vt("axes");ge(()=>{const u=cr(e.label),f=u?u.length===e.label.length?1:1.4:0;let h,d="";e.ticks&&([h,d]=Gl(e.ticks,v.limX())),!d&&r()&&(m=>(r(m[0]),d=m[1]))(Hl(r(),h)),v.setXAxis({show:a(),error:d,label:u,ticks:h,labelHeight:f,showGrid:c(),las:s(),whole:l(),tickLabels:r()})}),me()}function Xr(t,e){he(e,!0);let r=Y(e,"tickLabels",7),s=Y(e,"las",3,1),l=Y(e,"whole",3,!1),a=Y(e,"show",3,!0),c=Y(e,"showGrid",3,!1);const v=Vt("axes");ge(()=>{const u=cr(e.label),f=u?u.length===e.label.length?1:1.4:0;let h,d="";e.ticks&&([h,d]=Gl(e.ticks,v.limY())),!d&&r()&&(m=>(r(m[0]),d=m[1]))(Hl(r(),h)),v.setYAxis({show:a(),error:d,label:u,ticks:h,labelHeight:f,showGrid:c(),las:s(),whole:l(),tickLabels:r(),pos:4})}),me()}function Qr(t,e){he(e,!0);let r=Y(e,"lineWidth",3,1),s=Y(e,"lineColor",3,"#606060");const l=Vt("axes");ge(()=>{l.setBox({show:!0,lineWidth:r(),lineColor:s()})}),me()}var Qf=(t,e)=>ir(t,"rect",e.onclick),Jf=be("<rect></rect>"),Zf=be("<g></g>");function $t(t,e){he(e,!0);let r=Y(e,"faceColor",19,()=>pt.PRIMARY),s=Y(e,"lineColor",19,r),l=Y(e,"lineWidth",3,1),a=Y(e,"className",3,"series-rect");const c=P(()=>It(e.left,"Rectangles (left)")),v=P(()=>o(c)?It(e.top,"Rectangles (top)",o(c).length):null),u=P(()=>o(v)?typeof e.width!="object"?xe.fill(e.width,o(c).length):e.width:null),f=P(()=>o(v)?typeof e.height!="object"?xe.fill(e.height,o(c).length):e.height:null),h=Vt("axes"),d=P(()=>o(c)?at(o(c),h.tX()):null),m=P(()=>o(v)?at(o(v),h.tY()):null),g=P(()=>o(u)?Bl(o(u),h.tX()):null),p=P(()=>o(f)?Bl(o(f),h.tY()):null),w=P(()=>`fill:${r()};stroke:${s()};stroke-width:${l()}px;`),b=P(()=>o(d)&&o(m)&&o(g)&&o(p)&&o(g).length===o(d).length&&o(p).length===o(d).length);var y=ue(),C=Z(y);{var S=k=>{var _=Zf();_.__click=[Qf,e],Ye(_,21,()=>e.left,Ge,(M,E,A)=>{var N=Jf();re(()=>{O(N,"x",o(d)[A]),O(N,"y",o(m)[A]),O(N,"width",o(g)[A]),O(N,"height",o(p)[A])}),R(M,N)}),re(()=>{vt(_,0,`series ${a()??""}`),Dt(_,o(w))}),R(k,_)};U(C,k=>{o(b)&&k(S)})}R(t,y),me()}$e(["click"]);var $f=(t,e)=>ir(t,"line",e.onclick),ev=be("<line></line>"),tv=be('<g class="series series-segment"></g>');function Zs(t,e){he(e,!0);let r=Y(e,"lineColor",19,()=>pt.PRIMARY),s=Y(e,"lineType",3,1),l=Y(e,"lineWidth",3,1);const a=P(()=>It(e.xStart,"Segments")),c=P(()=>o(a)?It(e.yStart,"Segments",o(a).length):null),v=P(()=>o(c)?It(e.xEnd,"Segments",o(a).length):null),u=P(()=>o(v)?It(e.yEnd,"Segments",o(a).length):null),f=Vt("axes"),h=P(()=>o(a)?at(o(a),f.tX()):null),d=P(()=>o(v)?at(o(v),f.tX()):null),m=P(()=>o(c)?at(o(c),f.tY()):null),g=P(()=>o(u)?at(o(u),f.tY()):null),p=P(()=>`stroke:${r()};stroke-width: ${l()}px;stroke-dasharray:${Hr[f.scales().plot][s()-1]}`),w=P(()=>o(h)&&o(d)&&o(m)&&o(g));var b=ue(),y=Z(b);{var C=S=>{var k=tv();k.__click=[$f,e],Ye(k,21,()=>o(h),Ge,(_,M,E)=>{var A=ev();re(()=>{O(A,"x1",o(h)[E]),O(A,"x2",o(d)[E]),O(A,"y1",o(m)[E]),O(A,"y2",o(g)[E])}),R(_,A)}),re(()=>Dt(k,o(p))),R(S,k)};U(y,S=>{o(w)&&S(C)})}R(t,b),me()}$e(["click"]);var nv=(t,e)=>ir(t,"text",e.onclick),rv=be("<text><!></text>"),sv=be("<text><!></text>"),ov=be("<text><!></text>"),lv=be('<g class="series series-textlabels"><!></g>');function $s(t,e){he(e,!0);let r=Y(e,"pos",3,0),s=Y(e,"faceColor",19,()=>pt.PRIMARY_TEXT),l=Y(e,"lineColor",3,"transparent"),a=Y(e,"lineWidth",3,0),c=Y(e,"textSize",3,1),v=Y(e,"rotateAngle",3,0);const u=["middle","middle","start","middle","end"],f=P(()=>It(e.xValues,"TextLabels")),h=P(()=>o(f)?It(e.yValues,"TextLabels",o(f).length):null),d=P(()=>o(h)?Array.isArray(e.labels)&&e.labels.length!==o(h).length?(console.error('TextLabels: number of elements in "labels" does not match number of coordinates'),null):e.labels:null),m=P(()=>o(d)?typeof e.labels=="string"&&typeof r()!="number"?(console.error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.'),null):r():null),g=Vt("axes"),p=P(()=>o(f)&&o(m)!==null?at(o(f),g.tX()):null),w=P(()=>o(h)&&o(p)?at(o(h),g.tY()):null),b=P(()=>Fl[g.scales().plot]),y=P(()=>[0,0,-o(b),0,o(b),o(b)]),C=P(()=>[0,o(b),0,-o(b),0,o(b)]),S=P(()=>`fill:${s()};stroke-width:${a()}px;stroke:${l()};font-size:${c()}em;`),k=P(()=>o(p)&&o(w)&&o(m)!==null&&o(d)&&o(p).length===o(w).length);var _=ue(),M=Z(_);{var E=A=>{var N=lv();N.__click=[nv,e];var L=B(N);{var q=I=>{var j=ue(),D=Z(j);Ye(D,17,()=>o(p),Ge,(F,X,Q)=>{var W=rv();O(W,"data-id",Q);var H=B(W);_t(H,()=>e.labels,!0,!1),re(()=>{O(W,"x",o(p)[Q]),O(W,"y",o(w)[Q]),O(W,"dx",o(y)[r()]),O(W,"dy",o(C)[r()]),O(W,"transform",v()!==void 0?`rotate(${v()}, ${o(p)[Q]+o(y)[r()]}, ${o(w)[Q]+o(C)[r()]})`:""),O(W,"text-anchor",u[r()[Q]])}),R(F,W)}),R(I,j)},T=(I,j)=>{{var D=X=>{var Q=ue(),W=Z(Q);Ye(W,17,()=>o(p),Ge,(H,ne,$)=>{var ee=sv();O(ee,"data-id",$);var te=B(ee);_t(te,()=>e.labels[$],!0,!1),re(()=>{O(ee,"x",o(p)[$]),O(ee,"y",o(w)[$]),O(ee,"dx",o(y)[r()[$]]),O(ee,"dy",o(C)[r()[$]]),O(ee,"transform",v()!==void 0?`rotate(${v()}, ${o(p)[$]+o(y)[r()]}, ${o(w)[$]+o(C)[r()]})`:""),O(ee,"text-anchor",u[r()[$]])}),R(H,ee)}),R(X,Q)},F=X=>{var Q=ue(),W=Z(Q);Ye(W,17,()=>o(p),Ge,(H,ne,$)=>{var ee=ov();O(ee,"data-id",$);var te=B(ee);_t(te,()=>e.labels[$],!0,!1),re(()=>{O(ee,"x",o(p)[$]),O(ee,"y",o(w)[$]),O(ee,"dx",o(y)[r()]),O(ee,"dy",o(C)[r()]),O(ee,"transform",v()!==void 0?`rotate(${v()}, ${o(p)[$]+o(y)[r()]}, ${o(w)[$]+o(C)[r()]})`:""),O(ee,"text-anchor",u[r()])}),R(H,ee)}),R(X,Q)};U(I,X=>{Array.isArray(r())||ArrayBuffer.isView(r())?X(D):X(F,!1)},j)}};U(L,I=>{typeof e.labels=="string"?I(q):I(T,!1)})}re(()=>Dt(N,o(S))),R(A,N)};U(M,A=>{o(k)&&A(E)})}R(t,_),me()}$e(["click"]),$e(["click"]);var av=(t,e)=>ir(t,"text",e.onclick),iv=be("<text> </text>"),cv=be('<g text-anchor="middle"></g>');function zt(t,e){he(e,!0);let r=Y(e,"marker",3,1),s=Y(e,"faceColor",3,"transparent"),l=Y(e,"lineColor",19,()=>pt.PRIMARY),a=Y(e,"lineWidth",3,1),c=Y(e,"markerSize",3,1);const v=P(()=>typeof r()!="number"||r()<1||r()>ar.length?(console.error('Points: parameter "marker" must be a number from 1 to '+ar.length+"."),null):ar[r()-1]),u=P(()=>It(e.xValues,"Points")),f=P(()=>o(u)?It(e.yValues,"Points",o(u).length):null),h=Vt("axes"),d=P(()=>o(u)?at(o(u),h.tX()):null),m=P(()=>o(d)&&o(f)?at(o(f),h.tY()):null),g=P(()=>["＋","✳","✕"].includes(o(v))?`fill:${l()&&l()!=="transparent"?l():s()};stroke-width:0px;font-size:${c()}em;`:`fill:${s()};stroke-width:${a()}px;stroke:${l()}; font-size:${c()}em;`),p=P(()=>["◼","⬥","＋","✳","✕"].includes(o(v))?"series-points2":"series-points1"),w=P(()=>o(d)&&o(m)&&o(d).length===o(m).length);var b=ue(),y=Z(b);{var C=S=>{var k=cv();k.__click=[av,e],Ye(k,21,()=>o(d),Ge,(_,M,E)=>{var A=iv(),N=B(A);re(()=>{O(A,"x",o(d)[E]),O(A,"y",o(m)[E]),le(N,o(v))}),R(_,A)}),re(()=>{vt(k,0,`series series-points ${o(p)??""}`),Dt(k,o(g))}),R(S,k)};U(y,S=>{o(w)&&S(C)})}R(t,b),me()}$e(["click"]);var uv=(t,e)=>ir(t,"polyline",e.onclick),fv=be('<g class="series series-line"><polyline class="line"></polyline></g>');function en(t,e){he(e,!0);let r=Y(e,"lineColor",19,()=>pt.PRIMARY),s=Y(e,"lineType",3,1),l=Y(e,"lineWidth",3,1);const a=P(()=>It(e.xValues,"Lines")),c=P(()=>o(a)?It(e.yValues,"Lines",o(a).length):null),v=Vt("axes"),u=P(()=>o(a)&&o(c)?Zu(o(a),o(c),v.tX(),v.tY()):null),f=P(()=>`fill:transparent;stroke:${r()};stroke-width: ${l()}px; stroke-dasharray:${Hr[v.scales().plot][s()-1]}`);var h=ue(),d=Z(h);{var m=g=>{var p=fv();p.__click=[uv,e];var w=B(p);re(()=>{Dt(p,o(f)),O(w,"points",o(u))}),R(g,p)};U(d,g=>{o(u)&&g(m)})}R(t,h),me()}$e(["click"]),$e(["click"]);function vv(t,e){he(e,!0);let r=Y(e,"show",3,!0),s=Y(e,"position",3,"topleft"),l=Y(e,"lineColor",19,()=>pt.LEGEND),a=Y(e,"lineWidth",3,1),c=Y(e,"faceColor",3,"#fff"),v=Y(e,"fontSize",3,.85);function u(d){return typeof d!="string"?(console.error('Legend: value of "position" must be a string.'),null):["top","left","right","topleft","topright","bottom","bottomleft","bottomright"].includes(d)?d:(console.error('Legend: wrong value of "position" property'),null)}function f(d){if(!d||!Array.isArray(d)||d.length<1)return console.error('Legend: property "items" must be provided as array of JSONs.'),null;for(let m=0;m<d.length;m++){const g=d[m];if(!g.label)return console.error('Legend: all elements of "items" must include at least one field: "label".'),null;const p=cr(g.label),w=p.length===g.label?1:1.4;g.label=p,g.labelHeight=w,g.line&&(g.line.lineType||(g.line.lineType=1),g.line.lineType>0&&g.line.lineType<=4||console.error('Legend: parameter "lineType" for legend item '+(m+1)+" is incorrect."),g.line.lineColor=g.line.lineColor?g.line.lineColor:pt.PRIMARY,g.line.lineWidth=g.line.lineWidth?g.line.lineWidth:1),g.point&&(g.point.marker||(g.point.marker=1),g.point.marker>0&&g.point.marker<=ar.length||console.error('Legend: parameter "marker" for legend item '+(m+1)+" is incorrect."),g.point.faceColor=g.point.faceColor?g.point.faceColor:"transparent",g.point.lineWidth=g.point.lineWidth?g.point.lineWidth:1,g.point.lineColor=g.point.lineColor?g.point.lineColor:pt.PRIMARY)}return d}const h=Vt("axes");ge(()=>{const d=f(e.items),m=u(s());h.setGroupLegend(d&&m?{show:r(),position:s(),items:e.items,lineColor:l(),faceColor:c(),lineWidth:a(),fontSize:v()}:{show:!1,position:null,items:null})}),me()}var dv=K("<!> <!> <!>",1);function ra(t,e){he(e,!0);const r="#80808060",s=P(()=>e.calset.varvalues),l=P(()=>{if(!e.calset)return null;const f=o(s).length;let h=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;const m=xe.zeros(f),g=xe.zeros(f);for(let p=0;p<o(s).length;p++){const w=e.calset.values.getcolumn(p+1),b=Dn(w),y=Ss(w),C=b+y,S=b-y;m.v[p]=b,g.v[p]=y,h=Math.min(h,S),d=Math.max(d,C)}return{m,s:g,mn:h,mx:d,scale:1/(d-h)}}),a=P(()=>{if(!o(l))return null;let f=e.limY[1]-e.limY[0],h=e.limY[0]+f*.1;f=e.limY[1]-f*.3-h;const m=o(s).length,g=xe.zeros(m),p=xe.zeros(m),w=xe.zeros(m),b=o(l).scale*f;for(let y=0;y<m;y++){const C=o(l).m.v[y],S=o(l).s.v[y],k=C+S,_=C+S;p.v[y]=(k-o(l).mn)*b+h,w.v[y]=(_-o(l).mn)*b+h,g.v[y]=(C-o(l).mn)*b+h}return{m:g,su:p,sb:w}});var c=ue(),v=Z(c);{var u=f=>{var h=dv(),d=Z(h);en(d,{get xValues(){return o(s)},get yValues(){return o(a).m},lineColor:r,lineWidth:2});var m=z(d,2);en(m,{get xValues(){return o(s)},get yValues(){return o(a).sb},lineColor:r,lineWidth:1,lineType:3});var g=z(m,2);en(g,{get xValues(){return o(s)},get yValues(){return o(a).su},lineColor:r,lineWidth:1,lineType:3}),R(f,h)};U(v,f=>{o(a)&&f(u)})}R(t,c),me()}const hv=[1,1.1,.45,.4],mv=8,gv=8,bv=600;function Jr(t,e){Xf(t,{get limX(){return e.limX},get limY(){return e.limY},get title(){return e.title},get fileName(){return e.fileName},downloadLinks:"hover",margins:hv,pngWidth:mv,pngHeight:gv,pngRes:bv,children:(r,s)=>{var l=ue(),a=Z(l);xn(a,()=>e.children),R(r,l)},$$slots:{default:!0}})}var pv=K("<!> <!> <!> <!> <!> <!> <!>",1);function wv(t,e){he(e,!0);const r="ddsimca-love-intervals",s=P(()=>e.props.s);function l(y){if(!y)return[0,1];const C=y.varvalues[0],S=y.varvalues[y.varvalues.length-1],k=S-C;return[C-k*.1,S+k*.025]}const a=P(()=>{if(!o(s).outcomes)return"Data and intervals";if(o(s).outcomes.status==="running")return"Calculation in progress..."}),c=P(()=>o(s).calset.varAxisTitle),v=P(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(10):null),u=P(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(22):null),f=P(()=>o(v)&&o(u)?{left:o(s).varselparams.left,width:o(s).varselparams.width,top:o(v),height:o(u)}:null),h=P(()=>{if(o(f)&&o(s).intExcluded.length>0){const y=o(s).intExcluded.length,C=Array(y),S=Array(y),k=Array(y),_=Array(y);for(let M=0;M<y;M++)C[M]=o(f).left[o(s).intExcluded[M]],S[M]=o(f).width[o(s).intExcluded[M]],k[M]=o(f).top[o(s).intExcluded[M]],_[M]=o(f).height[o(s).intExcluded[M]];return{left:C,width:S,top:k,height:_}}else return null}),d=P(()=>o(s).outcomes&&o(s).outcomes.status==="running"&&o(f)?{left:[o(f).left[o(s).outcomes.curInt]],width:[o(f).width[o(s).outcomes.curInt]],top:[2],height:[4],faceColor:"#fffa0040"}:null),m=P(()=>l(o(s).calset)),g=P(()=>[0,1.1]);var p=ue(),w=Z(p);{var b=y=>{Jr(y,{fileName:r,get limX(){return o(m)},get limY(){return o(g)},get title(){return o(a)},children:(C,S)=>{var k=pv(),_=Z(k);ra(_,{get calset(){return o(s).calset},get limY(){return o(g)}});var M=z(_,2);{var E=D=>{$t(D,je({lineColor:"transparent",faceColor:"#00000040"},()=>o(h)))};U(M,D=>{o(h)&&D(E)})}var A=z(M,2);{var N=D=>{var F=ue(),X=Z(F);{var Q=W=>{$t(W,je(()=>o(d)))};U(X,W=>{o(d)&&W(Q)})}R(D,F)};U(A,D=>{o(s).outcomes&&o(s).outcomes.status==="running"&&D(N)})}var L=z(A,2);{var q=D=>{$t(D,je({lineColor:"#00000010",faceColor:"#00000005"},()=>o(f)))};U(L,D=>{o(f)&&D(q)})}var T=z(L,2);Qr(T,{});var I=z(T,2);Kr(I,{get label(){return o(c)}});var j=z(I,2);Xr(j,{showGrid:!0}),R(C,k)}})};U(w,y=>{o(m)&&o(g)&&y(b)})}R(t,p),me()}var _v=K("<!> <!> <!>",1),yv=K("<!> <!>",1),xv=K("<!> <!>",1),Ev=K("<!> <!>",1),kv=K("<!> <!> <!>; <!>",1);function Cv(t,e){he(e,!0);let r=Y(e,"yMin",15),s=Y(e,"yMax",15);const l=P(()=>{if(!e.fomView||!e.s.outcomes||e.s.outcomes.status!=="done")return{min:0,max:1,values:null};const p=e.s.varselparams.mid,w=e.s.varselparams.width,b=p.length;let y=0,C=0,S={};const k=e.fomView==="diff"?.21:.84,_=e.fomView==="diff"?1:0,M=.42;let E=0;for(const A of e.fomKeys){const N=e.s.outcomes[A][e.fomView].getcolumn(e.s.nComp).v,L=Array(b),q=Array(b),T=Array(b),I=Array(b);for(let j=0;j<b;j++)L[j]=p[j]-M*w[j]+E*k*_*w[j],I[j]=k*w[j],N[j]>=0?(q[j]=N[j],T[j]=N[j],C=Math.max(C,N[j])):(q[j]=0,T[j]=-N[j],y=Math.min(y,N[j]));S[A]={left:L,top:q,height:T,width:I,faceColor:"#a8a04060"},E=E+1}return{values:S,min:y,max:C}}),a=P(()=>o(l)?(o(l).max-o(l).min)*.2:0);ge(()=>{r(o(l).min-o(a)),s(o(l).max+o(a))});const c=P(()=>{if(!o(l)||!o(l).values||e.s.intSelected===void 0||e.s.intSelected===null||e.s.intSelected<0)return null;const p={},w={};for(const b of e.fomKeys){const y=o(l).values[b],C=y.left[e.s.intSelected],S=y.width[e.s.intSelected],k=y.top[e.s.intSelected],_=y.height[e.s.intSelected],M=k===0?-_:_;p[b]={left:[C],width:[S],top:[k],height:[_]},w[b]={xValues:[C+S*.5],yValues:[s()-o(a)],labels:e.fomView==="diff"?[M.toFixed(3)+" ("+b+")"]:[M.toFixed(3)],pos:3,textSize:.8,faceColor:e.seriesColors.selected}}return{psl:p,tsl:w}}),v=P(()=>e.s.statsGlobal&&e.fom?e.s.statsGlobal[e.fom][e.s.statsGlobal.ncompBest?e.s.statsGlobal.ncompBest-1:e.s.nComp-1]:null),u=P(()=>e.s.statsCurrent&&e.fom&&e.s.statsCurrent.ncompBest?e.s.statsCurrent[e.fom][e.s.statsCurrent.ncompBest?e.s.statsCurrent.ncompBest-1:e.s.nComp-1]:null),f=P(()=>o(l).values&&e.fom?o(l).values[e.fom]:null),h=P(()=>o(f)?(e.limX[0]+o(f).left[0])*.5:0);var d=ue(),m=Z(d);{var g=p=>{var w=ue(),b=Z(w);{var y=S=>{var k=_v(),_=Z(k);const M=P(()=>[e.limX[0]]),E=P(()=>[e.limX[1]]);Zs(_,{get xStart(){return o(M)},get xEnd(){return o(E)},yStart:[0],yEnd:[0],lineColor:"#808080"});var A=z(_,2);Ye(A,17,()=>e.fomKeys,Ge,(q,T)=>{const I=P(()=>"#a8a040"+(o(T)===e.fom?"e0":"60"));$t(q,je(()=>o(l).values[o(T)],{lineWidth:0,get faceColor(){return o(I)}}))});var N=z(A,2);{var L=q=>{var T=ue(),I=Z(T);Ye(I,17,()=>e.fomKeys,Ge,(j,D)=>{const F=P(()=>e.seriesColors.selected+(o(D)===e.fom?"":"40"));$t(j,je(()=>o(c).psl[o(D)],{lineWidth:0,get faceColor(){return o(F)}}))}),R(q,T)};U(N,q=>{o(c)&&q(L)})}R(S,k)},C=S=>{var k=kv(),_=Z(k);{var M=T=>{var I=yv(),j=Z(I);const D=P(()=>[e.limX[0]]),F=P(()=>[e.limX[1]]),X=P(()=>[o(v)]),Q=P(()=>[o(v)]);Zs(j,{get xStart(){return o(D)},get xEnd(){return o(F)},get yStart(){return o(X)},get yEnd(){return o(Q)},get lineColor(){return e.seriesColors.global}});var W=z(j,2);const H=P(()=>[o(h)]),ne=P(()=>[o(v)]),$=P(()=>[o(v).toFixed(3)]),ee=P(()=>o(v)>o(u)?3:1);$s(W,{get xValues(){return o(H)},get yValues(){return o(ne)},get labels(){return o($)},get pos(){return o(ee)},textSize:.85,get faceColor(){return e.seriesColors.global}}),R(T,I)};U(_,T=>{o(v)&&T(M)})}var E=z(_,2);{var A=T=>{var I=xv(),j=Z(I);const D=P(()=>[e.limX[0]]),F=P(()=>[e.limX[1]]),X=P(()=>[o(u)]),Q=P(()=>[o(u)]);Zs(j,{get xStart(){return o(D)},get xEnd(){return o(F)},get yStart(){return o(X)},get yEnd(){return o(Q)},lineType:3,get lineColor(){return e.seriesColors.best}});var W=z(j,2);const H=P(()=>[o(h)]),ne=P(()=>[o(u)]),$=P(()=>[o(u).toFixed(3)]),ee=P(()=>o(v)>o(u)?1:3);$s(W,{get xValues(){return o(H)},get yValues(){return o(ne)},get labels(){return o($)},get pos(){return o(ee)},textSize:.85,get faceColor(){return e.seriesColors.best}}),R(T,I)};U(E,T=>{o(u)&&T(A)})}var N=z(E,2);$t(N,je(()=>o(f),{faceColor:"#a8a04080"}));var L=z(N,2);{var q=T=>{var I=Ev(),j=Z(I);$t(j,je(()=>o(c).psl[e.fom],{lineWidth:0,get faceColor(){return e.seriesColors.selected}}));var D=z(j,2);$s(D,je(()=>o(c).tsl[e.fom])),R(T,I)};U(L,T=>{o(c)&&T(q)})}R(S,k)};U(b,S=>{e.fomView==="diff"?S(y):S(C,!1)})}R(p,w)};U(m,p=>{o(l)&&p(g)})}R(t,d),me()}var Av=K("<!> <!> <!> <!> <!> <!> <!> <!>",1);function qv(t,e){he(e,!0);const r="ddsimca-love-outcomes",s=P(()=>e.props?e.props.s:null),l=P(()=>e.props?e.props.fomKeys:null),a=P(()=>e.props?e.props.fomKeys:null),c=P(()=>e.props?e.props.seriesColors:null);let v=ae(0),u=ae(1),f=P(()=>o(s).calset.varAxisTitle);function h(M){if(!M)return[0,1];const E=M.varvalues[0],A=M.varvalues[M.varvalues.length-1],N=A-E;return[E-N*.1,A+N*.025]}const d=P(()=>o(s).outcomes?o(s).outcomes.status==="running"?"Selection in progress...":"Variable selection outcomes (A = "+o(s).nComp+")":"Data and intervals"),m=P(()=>!o(s).outcomes||o(s).outcomes.status==="running"?" ":(e.params.fomView==="diff"?"Difference in ":"")+o(a)[e.params.fom]),g=P(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(10):null),p=P(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(22):null),w=P(()=>o(g)&&o(p)?{left:o(s).varselparams.left,width:o(s).varselparams.width,top:o(g),height:o(p)}:null),b=P(()=>{if(o(w)&&o(s).intExcluded.length>0){const M=o(s).intExcluded.length,E=Array(M),A=Array(M),N=Array(M),L=Array(M);for(let q=0;q<M;q++)E[q]=o(w).left[o(s).intExcluded[q]],A[q]=o(w).width[o(s).intExcluded[q]],N[q]=o(w).top[o(s).intExcluded[q]],L[q]=o(w).height[o(s).intExcluded[q]];return{left:E,width:A,top:N,height:L}}else return null}),y=P(()=>h(o(s).calset)),C=P(()=>e.params.fomView==="diff"?[o(v),o(u)]:[0,1.1]);var S=ue(),k=Z(S);{var _=M=>{Jr(M,{fileName:r,get limX(){return o(y)},get limY(){return o(C)},get title(){return o(d)},children:(E,A)=>{var N=Av(),L=Z(N);ra(L,{get calset(){return o(s).calset},get limY(){return o(C)}});var q=z(L,2);{var T=$=>{Cv($,{get s(){return o(s)},get limX(){return o(y)},get fomKeys(){return o(l)},get seriesColors(){return o(c)},get fomView(){return e.params.fomView},get fom(){return e.params.fom},get yMin(){return o(v)},set yMin(ee){G(v,ee,!0)},get yMax(){return o(u)},set yMax(ee){G(u,ee,!0)}})};U(q,$=>{o(s).outcomes&&$(T)})}var I=z(q,2);{var j=$=>{const ee=P(()=>[o(w).left[o(s).intSelected]]),te=P(()=>[o(w).width[o(s).intSelected]]),se=P(()=>[o(w).top[o(s).intSelected]]),de=P(()=>[o(w).height[o(s).intSelected]]);$t($,{get left(){return o(ee)},get width(){return o(te)},get top(){return o(se)},get height(){return o(de)},lineColor:"#00000010",faceColor:"#ff000010"})};U(I,$=>{o(w)&&o(s).intSelected>=0&&$(j)})}var D=z(I,2);{var F=$=>{$t($,je({lineColor:"#00000010",faceColor:"#00000005"},()=>o(w),{get onclick(){return e.callbacks.select}}))};U(D,$=>{o(w)&&$(F)})}var X=z(D,2);{var Q=$=>{$t($,je({lineColor:"transparent",faceColor:"#00000040"},()=>o(b)))};U(X,$=>{o(b)&&$(Q)})}var W=z(X,2);Qr(W,{});var H=z(W,2);Kr(H,{get label(){return o(f)}});var ne=z(H,2);Xr(ne,{get label(){return o(m)},showGrid:!0}),R(E,N)}})};U(k,M=>{e.params&&o(y)&&o(C)&&M(_)})}R(t,S),me()}var Sv=K("<!> <!>",1),Mv=K("<!> <!> <!>",1),Nv=K("<!> <!>",1),Pv=K("<!> <!> <!> <!> <!>",1),Tv=K("<!> <!> <!> <!> <!>",1);function Rv(t,e){he(e,!0);const r="ddsimca-love-progress",s=P(()=>e.props?e.props.s:null),l=P(()=>e.props?e.props.fomKeys:null),a=P(()=>e.props?e.props.fomNames:null),c=P(()=>e.props?e.props.seriesColors:null),v="Variable selection progress",u="Steps",f=P(()=>o(a)[e.params.fom]),h=P(()=>o(s).statsProgress?o(s).statsProgress.length:0),d=P(()=>o(h)>0?Wr(0,o(h)-1):null),m=P(()=>{if(o(h)<1)return null;const A={};let N=1.1,L=0;for(let q=0;q<o(h);q++){const T=o(s).statsProgress[q];for(const I of o(l)){q===0&&(A[I]=[]);const j=T[I];A[I].push(j),N=Math.min(N,j),L=Math.max(L,j)}}return{series:A,min:N,max:L}}),g=P(()=>o(m)?{xValues:o(d),yValues:o(m).series[e.params.fom]}:null),p=P(()=>o(g)?{xValues:[o(h)-1],yValues:[o(g).yValues[o(h)-1]]}:null),w=P(()=>o(g)?{xValues:[0],yValues:[o(g).yValues[0]]}:null),b=P(()=>{if(!o(g)||!o(s).outcomes||o(s).outcomes.status!=="done"||o(s).intSelected<0)return null;let A=1,N=0,L={};for(const q of o(l)){const T=o(s).outcomes[q].val.getcolumn(o(s).nComp).v[o(s).intSelected];A=Math.min(A,T),N=Math.max(N,T),L[q]={xValues:[o(h)-1,o(h)],yValues:[o(m).series[q][o(h)-1],T]}}return{series:L,min:A,max:N}}),y=P(()=>o(b)?o(b).series[e.params.fom]:null),C=P(()=>o(p)?{xValues:[o(h)-1,o(h)],yValues:[o(p).yValues[0],o(y).yValues[1]]}:null),S=P(()=>o(h)>0?o(y)?[-.5,o(h)+.5]:[-.5,o(h)-.5]:[0,1]),k=P(()=>{if(!o(m)||!e.params.zoom)return[0,1.1];const A=o(m).min,N=o(m).max;return o(b)?[Math.min(A,o(b).min)-.02,Math.max(N,o(b).max+.02)]:[A-.02,N+.02]});var _=ue(),M=Z(_);{var E=A=>{Jr(A,{fileName:r,get limX(){return o(S)},get limY(){return o(k)},title:v,children:(N,L)=>{var q=Tv(),T=Z(q);{var I=W=>{var H=Mv(),ne=Z(H);Ye(ne,17,()=>Object.keys(o(b).series),Ge,(te,se)=>{var de=Sv(),ve=Z(de);en(ve,je(()=>o(b).series[o(se)],{lineColor:"#d0d0d0",lineType:3}));var Ee=z(ve,2);zt(Ee,je(()=>o(b).series[o(se)],{markerSize:.75,lineColor:"#d0d0d0",faceColor:"#e0e0e0"})),R(te,de)});var $=z(ne,2);en($,je(()=>o(C),{get lineColor(){return o(c).selected},lineType:3}));var ee=z($,2);zt(ee,je(()=>o(y),{get lineColor(){return o(c).selected},get faceColor(){return o(c).selected},borderWidth:2})),R(W,H)};U(T,W=>{o(y)&&W(I)})}var j=z(T,2);{var D=W=>{var H=Pv(),ne=Z(H);Ye(ne,17,()=>Object.keys(o(m).series),Ge,(de,ve)=>{var Ee=Nv(),Te=Z(Ee);en(Te,{get xValues(){return o(d)},get yValues(){return o(m).series[o(ve)]},lineColor:"#d0d0d0"});var Me=z(Te,2);zt(Me,{get xValues(){return o(d)},get yValues(){return o(m).series[o(ve)]},markerSize:.75,lineColor:"#d0d0d0",faceColor:"#e0e0e0"}),R(de,Ee)});var $=z(ne,2);en($,je(()=>o(g),{lineColor:"#808080",lineWidth:2}));var ee=z($,2);zt(ee,je(()=>o(g),{lineColor:"#808080",faceColor:"#fafafa"}));var te=z(ee,2);zt(te,je(()=>o(p),{get lineColor(){return o(c).best},lineWidth:2}));var se=z(te,2);zt(se,je(()=>o(w),{get lineColor(){return o(c).global},lineWidth:2})),R(W,H)};U(j,W=>{o(g)&&W(D)})}var F=z(j,2);Qr(F,{});var X=z(F,2);Kr(X,{showGrid:!0,label:u,whole:!0});var Q=z(X,2);Xr(Q,{showGrid:!0,get label(){return o(f)}}),R(N,q)}})};U(M,A=>{o(m)&&A(E)})}R(t,_),me()}var Lv=K("<!> <!> <!>",1),jv=K("<!> <!> <!>",1),Iv=K("<!> <!> <!>",1),zv=K("<!> <!> <!> <!> <!> <!> <!>",1);function Fv(t,e){he(e,!0);const r=P(()=>e.props.s),s=P(()=>e.props?e.props.fomKeys:null),l=P(()=>e.props?e.props.fomNames:null),a=P(()=>e.props?e.props.seriesColors:null),c="ddsimca-love-models",v="PCs",u="Variable selection outcomes",f=[0,1.1],h=P(()=>o(l)[e.params.fom]);function d(N,L){return{label:N,line:{lineColor:L.lineColor},point:{lineColor:L.lineColor,lineWidth:1.25,faceColor:"#fafafa",marker:1}}}function m(N,L,q){const T=[];return N&&T.push(d("global",N)),L&&T.push(d("current",L)),q&&T.push(d("selected ("+(o(r).intSelected+1)+")",q)),T}let g=P(()=>o(r).statsGlobal?o(r).statsGlobal[[o(s)[0]]].length:1),p=P(()=>[0,o(g)+1]),w=P(()=>o(r).statsGlobal&&e.params.fom?{xValues:xe.seq(1,o(g)),yValues:new xe(o(r).statsGlobal[e.params.fom]),lineColor:o(a).global}:null),b=P(()=>o(w)?{xValues:[o(r).nComp],yValues:[o(w).yValues.v[o(r).nComp-1]],lineColor:o(a).global}:null),y=P(()=>o(r).statsCurrent&&e.params.fom?{xValues:xe.seq(1,o(r).statsCurrent[e.params.fom].length),yValues:new xe(o(r).statsCurrent[e.params.fom]),lineColor:o(a).best}:null),C=P(()=>o(y)?{xValues:[o(r).nComp],yValues:[o(y).yValues.v[o(r).nComp-1]],lineColor:o(a).best}:null),S=P(()=>o(r).outcomes&&e.params.fom&&o(r).intSelected>=0?{xValues:xe.seq(1,o(r).outcomes[e.params.fom].val.ncols),yValues:o(r).outcomes[e.params.fom].val.getrow(o(r).intSelected+1),lineColor:o(a).selected}:null),k=P(()=>o(S)?{xValues:[o(r).nComp],yValues:[o(S).yValues.v[o(r).nComp-1]],lineColor:o(a).selected}:null),_=P(()=>m(o(w),o(y),o(S)));var M=ue(),E=Z(M);{var A=N=>{Jr(N,{fileName:c,get limX(){return o(p)},limY:f,title:u,children:(L,q)=>{var T=zv(),I=Z(T);{var j=ee=>{var te=Lv(),se=Z(te);en(se,je(()=>o(w)));var de=z(se,2);zt(de,je(()=>o(w),{faceColor:"#fafafa"}));var ve=z(de,2);zt(ve,je(()=>o(b),{faceColor:"#fafafa",lineWidth:3})),R(ee,te)};U(I,ee=>{o(w)&&ee(j)})}var D=z(I,2);{var F=ee=>{var te=jv(),se=Z(te);en(se,je(()=>o(y)));var de=z(se,2);zt(de,je(()=>o(y),{faceColor:"#fafafa"}));var ve=z(de,2);zt(ve,je(()=>o(C),{faceColor:"#fafafa",lineWidth:3})),R(ee,te)};U(D,ee=>{o(y)&&ee(F)})}var X=z(D,2);{var Q=ee=>{var te=Iv(),se=Z(te);en(se,je(()=>o(S)));var de=z(se,2);zt(de,je(()=>o(S),{faceColor:"#fafafa"}));var ve=z(de,2);zt(ve,je(()=>o(k),{faceColor:"#fafafa",lineWidth:3})),R(ee,te)};U(X,ee=>{o(S)&&ee(Q)})}var W=z(X,2);vv(W,{get items(){return o(_)},position:"bottomright"});var H=z(W,2);Qr(H,{});var ne=z(H,2);Kr(ne,{showGrid:!0,label:v,whole:!0});var $=z(ne,2);Xr($,{showGrid:!0,get label(){return o(h)}}),R(L,T)}})};U(E,N=>{e.params&&N(A)})}R(t,M),me()}function Vv(t,e){he(e,!0);const r=P(()=>e.props.s);ge(()=>{o(r).intSelected=e.selected}),ge(()=>{o(r).intSelected<0&&e.callbacks.select(o(r).intSelected)});var s=ue(),l=Z(s);{var a=v=>{qv(v,{get props(){return e.props},get params(){return e.params},get callbacks(){return e.callbacks},get selected(){return e.selected}})},c=(v,u)=>{{var f=d=>{Rv(d,{get props(){return e.props},get params(){return e.params}})},h=(d,m)=>{{var g=w=>{Fv(w,{get props(){return e.props},get params(){return e.params}})},p=w=>{wv(w,{get props(){return e.props},get params(){return e.params}})};U(d,w=>{e.params.plot==="statistics"?w(g):w(p,!1)},m)}};U(v,d=>{e.params.plot==="progress"&&o(r).statsProgress?d(f):d(h,!1)},u)}};U(l,v=>{e.params.plot==="intervals"&&o(r).outcomes&&o(r).outcomes.status==="done"?v(a):v(c,!1)})}R(t,s),me()}var Ov=K('<div class="msg-select"> </div>'),Dv=K('<div class="msg-select"> </div>'),Bv=K('<div class="selected-buttons svelte-8mh2yv"><!></div>'),Wv=K("<!> <!>",1),Uv=()=>switchPlot(i),Yv=(t,e,r)=>G(e,o(r),!0),Hv=K('<button class="plot-selector svelte-8mh2yv"> </button>'),Gv=K('<div class="plot-panel svelte-8mh2yv"><div class="plot-area svelte-8mh2yv"><div class="plot svelte-8mh2yv"><!></div> <div class="plot-select-msg svelte-8mh2yv"><!></div></div> <div class="plot-controls-area svelte-8mh2yv"></div></div>');function Kv(t,e){he(e,!0);let r=Y(e,"selobjText",3,"Click to select an object...");Y(e,"selvarText",3,"Click to select a variable...");let s=Y(e,"clearText",3,"Click anywhere to remove selection..."),l=Y(e,"params",15),a=Ue({objects:-1,variables:-1}),c=ae(Ue(Object.keys(e.plots)[0]));function v(M){a.objects=M}function u(M){a.objects=-1}function f(M){a.variables=M}function h(M){a.variables=-1}let d={objects:{select:v,unselect:u},variables:{select:f,unselect:h},stats:{}},m=P(()=>o(c)?e.plots[o(c)]:null),g=P(()=>o(m)?o(m).component:null);var p=Gv(),w=B(p),b=B(w),y=B(b);Es(y,()=>o(g),(M,E)=>{E(M,{get params(){return l()[o(c)]},get callbacks(){return d[o(m).scope]},get selected(){return a[o(m).scope]},get props(){return e.props}})});var C=z(b,2),S=B(C);{var k=M=>{var E=ue(),A=Z(E);{var N=q=>{var T=Ov(),I=B(T);re(()=>le(I,r())),R(q,T)},L=q=>{var T=Dv(),I=B(T);re(()=>le(I,s())),R(q,T)};U(A,q=>{a[o(m).scope]<0?q(N):q(L,!1)})}R(M,E)};U(S,M=>{o(m).scope==="objects"&&l()[o(c)].plotType!=="l"&&r().length>0&&M(k)})}var _=z(w,2);Ye(_,21,()=>Object.keys(e.plots),Ge,(M,E)=>{var A=ue(),N=Z(A);{var L=T=>{var I=Wv(),j=Z(I);au(j,{get title(){return o(m).label},labelWidth:12,get options(){return e.controls[o(c)]},get value(){return l()[o(c)]},set value(X){l(l()[o(c)]=X,!0)}});var D=z(j,2);{var F=X=>{var Q=Bv(),W=B(Q);xn(W,()=>o(m).buttons,()=>a.objects),R(X,Q)};U(D,X=>{o(m).buttons&&a.objects>=0&&X(F)})}R(T,I)},q=T=>{var I=Hv();I.__keydown=[Uv],I.__click=[Yv,c,E];var j=B(I);re(()=>le(j,e.plots[o(E)].label)),R(T,I)};U(N,T=>{o(m)&&o(c)===o(E)?T(L):T(q,!1)})}R(M,A)}),R(t,p),me()}$e(["keydown","click"]);var Xv=K("<!> <!>",1);function Qv(t,e){he(e,!0);const r=(p,w=mt)=>{var b=ue(),y=Z(b);{var C=S=>{const k=P(()=>s().intSelected+1);ce(S,{get label(){return`Selected (${o(k)??""})`},children:(_,M)=>{var E=Xv(),A=Z(E);ut(A,{onclick:()=>s().intSelected=-1,text:"cancel"});var N=z(A,2);ut(N,{onclick:()=>e.setExcluded(s().intSelected),text:"exclude"}),R(_,E)},$$slots:{default:!0}})};U(y,S=>{s().intSelected>=0&&S(C)})}R(p,b)};let s=Y(e,"s",7),l=ae(!0);const a={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"},c=Object.keys(a),v={global:"#404040",best:"#2679B2",selected:"#D22C2F"},u={txt:{el:Nt,hidden:!1,default:"Run selection",label:"Run selection"},plot:{el:Nt,hidden:!1,default:"intervals",label:"Show",props:{options:["intervals","progress","statistics"]}},fom:{el:Nt,hidden:!1,default:"sens",label:"Statistic",props:{options:["sens","spec","eff","sel"]}},nComp:{el:Il,hidden:!1,default:1,label:"# PCs",props:{min:1,max:1,step:1,decNum:0}},fomView:{el:Nt,hidden:!1,default:"val",label:"Show",props:{options:["diff","val"]}},zoom:{el:lr,hidden:!1,default:!1,label:"Zoom",props:{options:["off","on"]}}},f=P(()=>({main:{label:"Outcomes",scope:"objects",component:Vv,buttons:r}})),h=Ue({main:u});let d=ae(Ue({main:Wc(u)}));ge(()=>{s().outcomes&&s().outcomes.status==="done"&&(h.main.nComp.props.max=s().outcomes.ncomp)}),ge(()=>{s().outcomes&&s().outcomes.status==="running"?(G(l,!0),o(d).main.plot="intervals",h.main.txt.hidden=!1,h.main.plot.hidden=!0):(G(l,!1),h.main.txt.hidden=!0,h.main.plot.hidden=!1)}),ge(()=>{o(d).main.plot==="intervals"&&s().outcomes&&s().outcomes.status==="done"?h.main.fomView.hidden=!1:h.main.fomView.hidden=!0}),ge(()=>{o(d).main.plot==="intervals"&&s().outcomes&&s().outcomes.status==="done"||o(d).main.plot==="progress"||o(d).main.plot==="statistics"?h.main.fom.hidden=!1:h.main.fom.hidden=!0}),ge(()=>{o(d).main.plot!=="progress"?h.main.zoom.hidden=!0:h.main.zoom.hidden=o(l)}),ge(()=>{o(d).main.plot==="progress"||!s().outcomes||s().outcomes.status!=="done"?h.main.nComp.hidden=!0:h.main.nComp.hidden=o(l)}),ge(()=>{s().statsProgress?h.main.plot={label:"Show",hidden:!1,el:Nt,props:{options:["intervals","progress","statistics"]}}:(h.main.plot={label:"Show",hidden:!1,el:Nt,props:{options:["intervals","statistics"]}},o(d).plot==="progress"&&(o(d).plots="intervals"))}),ge(()=>{s().nComp=o(d).main.nComp});const m=P(()=>({s:s(),seriesColors:v,fomKeys:c,fomNames:a}));Kv(t,{get props(){return o(m)},callbacks:{},get plots(){return o(f)},get controls(){return h},selobjText:"",",":!0,get params(){return o(d)},set params(p){G(d,p,!0)}}),me()}var Jv=K('<p class="title">Variable selection settings</p>'),Zv=K('<p style="padding: 0.25em; font-weight:bold;"> </p>'),$v=K('<p style="padding: 0.25em; font-weight:bold;"> </p>'),ed=K("<!> <!>",1),td=K('<p style="padding: 0.25em; font-weight:bold;"> </p> <!>',1),nd=K('<p style="padding: 0.25em;font-weight:bold;">Calculation in progress...</p>'),rd=K('<p style="padding: 0.25em;font-weight:bold;">Select interval</p>'),sd=K('<p style="padding: 0.25em;color:crimson;font-weight:bold;">No intervals left for selection.</p>'),od=K("<!> <!> <!> <!>",1);function ld(t,e){he(e,!0);let r=Y(e,"s",7);const s=[10,5,1,.1];let l=r().calset.values.ncols,a=ae(Ue(r().varselparams?r().varselparams.nInt:l<=50?l:10)),c=ae(Ue(o(a))),v=r().calset.varvalues,u=Fc(l);async function f(_){const M=_.calset.values,E=_.tarset.values,A=_.altset.values,N=_.model.center,L=_.model.scale,q=_.alpha,T=_.statsCurrent,I=M.ncols-_.varsExcluded.length-_.varselparams.intSize,j=_.model.ncomp>I?I:_.model.ncomp,D=_.varselparams.nInt,F=lt.zeros(j,D),X=lt.zeros(j,D),Q=lt.zeros(j,D),W=lt.zeros(j,D),H=lt.zeros(j,D),ne=lt.zeros(j,D),$=lt.zeros(j,D),ee=lt.zeros(j,D);console.time("do0");for(let te=0;te<D;te++){if(_.intExcluded.length>0&&_.intExcluded.includes(te))continue;_.outcomes={status:"running",curInt:te};const se=Wr(_.varselparams.intLeftIndices[te],_.varselparams.intRightIndices[te]),de=_.varselparams.intSize===1?[..._.varsExcluded,te]:_.varsExcluded.concat(se),ve=await Ic(e.WASM,de,j,M,E,A,N,L,T,q);F.v.set(ve.sens.val,te*j),X.v.set(ve.spec.val,te*j),Q.v.set(ve.eff.val,te*j),W.v.set(ve.sel.val,te*j),H.v.set(ve.sens.diff,te*j),ne.v.set(ve.spec.diff,te*j),$.v.set(ve.eff.diff,te*j),ee.v.set(ve.sel.diff,te*j)}_.outcomes={status:"done",ncomp:j,sens:{val:F.t(),diff:H.t()},spec:{val:X.t(),diff:ne.t()},eff:{val:Q.t(),diff:$.t()},sel:{val:W.t(),diff:ee.t()}},console.timeEnd("do0")}ge(()=>{o(c)!==o(a)&&(G(c,o(a),!0),r().outcomes=null)}),ge(()=>{r().varselparams=zc(l,o(a),null,v)});var h=od(),d=Z(h);ce(d,{label:"",children:(_,M)=>{var E=Jv();R(_,E)},$$slots:{default:!0}});var m=z(d,2);{var g=_=>{ce(_,{label:"Alpha, %:",children:(M,E)=>{Nt(M,{id:"alpha",options:s,get value(){return r().alpha},set value(A){r().alpha=A}})},$$slots:{default:!0}})},p=_=>{ce(_,{label:"Alpha, %:",children:(M,E)=>{var A=Zv(),N=B(A);re(()=>le(N,r().alpha)),R(M,A)},$$slots:{default:!0}})};U(m,_=>{r().intExcluded.length===0&&r().outcomes===null?_(g):_(p,!1)})}var w=z(m,2);{var b=_=>{var M=ue(),E=Z(M);{var A=L=>{ce(L,{label:"N. of intervals:",children:(q,T)=>{Nt(q,{id:"nInt",options:u,get value(){return o(a)},set value(I){G(a,I,!0)}})},$$slots:{default:!0}})},N=L=>{ce(L,{label:"N. of intervals:",children:(q,T)=>{var I=$v(),j=B(I);re(()=>le(j,o(a))),R(q,I)},$$slots:{default:!0}})};U(E,L=>{!r().outcomes||r().outcomes.status!=="running"?L(A):L(N,!1)})}R(_,M)},y=_=>{ce(_,{label:"N. of intervals:",children:(M,E)=>{var A=td(),N=Z(A),L=B(N),q=z(N,2);{var T=I=>{var j=ed(),D=Z(j);{var F=Q=>{Dc(Q,{get onclick(){return e.undoExcluded}})};U(D,Q=>{r().intExcluded.length>=2&&Q(F)})}var X=z(D,2);or(X,{get onclick(){return e.resetExcluded}}),R(I,j)};U(q,I=>{(!r().outcomes||r().outcomes.status!=="running")&&I(T)})}re(()=>le(L,`${o(a)??""} (${r().intExcluded.length??""} out, ${r().varselparams.nInt-r().intExcluded.length} in)`)),R(M,A)},$$slots:{default:!0}})};U(w,_=>{r().intExcluded.length===0||!r().varselparams?_(b):_(y,!1)})}var C=z(w,2);{var S=_=>{ce(_,{label:" ",children:(M,E)=>{var A=ue(),N=Z(A);{var L=T=>{var I=nd();R(T,I)},q=T=>{var I=rd();R(T,I)};U(N,T=>{r().outcomes.status==="running"?T(L):T(q,!1)})}R(M,A)},$$slots:{default:!0}})},k=_=>{var M=ue(),E=Z(M);{var A=N=>{ce(N,{label:" ",children:(L,q)=>{var T=ue(),I=Z(T);{var j=F=>{const X=P(()=>r().intExcluded.length>0?"new":"");ut(F,{id:"run",onclick:()=>f(r()),get text(){return`Run ${o(X)??""}`}})},D=F=>{var X=sd();R(F,X)};U(I,F=>{r().intExcluded.length<r().varselparams.nInt-1&&r().varsExcluded.length<r().varselparams.nVars-2?F(j):F(D,!1)})}R(L,T)},$$slots:{default:!0}})};U(E,N=>{r().varselparams&&N(A)})}R(_,M)};U(C,_=>{r().outcomes&&!(r().outcomes.status==="done"&&r().intExcluded.length===0)?_(S):_(k,!1)})}R(t,h),me()}var ad=K('<div class="model-calculator svelte-vtn33g"><!></div>'),id=K("<!> <!>",1),cd=K("<h2>Upload target test set</h2>"),ud=K("<!> <!>",1),fd=K("<h2>Generate PV-set</h2>"),vd=K("<!> <!>",1),dd=K('<div class="tarset-loader svelte-vtn33g"><!></div>'),hd=K("<h2>Upload alternative test set</h2>"),md=K('<div class="data-loader-alt svelte-vtn33g"><!> <!></div>'),gd=K('<div class="love-settings svelte-vtn33g"><!></div>'),bd=K('<div class="res-table svelte-vtn33g"><!></div>'),pd=K('<div class="downloads-widget svelte-vtn33g"><!></div>'),wd=K(`<p class="svelte-vtn33g"><strong>Step 1. Load training set from a CSV file.</strong></p> <p class="svelte-vtn33g">The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.</p> <p class="svelte-vtn33g">First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).</p> <p class="svelte-vtn33g">First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:</p> <div class="svelte-vtn33g"><table class="svelte-vtn33g"><thead><tr class="svelte-vtn33g"><td class="svelte-vtn33g">Name</td><td class="svelte-vtn33g">Class</td><td class="svelte-vtn33g">x1</td><td class="svelte-vtn33g">x2</td><td class="svelte-vtn33g">x3</td></tr></thead><tbody><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O1</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">3.8</td><td class="svelte-vtn33g">1.3</td><td class="svelte-vtn33g">13.6</td></tr><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O2</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">11.1</td><td class="svelte-vtn33g">12.3</td><td class="svelte-vtn33g">3.3</td></tr><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O3</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">1.2</td><td class="svelte-vtn33g">2.3</td><td class="svelte-vtn33g">4.2</td></tr></tbody></table></div> <p class="svelte-vtn33g"></p>`,1),_d=K(`<p class="svelte-vtn33g"><strong>Step 2. Create a global PCA model</strong></p> <p class="svelte-vtn33g">Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.</p>`,1),yd=K('<p class="svelte-vtn33g"><strong>Step 3. Compute PV-set</strong></p> <p class="svelte-vtn33g">Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).</p>',1),xd=K('<p class="svelte-vtn33g"><strong>Step 4. Load dataset with objects of alternative classes</strong></p> <p class="svelte-vtn33g">Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.</p> <p class="svelte-vtn33g">After this step you will be able to start variable selection procedure.</p>',1),Ed=K('<div class="help-text svelte-vtn33g"><p class="svelte-vtn33g">In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).</p> <!> <!> <!> <!></div>'),kd=K('<div class="app-container svelte-vtn33g"><div class="app-controls svelte-vtn33g"><div class="data-loader-train svelte-vtn33g"><!></div> <!> <!> <!> <!> <!> <!></div> <div class="app-content svelte-vtn33g"><!></div></div>');function Cd(t,e){he(e,!0);const r=P(()=>e.session.train);let s=ae(!1);function l(){if(o(r).intExcluded.length<2)return;o(r).intSelected=-1;const q=o(r).intExcluded[o(r).intExcluded.length-1];if(!(q>=0))return;o(r).statsProgress.pop();const T=o(r).varselparams.intLeftIndices[q],I=o(r).varselparams.intRightIndices[q],j=I===T?1:I-T+1;o(r).intExcluded.pop(),o(r).varsExcluded=o(r).varsExcluded.slice(0,o(r).varsExcluded.length-j);const D=o(r).statsProgress.length;o(r).nComp=o(r).statsProgress[D-1].ncomp,o(r).intSelected=-1,o(r).outcomes=null,G(s,!0),Pl(e.WASM,o(r))}function a(){const q=o(r).intSelected;Number.isNaN(q)||q<0||q>=o(r).varselparams.nInt||o(r).intExcluded.length>0&&o(r).intExcluded.includes(q)||(o(r).intExcluded.length===0&&(o(r).statsGlobal.ncompBest=o(r).nComp),o(r).statsCurrent={ncomp:o(r).outcomes.nComp,ncompBest:o(r).nComp,sens:o(r).outcomes.sens.val.getrow(q+1).v,spec:o(r).outcomes.spec.val.getrow(q+1).v,eff:o(r).outcomes.eff.val.getrow(q+1).v,sel:o(r).outcomes.sel.val.getrow(q+1).v},o(r).statsProgress||(o(r).statsProgress=[{ncomp:o(r).nComp,int:q+1,sens:o(r).statsGlobal.sens[o(r).nComp-1],spec:o(r).statsGlobal.spec[o(r).nComp-1],eff:o(r).statsGlobal.eff[o(r).nComp-1],sel:o(r).statsGlobal.sel[o(r).nComp-1]}]),o(r).statsProgress.push({ncomp:o(r).nComp,int:q+1,sens:o(r).statsCurrent.sens[o(r).nComp-1],spec:o(r).statsCurrent.spec[o(r).nComp-1],eff:o(r).statsCurrent.eff[o(r).nComp-1],sel:o(r).statsCurrent.sel[o(r).nComp-1]}),o(r).intExcluded.push(q),o(r).varsExcluded=o(r).varsExcluded.concat(Wr(o(r).varselparams.intLeftIndices[q],o(r).varselparams.intRightIndices[q])),o(r).intSelected=-1,o(r).outcomes=null,Pl(e.WASM,o(r)))}function c(){o(r).intExcluded=[],o(r).varsExcluded=[],o(r).statsCurrent=o(r).statsGlobal?{ncompBest:null,ncomp:o(r).statsGlobal.ncomp,sens:o(r).statsGlobal.sens,spec:o(r).statsGlobal.spec,eff:o(r).statsGlobal.eff,sel:o(r).statsGlobal.sel}:null,o(r).statsProgress=null,o(r).intSelected=-1,o(r).outcomes=null}ge(()=>{o(r).calset===null&&(o(r).calres=null,o(r).model=null)}),ge(()=>{o(r).model===null&&(o(r).tarres=null,o(r).tarsetType=null,o(r).tarset=null)}),ge(()=>{o(r).tarset===null&&(o(r).tarres=null,o(r).tarsetType=null,o(r).altres=null,o(r).altset=null)}),ge(()=>{o(r).altset===null&&(o(r).intExcluded=[],o(r).varsExcluded=[],o(r).statsCurrent=null,o(r).statsGlobal=null,o(r).statsProgress=null,o(r).intSelected=-1,o(r).outcomes=null,o(r).altres=null)}),ge(()=>{if(o(r).tarres&&o(r).altres&&!o(r).statsGlobal){const q=Tl(o(r).model,o(r).tarres,o(r).altres,null,o(r).alpha);o(r).statsGlobal={ncomp:q.ncomp,ncompBest:null,sens:q.sens.val,spec:q.spec.val,eff:q.eff.val,sel:q.sel.val},o(r).statsCurrent={ncomp:o(r).statsGlobal.ncomp,ncompBest:null,sens:o(r).statsGlobal.sens,spec:o(r).statsGlobal.spec,eff:o(r).statsGlobal.eff,sel:o(r).statsGlobal.sel}}}),ge(()=>{if(o(r).currentRes&&o(s)){G(s,!1);const q=o(r).currentRes.simca.ncomp,T=o(r).currentRes.tar.simca.stat.sensitivity,I=o(r).currentRes.alt.simca.stat.specificity,j=o(r).currentRes.alt.simca.stat.selectivity,D=T.map((F,X)=>Math.sqrt(F*I[X]));o(r).statsCurrent={ncomp:T.length,ncompBest:q,sens:new Float64Array(T),spec:new Float64Array(I),eff:new Float64Array(D),sel:new Float64Array(j)}}}),ge(()=>{o(r).outcomes&&o(r).outcomes.status!=="done"&&o(r).intSelected>=0&&(o(r).intSelected=-1)}),ge(()=>{if(o(r).outcomes&&o(r).outcomes.status==="done"){const q=Qt(()=>JSON.stringify(e.session,Yr));e.backupSession(q)}else if(!o(r).outcomes){const q=Qt(()=>JSON.stringify(e.session,Yr));e.backupSession(q,o(r).model,o(r).calset,o(r).tarres,o(r).altres,o(r).varsExcluded)}});var v=kd(),u=B(v),f=B(u),h=B(f);Hs(h,{get WASM(){return e.WASM},title:"Training set",classMandatory:!0,classUnique:!0,get dataset(){return o(r).calset},set dataset(q){o(r).calset=q}});var d=z(f,2);{var m=q=>{var T=ad(),I=B(T);Au(I,{get WASM(){return e.WASM},get dataset(){return o(r).calset},get model(){return o(r).model},set model(j){o(r).model=j},get resobj(){return o(r).calres},set resobj(j){o(r).calres=j}}),R(q,T)};U(d,q=>{o(r).calset&&q(m)})}var g=z(d,2);{var p=q=>{var T=dd(),I=B(T);{var j=F=>{ce(F,{name:"select-tarset-type",label:"Target set",children:(X,Q)=>{var W=id(),H=Z(W);ut(H,{onclick:()=>o(r).tarsetType="file",text:"From file"});var ne=z(H,2);ut(ne,{onclick:()=>o(r).tarsetType="pv",text:"PV-set"}),R(X,W)},$$slots:{default:!0}})},D=(F,X)=>{{var Q=H=>{var ne=ud(),$=Z(ne);{var ee=se=>{ce(se,{label:"",children:(de,ve)=>{var Ee=cd();R(de,Ee)},$$slots:{default:!0}})};U($,se=>{o(r).tarset||se(ee)})}var te=z($,2);Hs(te,{get WASM(){return e.WASM},get model(){return o(r).model},title:"Target test set",get dataset(){return o(r).tarset},set dataset(se){o(r).tarset=se},get resobj(){return o(r).tarres},set resobj(se){o(r).tarres=se}}),R(H,ne)},W=(H,ne)=>{{var $=ee=>{var te=vd(),se=Z(te);{var de=Ee=>{ce(Ee,{label:"",children:(Te,Me)=>{var Re=fd();R(Te,Re)},$$slots:{default:!0}})};U(se,Ee=>{o(r).tarset||Ee(de)})}var ve=z(se,2);Fu(ve,{get WASM(){return e.WASM},get calset(){return o(r).calset},get calres(){return o(r).calres},get model(){return o(r).model},get pvres(){return o(r).tarres},set pvres(Ee){o(r).tarres=Ee},get pvset(){return o(r).tarset},set pvset(Ee){o(r).tarset=Ee}}),R(ee,te)};U(H,ee=>{o(r).tarsetType==="pv"&&ee($)},ne)}};U(F,H=>{o(r).tarsetType==="file"?H(Q):H(W,!1)},X)}};U(I,F=>{!o(r).tarsetType&&!o(r).tarset?F(j):F(D,!1)})}R(q,T)};U(g,q=>{o(r).model&&o(r).calset&&o(r).calres&&q(p)})}var w=z(g,2);{var b=q=>{var T=md(),I=B(T);{var j=F=>{ce(F,{label:"",children:(X,Q)=>{var W=hd();R(X,W)},$$slots:{default:!0}})};U(I,F=>{o(r).altset||F(j)})}var D=z(I,2);Hs(D,{get WASM(){return e.WASM},title:"Alternative test set",get model(){return o(r).model},classMandatory:!0,classUnique:!1,get dataset(){return o(r).altset},set dataset(F){o(r).altset=F},get resobj(){return o(r).altres},set resobj(F){o(r).altres=F}}),R(q,T)};U(w,q=>{o(r).tarset&&o(r).tarres&&q(b)})}var y=z(w,2);{var C=q=>{var T=gd(),I=B(T);ld(I,{get WASM(){return e.WASM},get s(){return o(r)},resetExcluded:c,undoExcluded:l}),R(q,T)};U(y,q=>{o(r).calset&&o(r).altset&&o(r).altres&&o(r).statsGlobal&&q(C)})}var S=z(y,2);{var k=q=>{var T=bd(),I=B(T);Yu(I,{get s(){return o(r)}}),R(q,T)};U(S,q=>{(o(r).statsGlobal||o(r).statsCurrent)&&q(k)})}var _=z(S,2);{var M=q=>{var T=pd(),I=B(T);Pu(I,{get s(){return o(r)}}),R(q,T)};U(_,q=>{o(r).intExcluded.length>0&&o(r).intSelected<0&&(!o(r).outcomes||o(r).outcomes.status!=="running")&&q(M)})}var E=z(u,2),A=B(E);{var N=q=>{var T=Ed(),I=z(B(T),2);{var j=ne=>{var $=wd();R(ne,$)};U(I,ne=>{o(r).calset||ne(j)})}var D=z(I,2);{var F=ne=>{var $=_d();R(ne,$)};U(D,ne=>{o(r).calset&&!o(r).model&&ne(F)})}var X=z(D,2);{var Q=ne=>{var $=yd();R(ne,$)};U(X,ne=>{o(r).model&&!o(r).tarset&&ne(Q)})}var W=z(X,2);{var H=ne=>{var $=xd();R(ne,$)};U(W,ne=>{o(r).model&&o(r).tarset&&!o(r).altset&&ne(H)})}R(q,T)},L=(q,T)=>{{var I=j=>{var D=ue(),F=Z(D);Ko(F,()=>o(r).intExcluded,X=>{Qv(X,{get s(){return o(r)},setExcluded:a})}),R(j,D)};U(q,j=>{o(r).calset&&o(r).varselparams&&j(I)},T)}};U(A,q=>{!o(r).altres||!o(r).statsGlobal?q(N):q(L,!1)})}R(t,v),me()}const Id="modulepreload",zd=function(t){return"/"+t},Fd={},Ad=function(e,r,s){let l=Promise.resolve();function a(c){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=c,window.dispatchEvent(v),!v.defaultPrevented)throw c}return l.then(c=>{for(const v of c||[])v.status==="rejected"&&a(v.reason);return e().catch(a)})};var qd=(()=>{var t=we&&we.tagName.toUpperCase()==="SCRIPT"&&we.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var r,s=e,l,a,c=new Promise((V,J)=>{l=V,a=J}),v=typeof window=="object",u=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(f){const{createRequire:V}=await Ad(()=>Promise.resolve().then(()=>Pd),void 0);var h=V(we&&we.tagName.toUpperCase()==="SCRIPT"&&we.src||new URL("ddsimca-love.js",document.baseURI).href)}var d={...s},m=(V,J)=>{throw J},g="";function p(V){return s.locateFile?s.locateFile(V,g):g+V}var w,b;if(f){var y=h("fs"),C=h("path");(we&&we.tagName.toUpperCase()==="SCRIPT"&&we.src||new URL("ddsimca-love.js",document.baseURI).href).startsWith("data:")||(g=C.dirname(h("url").fileURLToPath(we&&we.tagName.toUpperCase()==="SCRIPT"&&we.src||new URL("ddsimca-love.js",document.baseURI).href))+"/"),b=V=>{V=L(V)?new URL(V):V;var J=y.readFileSync(V);return J},w=async(V,J=!0)=>{V=L(V)?new URL(V):V;var oe=y.readFileSync(V,J?void 0:"utf8");return oe},!s.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),m=(V,J)=>{throw process.exitCode=V,J}}else(v||u)&&(u?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),t&&(g=t),g.startsWith("blob:")?g="":g=g.slice(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(b=V=>{var J=new XMLHttpRequest;return J.open("GET",V,!1),J.responseType="arraybuffer",J.send(null),new Uint8Array(J.response)}),w=async V=>{if(L(V))return new Promise((oe,Ie)=>{var Se=new XMLHttpRequest;Se.open("GET",V,!0),Se.responseType="arraybuffer",Se.onload=()=>{if(Se.status==200||Se.status==0&&Se.response){oe(Se.response);return}Ie(Se.status)},Se.onerror=Ie,Se.send(null)});var J=await fetch(V,{credentials:"same-origin"});if(J.ok)return J.arrayBuffer();throw new Error(J.status+" : "+J.url)});s.print||console.log.bind(console);var S=s.printErr||console.error.bind(console);Object.assign(s,d),d=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram;var k=s.wasmBinary,_,M=!1,E,A,N,L=V=>V.startsWith("file://");function q(){var V=_.buffer;s.HEAP8=A=new Int8Array(V),s.HEAP16=new Int16Array(V),s.HEAPU8=N=new Uint8Array(V),s.HEAPU16=new Uint16Array(V),s.HEAP32=new Int32Array(V),s.HEAPU32=new Uint32Array(V),s.HEAPF32=new Float32Array(V),s.HEAPF64=new Float64Array(V),s.HEAP64=new BigInt64Array(V),s.HEAPU64=new BigUint64Array(V)}function T(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)xt(s.preRun.shift());Te(et)}function I(){nt.h()}function j(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Re(s.postRun.shift());Te(Me)}var D=0,F=null;function X(V){var J;D++,(J=s.monitorRunDependencies)==null||J.call(s,D)}function Q(V){var oe;if(D--,(oe=s.monitorRunDependencies)==null||oe.call(s,D),D==0&&F){var J=F;F=null,J()}}function W(V){var oe;(oe=s.onAbort)==null||oe.call(s,V),V="Aborted("+V+")",S(V),M=!0,V+=". Build with -sASSERTIONS for more info.";var J=new WebAssembly.RuntimeError(V);throw a(J),J}var H;function ne(){return s.locateFile?p("pca_wasm.wasm"):new URL("/ddsimca-love.wasm",we&&we.tagName.toUpperCase()==="SCRIPT"&&we.src||new URL("ddsimca-love.js",document.baseURI).href).href}function $(V){if(V==H&&k)return new Uint8Array(k);if(b)return b(V);throw"both async and sync fetching of the wasm failed"}async function ee(V){if(!k)try{var J=await w(V);return new Uint8Array(J)}catch{}return $(V)}async function te(V,J){try{var oe=await ee(V),Ie=await WebAssembly.instantiate(oe,J);return Ie}catch(Se){S(`failed to asynchronously prepare wasm: ${Se}`),W(Se)}}async function se(V,J,oe){if(!V&&typeof WebAssembly.instantiateStreaming=="function"&&!L(J)&&!f)try{var Ie=fetch(J,{credentials:"same-origin"}),Se=await WebAssembly.instantiateStreaming(Ie,oe);return Se}catch(Oe){S(`wasm streaming compile failed: ${Oe}`),S("falling back to ArrayBuffer instantiation")}return te(J,oe)}function de(){return{a:Ft}}async function ve(){function V(Oe,We){return nt=Oe.exports,_=nt.g,q(),Q(),nt}X();function J(Oe){return V(Oe.instance)}var oe=de();if(s.instantiateWasm)return new Promise((Oe,We)=>{s.instantiateWasm(oe,(Ve,ln)=>{V(Ve),Oe(Ve.exports)})});H??(H=ne());try{var Ie=await se(k,H,oe),Se=J(Ie);return Se}catch(Oe){return a(Oe),Promise.reject(Oe)}}class Ee{constructor(J){Sn(this,"name","ExitStatus");this.message=`Program terminated with exit(${J})`,this.status=J}}var Te=V=>{for(;V.length>0;)V.shift()(s)},Me=[],Re=V=>Me.unshift(V),et=[],xt=V=>et.unshift(V),ke=s.noExitRuntime||!0,Xe=V=>ie(V),tt=()=>oo(),Et=()=>W(""),kt=0,Yn=()=>{ke=!1,kt=0},dt={},fr=V=>{if(V instanceof Ee||V=="unwind")return E;m(1,V)},es=()=>ke||kt>0,pn=V=>{var J;E=V,es()||((J=s.onExit)==null||J.call(s,V),M=!0),m(V,new Ee(V))},ts=(V,J)=>{E=V,pn(V)},ns=ts,Hn=()=>{if(!es())try{ns(E)}catch(V){fr(V)}},eo=V=>{if(!M)try{V(),Hn()}catch(J){fr(J)}},to=()=>performance.now(),no=(V,J)=>{if(dt[V]&&(clearTimeout(dt[V].id),delete dt[V]),!J)return 0;var oe=setTimeout(()=>{delete dt[V],eo(()=>Le(V,to()))},J);return dt[V]={id:oe,timeout_ms:J},0},ro=()=>Date.now(),so=()=>2147483648,fe=(V,J)=>Math.ceil(V/J)*J,ye=V=>{var J=_.buffer,oe=(V-J.byteLength+65535)/65536|0;try{return _.grow(oe),q(),1}catch{}},_e=V=>{var J=N.length;V>>>=0;var oe=so();if(V>oe)return!1;for(var Ie=1;Ie<=4;Ie*=2){var Se=J*(1+.2/Ie);Se=Math.min(Se,V+100663296);var Oe=Math.min(oe,fe(Math.max(V,Se),65536)),We=ye(Oe);if(We)return!0}return!1},Qe=V=>{var J=s["_"+V];return J},ht=(V,J)=>{A.set(V,J)},Yt=V=>{for(var J=0,oe=0;oe<V.length;++oe){var Ie=V.charCodeAt(oe);Ie<=127?J++:Ie<=2047?J+=2:Ie>=55296&&Ie<=57343?(J+=4,++oe):J+=3}return J},Ct=(V,J,oe,Ie)=>{if(!(Ie>0))return 0;for(var Se=oe,Oe=oe+Ie-1,We=0;We<V.length;++We){var Ve=V.charCodeAt(We);if(Ve>=55296&&Ve<=57343){var ln=V.charCodeAt(++We);Ve=65536+((Ve&1023)<<10)|ln&1023}if(Ve<=127){if(oe>=Oe)break;J[oe++]=Ve}else if(Ve<=2047){if(oe+1>=Oe)break;J[oe++]=192|Ve>>6,J[oe++]=128|Ve&63}else if(Ve<=65535){if(oe+2>=Oe)break;J[oe++]=224|Ve>>12,J[oe++]=128|Ve>>6&63,J[oe++]=128|Ve&63}else{if(oe+3>=Oe)break;J[oe++]=240|Ve>>18,J[oe++]=128|Ve>>12&63,J[oe++]=128|Ve>>6&63,J[oe++]=128|Ve&63}}return J[oe]=0,oe-Se},At=(V,J,oe)=>Ct(V,N,J,oe),ze=V=>ft(V),Ce=V=>{var J=Yt(V)+1,oe=ze(J);return At(V,oe,J),oe},it=typeof TextDecoder<"u"?new TextDecoder:void 0,ot=(V,J=0,oe=NaN)=>{for(var Ie=J+oe,Se=J;V[Se]&&!(Se>=Ie);)++Se;if(Se-J>16&&V.buffer&&it)return it.decode(V.subarray(J,Se));for(var Oe="";J<Se;){var We=V[J++];if(!(We&128)){Oe+=String.fromCharCode(We);continue}var Ve=V[J++]&63;if((We&224)==192){Oe+=String.fromCharCode((We&31)<<6|Ve);continue}var ln=V[J++]&63;if((We&240)==224?We=(We&15)<<12|Ve<<6|ln:We=(We&7)<<18|Ve<<12|ln<<6|V[J++]&63,We<65536)Oe+=String.fromCharCode(We);else{var An=We-65536;Oe+=String.fromCharCode(55296|An>>10,56320|An&1023)}}return Oe},Je=(V,J)=>V?ot(N,V,J):"",De=(V,J,oe,Ie,Se)=>{var Oe={string:Pt=>{var vr=0;return Pt!=null&&Pt!==0&&(vr=Ce(Pt)),vr},array:Pt=>{var vr=ze(Pt.length);return ht(Pt,vr),vr}};function We(Pt){return J==="string"?Je(Pt):J==="boolean"?!!Pt:Pt}var Ve=Qe(V),ln=[],An=0;if(Ie)for(var qn=0;qn<Ie.length;qn++){var oa=Oe[oe[qn]];oa?(An===0&&(An=tt()),ln[qn]=oa(Ie[qn])):ln[qn]=Ie[qn]}var lo=Ve(...ln);function Td(Pt){return An!==0&&Xe(An),We(Pt)}return lo=Td(lo),lo},Ft={c:Et,b:Yn,d:no,f:ro,e:_e,a:pn},nt=await ve();nt.h,s._pcafit_wasm=nt.i,s._malloc=nt.j,s._free=nt.k,s._pcapredict_wasm=nt.l,s._pcvpca_wasm=nt.m;var Le=nt.o,ie=nt.p,ft=nt.q,oo=nt.r;s.ccall=De;function Ht(){if(D>0){F=Ht;return}if(T(),D>0){F=Ht;return}function V(){var J;s.calledRun=!0,!M&&(I(),l(s),(J=s.onRuntimeInitialized)==null||J.call(s),j())}s.setStatus?(s.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>s.setStatus(""),1),V()},1)):V()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return Ht(),r=c,r}})(),Sd=K('<p>Current release: <span>1.0.1</span> Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DDSIMCA-LOVE app">help@mda.tools</a> Tutorial: <a class="paper-link" href="" download="">paper</a> | <a href="">video lessons</a></p>'),Md=K(`<h2>DD-SIMCA variable selection</h2> <p>Authors: <em></em></p> <p>Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...</p> <h3>v. 1.0.1</h3> <p class="release-info">released 5/04/2025</p> <ul><li>Improvements to session mechanism.</li> <li>Small improvements and bug fixes.</li></ul> <h3>v. 1.0.0</h3> <p class="release-info">released 15/03/2025</p> <ul><li>Introducing sessons — app states, including model, results, datasets, and outliers
         (in all tabs). When you close tab or app window or click on reboot button, the current
         session is saved to browser's local storage and then is restored automatically. You can
         also download session as a file and load it from file.</li> <li>Many small improvements to plots and control elements.</li></ul>`,1);function Nd(t,e){he(e,!1);function r(c){c.train.altset=null,c.train.tarset=null,c.train.calset=null,c.train.intSelected=-1}function s(c){const v=Object.keys(c);if(!["date","train","tab"].every(f=>v.includes(f)))return!1;const u=Object.keys(c.train);return["calset","altset","tarset","tarres","altres","model"].every(f=>u.includes(f))?(c.train.outcomes&&c.train.outcomes.status==="running"&&(c.train.outcomes=null),c.train.tarsetType&&!c.train.tarset&&(c.train.tarsetType=null),c.train.model&&!c.train.calres&&(c.train.model=null),!0):!1}function l(){return{date:Ws(new Date),tab:0,train:{calset:0,model:0,calres:0,tarsetType:0,tarset:0,tarres:0,altset:0,altres:0,intSelected:-1,intExcluded:[],varsExcluded:[],varselparams:0,currentRes:0,statsGlobal:0,statsCurrent:0,statsProgress:0,alpha:5,nComp:0,outcomes:0,oldInt:0,oldNInt:0}}}const a=[{name:"Train",label:"train",component:Cd}];Li(),Nc(t,{appID:"ddsimca-love",appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",appSlogan:"Variable selection for DD-SIMCA",WASM:qd,tabs:a,initSession:l,checkSession:s,resetSession:r,footer:u=>{var f=Sd();R(u,f)},info:u=>{var f=Md();R(u,f)},$$slots:{footer:!0,info:!0}}),me()}di(Nd,{target:document.body});const Pd=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
