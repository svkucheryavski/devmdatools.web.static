var Od=Object.defineProperty;var ca=Be=>{throw TypeError(Be)};var Dd=(Be,be,et)=>be in Be?Od(Be,be,{enumerable:!0,configurable:!0,writable:!0,value:et}):Be[be]=et;var zr=(Be,be,et)=>Dd(Be,typeof be!="symbol"?be+"":be,et),uo=(Be,be,et)=>be.has(Be)||ca("Cannot "+et);var ir=(Be,be,et)=>(uo(Be,be,"read from private field"),et?et.call(Be):be.get(Be)),pn=(Be,be,et)=>be.has(Be)?ca("Cannot add the same private member more than once"):be instanceof WeakSet?be.add(Be):be.set(Be,et),fo=(Be,be,et,Pr)=>(uo(Be,be,"write to private field"),Pr?Pr.call(Be,et):be.set(Be,et),et),ua=(Be,be,et)=>(uo(Be,be,"access private method"),et);(function(){"use strict";var pr,Gr,dn,rs,fa,aa;var Be=document.createElement("style");Be.textContent=`.drop.svelte-1vipsv{position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-1vipsv{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "body";grid-template-rows:30px 1fr;width:auto;height:auto;border-radius:.25rem}.body.svelte-1vipsv{grid-area:body;box-sizing:border-box;padding:0 1em .5em;width:100%;height:100%}.header.svelte-1vipsv{grid-area:header}.close-button.svelte-1vipsv{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-1vipsv:hover{background-color:#4e5052}.page.svelte-1cyr8za{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-1cyr8za{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-1cyr8za{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-1cyr8za{width:3.5rem;margin:.25rem;padding:.5rem;grid-area:logo}.header-group.svelte-1cyr8za>h1:where(.svelte-1cyr8za){margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-1cyr8za>p:where(.svelte-1cyr8za){margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-1cyr8za{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-1cyr8za>div:where(.svelte-1cyr8za){height:100%}footer.svelte-1cyr8za{display:grid;grid-template-columns:20% 60% 20%;grid-template-areas:"session info .";align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za){grid-area:session;padding-left:.5em;display:flex;align-items:center}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) input:where(.svelte-1cyr8za){display:none}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .session-message:where(.svelte-1cyr8za){color:silver;padding-right:.5em}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .session-message:where(.svelte-1cyr8za){color:#fafafa}footer.svelte-1cyr8za .session.no-buttons:where(.svelte-1cyr8za) .clear-button:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session.no-buttons:where(.svelte-1cyr8za) .upload-button:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session.no-buttons:where(.svelte-1cyr8za) .download-button:where(.svelte-1cyr8za){display:none}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .clear-button:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .upload-button:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .download-button:where(.svelte-1cyr8za){font-size:.9rem;background:#5e6062;color:silver;box-shadow:none;padding:0;margin:0 0 0 .2em;border-radius:3px;border:none;height:20px;box-sizing:border-box;display:inline-block}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .clear-button:where(.svelte-1cyr8za) svg:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .upload-button:where(.svelte-1cyr8za) svg:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .download-button:where(.svelte-1cyr8za) svg:where(.svelte-1cyr8za){stroke-width:.75em;stroke-linecap:round;stroke-linejoin:round;stroke:silver}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .clear-button:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .upload-button:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .download-button:where(.svelte-1cyr8za){background:#35332d}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .clear-button:where(.svelte-1cyr8za) svg:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .upload-button:where(.svelte-1cyr8za) svg:where(.svelte-1cyr8za),footer.svelte-1cyr8za .session:where(.svelte-1cyr8za):hover .download-button:where(.svelte-1cyr8za) svg:where(.svelte-1cyr8za){stroke:#fafafa}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .clear-button:where(.svelte-1cyr8za){margin-left:.5em}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .upload-button:where(.svelte-1cyr8za):hover,footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .download-button:where(.svelte-1cyr8za):hover{background-color:#6eb8ff}footer.svelte-1cyr8za .session:where(.svelte-1cyr8za) .clear-button:where(.svelte-1cyr8za):hover{background-color:#dc143c}footer.svelte-1cyr8za .info:where(.svelte-1cyr8za){grid-area:info;display:flex;justify-content:center;align-items:center}footer.svelte-1cyr8za .info:where(.svelte-1cyr8za) .button-info:where(.svelte-1cyr8za){cursor:default;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}footer.svelte-1cyr8za .info:where(.svelte-1cyr8za) .button-info:where(.svelte-1cyr8za):hover{background-color:#f7db89}footer.svelte-1cyr8za p{margin:0 .5em;text-align:center;padding:.15em}footer.svelte-1cyr8za span,footer.svelte-1cyr8za a{color:#f8ebc5}.hidden.svelte-1cyr8za{display:none}.nav.svelte-1cyr8za,.nav.svelte-1cyr8za :where(.svelte-1cyr8za){-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-1cyr8za{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-1cyr8za{list-style:none;margin:0;border-bottom:5px solid transparent}.nav-item.svelte-1cyr8za>button:where(.svelte-1cyr8za){cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-1cyr8za>button:where(.svelte-1cyr8za)>span{color:#888}.nav-item.svelte-1cyr8za:hover{border-bottom:5px solid #80888f50}.nav-item.svelte-1cyr8za:hover>button:where(.svelte-1cyr8za){border-top-left-radius:5px;border-top-right-radius:5px;background:#00000010}.nav-item.selected.svelte-1cyr8za{border-bottom:5px solid #80888f}.nav-item.selected.svelte-1cyr8za>button:where(.svelte-1cyr8za){font-weight:700;cursor:default}.nav-item.selected.svelte-1cyr8za:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-1cyr8za>header:where(.svelte-1cyr8za){border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-1cyr8za>footer:where(.svelte-1cyr8za){border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.info-container.svelte-1cyr8za{width:900px}.info-container.svelte-1cyr8za>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-1cyr8za>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-1cyr8za>h2{font-size:1.5em;line-height:1.25em;padding:0em 1rem .5em;margin:0}.info-container.svelte-1cyr8za>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-1cyr8za>ul{margin:0}.info-container.svelte-1cyr8za>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-1cyr8za>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-1cyr8za a{color:#ae8032}.info-container.svelte-1cyr8za a:hover{color:#eb9707}.info-container.svelte-1cyr8za:last-child{padding-bottom:1rem}button.svelte-ymtj5z{display:inline-block;font-size:.9em;padding:0 .5em;line-height:1.5em;border-radius:.25em;box-shadow:none;margin:0;text-align:center;border:1px solid}.button.svelte-ymtj5z:focus-visible{outline:solid 2px;outline-offset:2px}button.svelte-bx9fh5{display:inline-block;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin:0 .25em;text-align:center;padding:0;background-size:45% 45%;background-position:50%;background-repeat:no-repeat}button.svelte-bx9fh5:last-of-type{margin-right:0}.button.svelte-bx9fh5:focus-visible{outline:solid 2px;outline-offset:2px}.control-element.svelte-vzu0vi{font-size:.85em;background:var(--container-bg-color, #fff);color:var(--text-color-dark, #606570);padding:.5em .5em .5em 1em;border-radius:0;display:flex;justify-items:flex-start;justify-content:flex-start;align-items:center;margin-bottom:.5px}.control-element.svelte-vzu0vi:hover{background:var(--container-bg-color, #fafdff)}.control-element.svelte-vzu0vi:first-child{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.control-element.svelte-vzu0vi:last-child{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-vzu0vi{display:none}.control-element.error.svelte-vzu0vi{background:var(--warning-color, crimson);color:var(--warning-text-color, #fefefe)}.label.svelte-vzu0vi{padding-right:.75em;flex-grow:0;flex-shrink:1;color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi>.wrapper{flex:1 1 auto;position:relative;box-sizing:border-box;display:inline-block;margin:0;padding:0;width:auto;align-items:flex-start;justify-content:center;justify-items:flex-start}.control-element.svelte-vzu0vi>h2{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:1.1em}.control-element.svelte-vzu0vi>p{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:max(12px,.9em)}.control-element.error p{color:var(--warning-text-color, #fefafa)}.control-element.error a{color:var(--warning-link-color, #ffeeaa)}.control-element.error a:hover{color:var(--warning-link-hover-color, #ffee80)}.control-element.svelte-vzu0vi>.title{font-size:1.05em;font-weight:700;color:var(--text-color-dark, #606570);flex-grow:1;padding:.3em 0;margin:0}.control-element.svelte-vzu0vi>.range-slider-container{outline-color:var(--outline-color, #ccc);background:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi>.range-slider-container:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .range-slider{color:var(--text-color-light, #fafafa);background-color:var(--main-color1, #6eb8ff);border-right-color:var(--main-color2, #528abe)}.control-element.svelte-vzu0vi .range-value{color:var(--text-color-light, #fafafa)}.control-element.svelte-vzu0vi .range-value_left,.control-element.svelte-vzu0vi .range-value_right{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .button{border-color:transparent;background-color:var(--bg-color-dark, #606570);color:var(--text-color-light, #fafafa);outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .button:hover{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #5086b9)}.control-element.svelte-vzu0vi .button-cancel{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="2.0" viewBox="0 0 100 100" style="stroke:%23fafafa;stroke-width:1em;" ><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}.control-element.svelte-vzu0vi .button-cancel:hover{background-color:var(--warning-color, #dc143c)}.control-element.svelte-vzu0vi .button-undo{background-image:url('data:image/svg+xml;utf8,<svg width="99px" height="99px" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-linecap="round" stroke-linejoin="round" ><path d="M6 7L7 6L4.70711 3.70711L5.19868 3.21553C5.97697 2.43724 7.03256 2 8.13323 2C11.361 2 14 4.68015 14 7.93274C14 11.2589 11.3013 14 8 14C6.46292 14 4.92913 13.4144 3.75736 12.2426L2.34315 13.6569C3.90505 15.2188 5.95417 16 8 16C12.4307 16 16 12.3385 16 7.93274C16 3.60052 12.4903 0 8.13323 0C6.50213 0 4.93783 0.647954 3.78447 1.80132L3.29289 2.29289L1 0L0 1V7H6Z" fill="%23fafafa"></path> </g></svg>')}.control-element.svelte-vzu0vi .button-undo:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-vzu0vi .button-download{background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 110 110" style="stroke:%23fafafa;stroke-width:1.1em;" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><line x1="50" y1="0" x2="50" y2="100"/><line x1="10" y1="60" x2="50" y2="100"/><line x1="90" y1="60" x2="50" y2="100"/></svg>')}.control-element.svelte-vzu0vi .button-download:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-vzu0vi .selector:focus-visible{outline:2px solid;outline-offset:2px;outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .selector>.option{color:var(--text-color-dark, #606570);background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .plot-selector>.option>svg{stroke:var(--main-color1, #606570)}.control-element.svelte-vzu0vi .plot-selector>.option.selected>svg{stroke:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .selector>.option.selected{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .selector>.option:not(.selected):hover{border:1px solid var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .selector>.option:not(.selected):hover>svg{stroke:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .file-selector:before{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .file-selector.selected:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .file-selector:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .file-selector:focus-visible:before{outline-color:var(--outline-color, #ccc);color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .file-selector:hover:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .textinput>input{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .textinput>input:placeholder-shown{color:var(--text-color-dark, #a0a0a0);background-color:var(--bg-color-light, #f0f0f0);border-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .textinput>input::placeholder{color:#a0a0a0}.control-element.svelte-vzu0vi .textinput>input:active::placeholder,.control-element.svelte-vzu0vi .textinput>input:focus::placeholder{color:transparent}.control-element.svelte-vzu0vi .textinput>input:focus,.control-element.svelte-vzu0vi .textinput>input:active{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .textinput.error>input,.control-element.svelte-vzu0vi .textinput.error>input:focus,.control-element.svelte-vzu0vi .textinput.error>input:active{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce);border-color:var(--warning-color, crimson)}.control-element.svelte-vzu0vi .textinput.error>.error-message{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce)}.control-element.svelte-vzu0vi .spinner:after{border-color:var(--main-color1, #6eb8ff) transparent var(--main-color1, #6eb8ff) transparent}.control-element.svelte-vzu0vi .number-container{background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .number-container>.value{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .number-container>.button-small>svg>polygon{fill:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .number-container>.button-small:hover>svg>polygon{fill:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .number-container:focus-visible{outline-color:var(--outline-color, #ccc)}.range-slider-container.svelte-vhx0r0{position:relative;box-sizing:border-box;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-vhx0r0:focus-visible{outline:solid 2px #ccc;outline-offset:2px}.range-slider.svelte-vhx0r0{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;border-right:solid 5px;text-align:right;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_right.svelte-vhx0r0{justify-content:left}.range-value.svelte-vhx0r0{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;position:relative;user-select:none;-webkit-user-select:none;-moz-user-select:none;right:.25em}.range-value_right.svelte-vhx0r0{left:calc(100% + 5px + .25em)}.range-slider-container.svelte-xdlm7u{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-xdlm7u:focus-visible{outline:solid 2px;outline-offset:2px}.range-slider.svelte-xdlm7u{position:relative;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-radius:2px;text-align:center;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_left.svelte-xdlm7u{justify-content:left}.range-slider_right.svelte-xdlm7u{justify-content:right}.range-value.svelte-xdlm7u{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value_left.svelte-xdlm7u{position:relative;left:calc(100% + .25em)}.range-value_right.svelte-xdlm7u{position:relative;right:calc(100% + .25em)}input.svelte-1i17tox{display:none}.selector.svelte-1i17tox{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.selector.svelte-1i17tox:focus-visible{outline:solid 2px;outline-offset:2px}.option.svelte-1i17tox{cursor:default;padding:.25em .5em;margin:0 .3em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em}.option.svelte-1i17tox:not(.selected):hover{border:1px solid}.file-selector.svelte-1k0x7uv>input:where(.svelte-1k0x7uv){display:none}.file-selector.svelte-1k0x7uv{display:flex;align-items:baseline;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0;border-radius:2px;cursor:default}.file-selector.svelte-1k0x7uv:focus-visible{outline:solid 2px;outline-offset:2px}.file-selector.svelte-1k0x7uv:before{display:inline-block;content:"⇪";font-size:1.1em;margin:0 .5em 0 0;padding:0}.file-selector.selected.svelte-1k0x7uv:before{content:"☷";font-size:1.3em;letter-spacing:-.2em;font-weight:700}.textinput.svelte-1qtiwcs{box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex;position:relative}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs){flex:1 1 auto;font-size:.9em;width:100%;cursor:default;padding:.25em .5em;border:1px solid;border-radius:.3em;outline:none}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):focus,.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):active{border:1px solid}.error-message.svelte-1qtiwcs{position:absolute;left:0;bottom:calc(100% + 2px);border-radius:.3em;line-height:1em;font-size:.75em;padding:.5em}.spinner.svelte-n48urb{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-n48urb:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid;animation:svelte-n48urb-spinner 1.2s linear infinite}@keyframes svelte-n48urb-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-yf64an{display:none}.selector.svelte-yf64an{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yf64an{cursor:default;padding:0;padding-inline:0;padding-block:0;margin:0 .2em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em;height:auto;display:flex;justify-content:center}.option.svelte-yf64an:not(.selected):hover{border:1px solid}.number-container.svelte-giqvuu{box-sizing:border-box;flex:0 1 auto;height:1.5em;margin:0 5px 0 0;padding:0;width:auto;border-radius:2px;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:grid;grid-template-areas:"value up" "value down";grid-template-columns:1fr 1em;grid-template-rows:1fr 1fr;justify-items:center;align-items:center}.number-container.svelte-giqvuu:focus-visible{outline:solid 2px;outline-offset:2px}.value.svelte-giqvuu{grid-area:value;box-sizing:border-box;height:100%;display:block;padding:.1em .1em .1em .3em;text-align:right}.button-small.svelte-giqvuu{padding:0;margin:0;border:none;background:none;outline:none;width:.6em;height:.6em;box-sizing:border-box;font-size:inherit;display:flex;align-items:center;justify-content:center}.button-small.svelte-giqvuu>svg:where(.svelte-giqvuu){font-size:inherit;width:.6em;height:.6em}.button-up.svelte-giqvuu{grid-area:up}.button-down.svelte-giqvuu{grid-area:down}.color-picker.svelte-1ajmk4v{width:3em;height:1.25em;margin-right:2px;background:#000;border:3px solid #f0f0f0;border-radius:2px}input[type=color i].svelte-1ajmk4v{width:0;height:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent}.dataset-info.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name:where(.svelte-gdjwex),.dataset-info.svelte-gdjwex>.file-size:where(.svelte-gdjwex){display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}.buttons.svelte-t7v4gx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}table.svelte-16n1t3l{width:100%;border-collapse:collapse;font-size:.85em;margin-top:1em}tr.svelte-16n1t3l{width:100%}th.svelte-16n1t3l{border-bottom:1px solid #a0a0a0}th.svelte-16n1t3l,td.svelte-16n1t3l{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}td.svelte-16n1t3l{color:#a0a0a0}tr.global.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#404040}tr.current.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#2679b2}tr.selected.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#d22c2f}.show-download-links-none.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){display:none}.show-download-links-hover.svelte-1jtdxd0:hover>.download-links:where(.svelte-1jtdxd0){bottom:0}.show-download-links-fixed.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){bottom:0}.download-links.svelte-1jtdxd0{position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0){box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0):hover{background:#433;color:#fafafa}.download-links.svelte-1jtdxd0>button.error{background:#e43}.download-links.svelte-1jtdxd0>button.copied{background:#48e}.plot-container.svelte-1jtdxd0{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot-error.svelte-1jtdxd0{display:flex;justify-content:center;align-items:center}.message-error.svelte-1jtdxd0{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-1jtdxd0{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-1jtdxd0{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.selected-buttons.svelte-8mh2yv>.control-element{background:#fff0c8}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type{color:#fff;border-color:#dc143c;background:#dc143c;margin-left:5px}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type:hover{background:#dc143c20;border-color:#dc143c80;color:#dc143c}.plot-panel.svelte-8mh2yv{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-8mh2yv{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-8mh2yv{padding:0 .25em 0 .5em}.plot-selector.svelte-8mh2yv{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-8mh2yv:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:#fff;z-index:999}.plot.svelte-8mh2yv{width:100%;height:calc(100% - 15px)}.plot-select-msg.svelte-8mh2yv{height:15px;font-size:12px;color:#aaa;text-align:center}@media (min-width:1100px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr 400px}}.app-container.svelte-vtn33g{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-vtn33g{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-vtn33g{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-vtn33g>div:where(.svelte-vtn33g){background:#e8e8e8;border-radius:.25rem}.help-text.svelte-vtn33g{margin-top:.25rem}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g),.help-text.svelte-vtn33g>div:where(.svelte-vtn33g){background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-vtn33g table:where(.svelte-vtn33g){border-collapse:collapse}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g){padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) tr:where(.svelte-vtn33g):first-child td:where(.svelte-vtn33g){font-weight:700;background:#f8f4e0}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g):first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g):nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g):first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g):last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.app-controls.svelte-vtn33g>.downloads-widget:where(.svelte-vtn33g){background:#d0d0d0}.downloads-widget.svelte-vtn33g>div{background:#f0f0f0}.select-tarset-type button{margin-right:5px}@media (min-width:1300px){.app-container.svelte-vtn33g{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-vtn33g{grid-template-columns:min(320px,30%) 1fr}}
/*$vite$:1*/`,document.head.appendChild(Be);var be=typeof document<"u"?document.currentScript:null;const et=!1;var Pr=Array.isArray,va=Array.prototype.indexOf,os=Array.from,da=Object.defineProperty,cr=Object.getOwnPropertyDescriptor,vo=Object.getOwnPropertyDescriptors,ha=Object.prototype,ma=Array.prototype,ls=Object.getPrototypeOf,ho=Object.isExtensible;function Tr(t){return typeof t=="function"}const gt=()=>{};function ga(t){return typeof(t==null?void 0:t.then)=="function"}function pa(t){return t()}function bn(t){for(var e=0;e<t.length;e++)t[e]()}const Kt=2,mo=4,wn=8,_n=16,rr=32,Rr=64,yn=128,Lt=256,xn=512,At=1024,nr=2048,Lr=4096,sr=8192,En=16384,go=32768,jr=65536,ba=1<<17,wa=1<<19,po=1<<20,as=1<<21,ur=Symbol("$state"),bo=Symbol("legacy props"),_a=Symbol("");function wo(t){return t===this.v}function _o(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ya(t,e){return t!==e}function is(t){return!_o(t,this.v)}function xa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ea(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ka(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ca(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Aa(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Sa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ma(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Na(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ir=!1,za=!1;function Pa(){Ir=!0}const cs=1,us=2,yo=4,Ta=8,Ra=16,La=1,ja=2,Ia=4,Fa=8,qa=16,Va=4,xo=1,Oa=2,ct=Symbol(),Da="http://www.w3.org/1999/xhtml";function Eo(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let je=null;function kn(t){je=t}function Dt(t){return ko().get(t)}function Ba(t,e){return ko().set(t,e),e}function de(t,e=!1,r){var s=je={p:je,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ir&&!e&&(je.l={s:null,u:null,r1:[],r2:_r(!1)}),Lo(()=>{s.d=!0})}function he(t){const e=je;if(e!==null){const c=e.e;if(c!==null){var r=Ie,s=ze;e.e=null;try{for(var l=0;l<c.length;l++){var a=c[l];jt(a.effect),_t(a.reaction),Qr(a.fn)}}finally{jt(r),_t(s)}}je=e.p,e.m=!0}return{}}function wr(){return!Ir||je!==null&&je.l===null}function ko(t){return je===null&&Eo(),je.c??(je.c=new Map(Wa(je)||void 0))}function Wa(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}function Ge(t,e){if(typeof t!="object"||t===null||ur in t)return t;const r=ls(t);if(r!==ha&&r!==ma)return t;var s=new Map,l=Pr(t),a=ae(0),c=ze,v=u=>{var f=ze;_t(c);var h;return h=u(),_t(f),h};return l&&s.set("length",ae(t.length)),new Proxy(t,{defineProperty(u,f,h){(!("value"in h)||h.configurable===!1||h.enumerable===!1||h.writable===!1)&&Sa();var d=s.get(f);return d===void 0?(d=v(()=>ae(h.value)),s.set(f,d)):X(d,v(()=>Ge(h.value))),!0},deleteProperty(u,f){var h=s.get(f);if(h===void 0)f in u&&s.set(f,v(()=>ae(ct)));else{if(l&&typeof f=="string"){var d=s.get("length"),m=Number(f);Number.isInteger(m)&&m<d.v&&X(d,m)}X(h,ct),Co(a)}return!0},get(u,f,h){var b;if(f===ur)return t;var d=s.get(f),m=f in u;if(d===void 0&&(!m||(b=cr(u,f))!=null&&b.writable)&&(d=v(()=>ae(Ge(m?u[f]:ct))),s.set(f,d)),d!==void 0){var g=o(d);return g===ct?void 0:g}return Reflect.get(u,f,h)},getOwnPropertyDescriptor(u,f){var h=Reflect.getOwnPropertyDescriptor(u,f);if(h&&"value"in h){var d=s.get(f);d&&(h.value=o(d))}else if(h===void 0){var m=s.get(f),g=m==null?void 0:m.v;if(m!==void 0&&g!==ct)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return h},has(u,f){var g;if(f===ur)return!0;var h=s.get(f),d=h!==void 0&&h.v!==ct||Reflect.has(u,f);if(h!==void 0||Ie!==null&&(!d||(g=cr(u,f))!=null&&g.writable)){h===void 0&&(h=v(()=>ae(d?Ge(u[f]):ct)),s.set(f,h));var m=o(h);if(m===ct)return!1}return d},set(u,f,h,d){var N;var m=s.get(f),g=f in u;if(l&&f==="length")for(var b=h;b<m.v;b+=1){var w=s.get(b+"");w!==void 0?X(w,ct):b in u&&(w=v(()=>ae(ct)),s.set(b+"",w))}m===void 0?(!g||(N=cr(u,f))!=null&&N.writable)&&(m=v(()=>ae(void 0)),X(m,v(()=>Ge(h))),s.set(f,m)):(g=m.v!==ct,X(m,v(()=>Ge(h))));var p=Reflect.getOwnPropertyDescriptor(u,f);if(p!=null&&p.set&&p.set.call(d,h),!g){if(l&&typeof f=="string"){var y=s.get("length"),C=Number(f);Number.isInteger(C)&&C>=y.v&&X(y,C+1)}Co(a)}return!0},ownKeys(u){o(a);var f=Reflect.ownKeys(u).filter(m=>{var g=s.get(m);return g===void 0||g.v!==ct});for(var[h,d]of s)d.v!==ct&&!(h in u)&&f.push(h);return f},setPrototypeOf(){Ma()}})}function Co(t,e=1){X(t,t.v+e)}const Xr=new Map;function _r(t,e){var r={f:0,v:t,reactions:null,equals:wo,rv:0,wv:0};return r}function ae(t,e){const r=_r(t);return Wo(r),r}function Cn(t,e=!1){var s;const r=_r(t);return e||(r.equals=is),Ir&&je!==null&&je.l!==null&&((s=je.l).s??(s.s=[])).push(r),r}function X(t,e,r=!1){ze!==null&&!Qt&&wr()&&(ze.f&(Kt|_n))!==0&&!(pt!=null&&pt.includes(t))&&Na();let s=r?Ge(e):e;return Fr(t,s)}function Fr(t,e){if(!t.equals(e)){var r=t.v;$r?Xr.set(t,e):Xr.set(t,r),t.v=e,t.wv=Yo(),Ao(t,nr),wr()&&Ie!==null&&(Ie.f&At)!==0&&(Ie.f&(rr|Rr))===0&&(It===null?ti([t]):It.push(t))}return e}function Ao(t,e){var r=t.reactions;if(r!==null)for(var s=wr(),l=r.length,a=0;a<l;a++){var c=r[a],v=c.f;(v&nr)===0&&(!s&&c===Ie||(Zt(c,e),(v&(At|Lt))!==0&&((v&Kt)!==0?Ao(c,Lr):Rn(c))))}}let Ua=!1;var fs,So,Mo,No;function Ya(){if(fs===void 0){fs=window,So=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Mo=cr(e,"firstChild").get,No=cr(e,"nextSibling").get,ho(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ho(r)&&(r.__t=void 0)}}function vs(t=""){return document.createTextNode(t)}function St(t){return Mo.call(t)}function An(t){return No.call(t)}function D(t,e){return St(t)}function $(t,e){{var r=St(t);return r instanceof Comment&&r.data===""?An(r):r}}function I(t,e=1,r=!1){let s=t;for(;e--;)s=An(s);return s}function Ga(t){t.textContent=""}function qr(t){var e=Kt|nr,r=ze!==null&&(ze.f&Kt)!==0?ze:null;return Ie===null||r!==null&&(r.f&Lt)!==0?e|=Lt:Ie.f|=po,{ctx:je,deps:null,effects:null,equals:wo,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??Ie}}function T(t){const e=qr(t);return Wo(e),e}function zo(t){const e=qr(t);return e.equals=is,e}function Po(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Xt(e[r])}}function Ha(t){for(var e=t.parent;e!==null;){if((e.f&Kt)===0)return e;e=e.parent}return null}function Ka(t){var e,r=Ie;jt(Ha(t));try{Po(t),e=Ho(t)}finally{jt(r)}return e}function To(t){var e=Ka(t),r=(vr||(t.f&Lt)!==0)&&t.deps!==null?Lr:At;Zt(t,r),t.equals(e)||(t.v=e,t.wv=Yo())}function Ro(t){Ie===null&&ze===null&&ka(),ze!==null&&(ze.f&Lt)!==0&&Ie===null&&Ea(),$r&&xa()}function Xa(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Vr(t,e,r,s=!0){var l=Ie,a={ctx:je,deps:null,nodes_start:null,nodes_end:null,f:t|nr,first:null,fn:e,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(r)try{gs(a),a.f|=go}catch(u){throw Xt(a),u}else e!==null&&Rn(a);var c=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(po|yn))===0;if(!c&&s&&(l!==null&&Xa(a,l),ze!==null&&(ze.f&Kt)!==0)){var v=ze;(v.effects??(v.effects=[])).push(a)}return a}function Lo(t){const e=Vr(wn,null,!1);return Zt(e,At),e.teardown=t,e}function me(t){Ro();var e=Ie!==null&&(Ie.f&rr)!==0&&je!==null&&!je.m;if(e){var r=je;(r.e??(r.e=[])).push({fn:t,effect:Ie,reaction:ze})}else{var s=Qr(t);return s}}function Qa(t){return Ro(),ds(t)}function Ja(t){const e=Vr(Rr,t,!0);return(r={})=>new Promise(s=>{r.outro?or(e,()=>{Xt(e),s(void 0)}):(Xt(e),s(void 0))})}function Qr(t){return Vr(mo,t,!1)}function ds(t){return Vr(wn,t,!0)}function ne(t,e=[],r=qr){const s=e.map(r);return fr(()=>t(...s.map(o)))}function fr(t,e=0){return Vr(wn|_n|e,t,!0)}function Bt(t,e=!0){return Vr(wn|rr,t,!0,e)}function jo(t){var e=t.teardown;if(e!==null){const r=$r,s=ze;Bo(!0),_t(null);try{e.call(null)}finally{Bo(r),_t(s)}}}function Io(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var s=r.next;(r.f&Rr)!==0?r.parent=null:Xt(r,e),r=s}}function Za(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&rr)===0&&Xt(e),e=r}}function Xt(t,e=!0){var r=!1;if((e||(t.f&wa)!==0)&&t.nodes_start!==null){for(var s=t.nodes_start,l=t.nodes_end;s!==null;){var a=s===l?null:An(s);s.remove(),s=a}r=!0}Io(t,e&&!r),Tn(t,0),Zt(t,En);var c=t.transitions;if(c!==null)for(const u of c)u.stop();jo(t);var v=t.parent;v!==null&&v.first!==null&&Fo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Fo(t){var e=t.parent,r=t.prev,s=t.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=r))}function or(t,e){var r=[];hs(t,r,!0),qo(r,()=>{Xt(t),e&&e()})}function qo(t,e){var r=t.length;if(r>0){var s=()=>--r||e();for(var l of t)l.out(s)}else e()}function hs(t,e,r){if((t.f&sr)===0){if(t.f^=sr,t.transitions!==null)for(const c of t.transitions)(c.is_global||r)&&e.push(c);for(var s=t.first;s!==null;){var l=s.next,a=(s.f&jr)!==0||(s.f&rr)!==0;hs(s,e,a?r:!1),s=l}}}function Or(t){Vo(t,!0)}function Vo(t,e){if((t.f&sr)!==0){t.f^=sr,(t.f&At)===0&&(t.f^=At),tn(t)&&(Zt(t,nr),Rn(t));for(var r=t.first;r!==null;){var s=r.next,l=(r.f&jr)!==0||(r.f&rr)!==0;Vo(r,l?e:!1),r=s}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let Jr=[],ms=[];function Oo(){var t=Jr;Jr=[],bn(t)}function $a(){var t=ms;ms=[],bn(t)}function Zr(t){Jr.length===0&&queueMicrotask(Oo),Jr.push(t)}function Do(){Jr.length>0&&Oo(),ms.length>0&&$a()}let Sn=!1,Mn=!1,Nn=null,yr=!1,$r=!1;function Bo(t){$r=t}let en=[],Bd=[],ze=null,Qt=!1;function _t(t){ze=t}let Ie=null;function jt(t){Ie=t}let pt=null;function ei(t){pt=t}function Wo(t){ze!==null&&ze.f&as&&(pt===null?ei([t]):pt.push(t))}let bt=null,Mt=0,It=null;function ti(t){It=t}let Uo=1,zn=0,vr=!1;function Yo(){return++Uo}function tn(t){var d;var e=t.f;if((e&nr)!==0)return!0;if((e&Lr)!==0){var r=t.deps,s=(e&Lt)!==0;if(r!==null){var l,a,c=(e&xn)!==0,v=s&&Ie!==null&&!vr,u=r.length;if(c||v){var f=t,h=f.parent;for(l=0;l<u;l++)a=r[l],(c||!((d=a==null?void 0:a.reactions)!=null&&d.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);c&&(f.f^=xn),v&&h!==null&&(h.f&Lt)===0&&(f.f^=Lt)}for(l=0;l<u;l++)if(a=r[l],tn(a)&&To(a),a.wv>t.wv)return!0}(!s||Ie!==null&&!vr)&&Zt(t,At)}return!1}function ri(t,e){for(var r=e;r!==null;){if((r.f&yn)!==0)try{r.fn(t);return}catch{r.f^=yn}r=r.parent}throw Sn=!1,t}function ni(t){return(t.f&En)===0&&(t.parent===null||(t.parent.f&yn)===0)}function Pn(t,e,r,s){if(Sn){if(r===null&&(Sn=!1),ni(e))throw t;return}r!==null&&(Sn=!0);{ri(t,e);return}}function Go(t,e,r=!0){var s=t.reactions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];pt!=null&&pt.includes(t)||((a.f&Kt)!==0?Go(a,e,!1):e===a&&(r?Zt(a,nr):(a.f&At)!==0&&Zt(a,Lr),Rn(a)))}}function Ho(t){var g;var e=bt,r=Mt,s=It,l=ze,a=vr,c=pt,v=je,u=Qt,f=t.f;bt=null,Mt=0,It=null,vr=(f&Lt)!==0&&(Qt||!yr||ze===null),ze=(f&(rr|Rr))===0?t:null,pt=null,kn(t.ctx),Qt=!1,zn++,t.f|=as;try{var h=(0,t.fn)(),d=t.deps;if(bt!==null){var m;if(Tn(t,Mt),d!==null&&Mt>0)for(d.length=Mt+bt.length,m=0;m<bt.length;m++)d[Mt+m]=bt[m];else t.deps=d=bt;if(!vr)for(m=Mt;m<d.length;m++)((g=d[m]).reactions??(g.reactions=[])).push(t)}else d!==null&&Mt<d.length&&(Tn(t,Mt),d.length=Mt);if(wr()&&It!==null&&!Qt&&d!==null&&(t.f&(Kt|Lr|nr))===0)for(m=0;m<It.length;m++)Go(It[m],t);return l!==null&&(zn++,It!==null&&(s===null?s=It:s.push(...It))),h}finally{bt=e,Mt=r,It=s,ze=l,vr=a,pt=c,kn(v),Qt=u,t.f^=as}}function si(t,e){let r=e.reactions;if(r!==null){var s=va.call(r,t);if(s!==-1){var l=r.length-1;l===0?r=e.reactions=null:(r[s]=r[l],r.pop())}}r===null&&(e.f&Kt)!==0&&(bt===null||!bt.includes(e))&&(Zt(e,Lr),(e.f&(Lt|xn))===0&&(e.f^=xn),Po(e),Tn(e,0))}function Tn(t,e){var r=t.deps;if(r!==null)for(var s=e;s<r.length;s++)si(t,r[s])}function gs(t){var e=t.f;if((e&En)===0){Zt(t,At);var r=Ie,s=je,l=yr;Ie=t,yr=!0;try{(e&_n)!==0?Za(t):Io(t),jo(t);var a=Ho(t);t.teardown=typeof a=="function"?a:null,t.wv=Uo;var c=t.deps,v;et&&za&&t.f&nr}catch(u){Pn(u,t,r,s||t.ctx)}finally{yr=l,Ie=r}}}function oi(){try{Ca()}catch(t){if(Nn!==null)Pn(t,Nn,null);else throw t}}function Ko(){var t=yr;try{var e=0;for(yr=!0;en.length>0;){e++>1e3&&oi();var r=en,s=r.length;en=[];for(var l=0;l<s;l++){var a=ai(r[l]);li(a)}}}finally{Mn=!1,yr=t,Nn=null,Xr.clear()}}function li(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var s=t[r];if((s.f&(En|sr))===0)try{tn(s)&&(gs(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null?Fo(s):s.fn=null))}catch(l){Pn(l,s,null,s.ctx)}}}function Rn(t){Mn||(Mn=!0,queueMicrotask(Ko));for(var e=Nn=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Rr|rr))!==0){if((r&At)===0)return;e.f^=At}}en.push(e)}function ai(t){for(var e=[],r=t;r!==null;){var s=r.f,l=(s&(rr|Rr))!==0,a=l&&(s&At)!==0;if(!a&&(s&sr)===0){if((s&mo)!==0)e.push(r);else if(l)r.f^=At;else{var c=ze;try{ze=r,tn(r)&&gs(r)}catch(f){Pn(f,r,null,r.ctx)}finally{ze=c}}var v=r.first;if(v!==null){r=v;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function ii(t){var e;for(Do();en.length>0;)Mn=!0,Ko(),Do();return e}function o(t){var e=t.f,r=(e&Kt)!==0;if(ze!==null&&!Qt){if(!(pt!=null&&pt.includes(t))){var s=ze.deps;t.rv<zn&&(t.rv=zn,bt===null&&s!==null&&s[Mt]===t?Mt++:bt===null?bt=[t]:(!vr||!bt.includes(t))&&bt.push(t))}}else if(r&&t.deps===null&&t.effects===null){var l=t,a=l.parent;a!==null&&(a.f&Lt)===0&&(l.f^=Lt)}return r&&(l=t,tn(l)&&To(l)),$r&&Xr.has(t)?Xr.get(t):t.v}function Jt(t){var e=Qt;try{return Qt=!0,t()}finally{Qt=e}}const ci=-7169;function Zt(t,e){t.f=t.f&ci|e}function ui(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ur in t)ps(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&ur in r&&ps(r)}}}function ps(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let s in t)try{ps(t[s],e)}catch{}const r=ls(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=vo(r);for(let l in s){const a=s[l].get;if(a)try{a.call(t)}catch{}}}}}const fi=["touchstart","touchmove"];function vi(t){return fi.includes(t)}let Xo=!1;function di(){Xo||(Xo=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function bs(t){var e=ze,r=Ie;_t(null),jt(null);try{return t()}finally{_t(e),jt(r)}}function hi(t,e,r,s=r){t.addEventListener(e,()=>bs(r));const l=t.__on_r;l?t.__on_r=()=>{l(),s(!0)}:t.__on_r=()=>s(!0),di()}const Qo=new Set,ws=new Set;function mi(t,e,r,s={}){function l(a){if(s.capture||rn.call(e,a),!a.cancelBubble)return bs(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Zr(()=>{e.addEventListener(t,l,s)}):e.addEventListener(t,l,s),l}function Ln(t,e,r,s,l){var a={capture:s,passive:l},c=mi(t,e,r,a);(e===document.body||e===window||e===document)&&Lo(()=>{e.removeEventListener(t,c,a)})}function tt(t){for(var e=0;e<t.length;e++)Qo.add(t[e]);for(var r of ws)r(t)}function rn(t){var C;var e=this,r=e.ownerDocument,s=t.type,l=((C=t.composedPath)==null?void 0:C.call(t))||[],a=l[0]||t.target,c=0,v=t.__root;if(v){var u=l.indexOf(v);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var f=l.indexOf(e);if(f===-1)return;u<=f&&(c=u)}if(a=l[c]||t.target,a!==e){da(t,"currentTarget",{configurable:!0,get(){return a||r}});var h=ze,d=Ie;_t(null),jt(null);try{for(var m,g=[];a!==null;){var b=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+s];if(w!=null&&(!a.disabled||t.target===a))if(Pr(w)){var[p,...y]=w;p.apply(a,[t,...y])}else w.call(a,t)}catch(N){m?g.push(N):m=N}if(t.cancelBubble||b===e||b===null)break;a=b}if(m){for(let N of g)queueMicrotask(()=>{throw N});throw m}}finally{t.__root=e,delete t.currentTarget,_t(h),jt(d)}}}function _s(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Dr(t,e){var r=Ie;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Q(t,e){var r=(e&xo)!==0,s=(e&Oa)!==0,l,a=!t.startsWith("<!>");return()=>{l===void 0&&(l=_s(a?t:"<!>"+t),r||(l=St(l)));var c=s||So?document.importNode(l,!0):l.cloneNode(!0);if(r){var v=St(c),u=c.lastChild;Dr(v,u)}else Dr(c,c);return c}}function ge(t,e,r="svg"){var s=!t.startsWith("<!>"),l=(e&xo)!==0,a=`<${r}>${s?t:"<!>"+t}</${r}>`,c;return()=>{if(!c){var v=_s(a),u=St(v);if(l)for(c=document.createDocumentFragment();St(u);)c.appendChild(St(u));else c=St(u)}var f=c.cloneNode(!0);if(l){var h=St(f),d=f.lastChild;Dr(h,d)}else Dr(f,f);return f}}function ue(){var t=document.createDocumentFragment(),e=document.createComment(""),r=vs();return t.append(e,r),Dr(e,r),t}function R(t,e){t!==null&&t.before(e)}let ys=!0;function le(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function gi(t,e){return pi(t,e)}const Br=new Map;function pi(t,{target:e,anchor:r,props:s={},events:l,context:a,intro:c=!0}){Ya();var v=new Set,u=d=>{for(var m=0;m<d.length;m++){var g=d[m];if(!v.has(g)){v.add(g);var b=vi(g);e.addEventListener(g,rn,{passive:b});var w=Br.get(g);w===void 0?(document.addEventListener(g,rn,{passive:b}),Br.set(g,1)):Br.set(g,w+1)}}};u(os(Qo)),ws.add(u);var f=void 0,h=Ja(()=>{var d=r??e.appendChild(vs());return Bt(()=>{if(a){de({});var m=je;m.c=a}l&&(s.$$events=l),ys=c,f=t(d,s)||{},ys=!0,a&&he()}),()=>{var b;for(var m of v){e.removeEventListener(m,rn);var g=Br.get(m);--g===0?(document.removeEventListener(m,rn),Br.delete(m)):Br.set(m,g)}ws.delete(u),d!==r&&((b=d.parentNode)==null||b.removeChild(d))}});return bi.set(f,h),f}let bi=new WeakMap;const xs=0,jn=1,Es=2;function ks(t,e,r,s,l){var a=t,c=wr(),v=je,u=ct,f,h,d,m=(c?_r:Cn)(void 0),g=(c?_r:Cn)(void 0),b=!1;function w(y,C){b=!0,C&&(jt(p),_t(p),kn(v));try{y===xs&&r&&(f?Or(f):f=Bt(()=>r(a))),y===Es&&l&&(d?Or(d):d=Bt(()=>l(a,g))),y!==xs&&f&&or(f,()=>f=null),y!==jn&&h&&or(h,()=>h=null),y!==Es&&d&&or(d,()=>d=null)}finally{C&&(kn(null),_t(null),jt(null),ii())}}var p=fr(()=>{if(u!==(u=e())){if(ga(u)){var y=u;b=!1,y.then(C=>{y===u&&(Fr(m,C),w(jn,!0))},C=>{if(y===u&&(Fr(g,C),w(Es,!0),!l))throw g.v}),Zr(()=>{b||w(xs,!0)})}else Fr(m,u),w(jn,!1);return()=>u=ct}})}function U(t,e,[r,s]=[0,0]){var l=t,a=null,c=null,v=ct,u=r>0?jr:0,f=!1;const h=(m,g=!0)=>{f=!0,d(g,m)},d=(m,g)=>{v!==(v=m)&&(v?(a?Or(a):g&&(a=Bt(()=>g(l))),c&&or(c,()=>{c=null})):(c?Or(c):g&&(c=Bt(()=>g(l,[r+1,s]))),a&&or(a,()=>{a=null})))};fr(()=>{f=!1,e(h),f||d(null,null)},u)}function Jo(t,e,r){var s=t,l=ct,a,c=wr()?ya:_o;fr(()=>{c(l,l=e())&&(a&&or(a),a=Bt(()=>r(s)))})}function Xe(t,e){return e}function wi(t,e,r,s){for(var l=[],a=e.length,c=0;c<a;c++)hs(e[c].e,l,!0);var v=a>0&&l.length===0&&r!==null;if(v){var u=r.parentNode;Ga(u),u.append(r),s.clear(),dr(t,e[0].prev,e[a-1].next)}qo(l,()=>{for(var f=0;f<a;f++){var h=e[f];v||(s.delete(h.k),dr(t,h.prev,h.next)),Xt(h.e,!v)}})}function He(t,e,r,s,l,a=null){var c=t,v={flags:e,items:new Map,first:null},u=(e&yo)!==0;if(u){var f=t;c=f.appendChild(vs())}var h=null,d=!1,m=zo(()=>{var g=r();return Pr(g)?g:g==null?[]:os(g)});fr(()=>{var g=o(m),b=g.length;d&&b===0||(d=b===0,_i(g,v,c,l,e,s,r),a!==null&&(b===0?h?Or(h):h=Bt(()=>a(c)):h!==null&&or(h,()=>{h=null})),o(m))})}function _i(t,e,r,s,l,a,c){var q,B,F,H;var v=(l&Ta)!==0,u=(l&(cs|us))!==0,f=t.length,h=e.items,d=e.first,m=d,g,b=null,w,p=[],y=[],C,N,E,_;if(v)for(_=0;_<f;_+=1)C=t[_],N=a(C,_),E=h.get(N),E!==void 0&&((q=E.a)==null||q.measure(),(w??(w=new Set)).add(E));for(_=0;_<f;_+=1){if(C=t[_],N=a(C,_),E=h.get(N),E===void 0){var M=m?m.e.nodes_start:r;b=xi(M,e,b,b===null?e.first:b.next,C,N,_,s,l,c),h.set(N,b),p=[],y=[],m=b.next;continue}if(u&&yi(E,C,_,l),(E.e.f&sr)!==0&&(Or(E.e),v&&((B=E.a)==null||B.unfix(),(w??(w=new Set)).delete(E))),E!==m){if(g!==void 0&&g.has(E)){if(p.length<y.length){var k=y[0],A;b=k.prev;var z=p[0],L=p[p.length-1];for(A=0;A<p.length;A+=1)Zo(p[A],k,r);for(A=0;A<y.length;A+=1)g.delete(y[A]);dr(e,z.prev,L.next),dr(e,b,z),dr(e,L,k),m=k,b=L,_-=1,p=[],y=[]}else g.delete(E),Zo(E,m,r),dr(e,E.prev,E.next),dr(e,E,b===null?e.first:b.next),dr(e,b,E),b=E;continue}for(p=[],y=[];m!==null&&m.k!==N;)(m.e.f&sr)===0&&(g??(g=new Set)).add(m),y.push(m),m=m.next;if(m===null)continue;E=m}p.push(E),b=E,m=E.next}if(m!==null||g!==void 0){for(var S=g===void 0?[]:os(g);m!==null;)(m.e.f&sr)===0&&S.push(m),m=m.next;var P=S.length;if(P>0){var j=(l&yo)!==0&&f===0?r:null;if(v){for(_=0;_<P;_+=1)(F=S[_].a)==null||F.measure();for(_=0;_<P;_+=1)(H=S[_].a)==null||H.fix()}wi(e,S,j,h)}}v&&Zr(()=>{var G;if(w!==void 0)for(E of w)(G=E.a)==null||G.apply()}),Ie.first=e.first&&e.first.e,Ie.last=b&&b.e}function yi(t,e,r,s){(s&cs)!==0&&Fr(t.v,e),(s&us)!==0?Fr(t.i,r):t.i=r}function xi(t,e,r,s,l,a,c,v,u,f){var h=(u&cs)!==0,d=(u&Ra)===0,m=h?d?Cn(l):_r(l):l,g=(u&us)===0?c:_r(c),b={i:g,v:m,k:a,a:null,e:null,prev:r,next:s};try{return b.e=Bt(()=>v(t,m,g,f),Ua),b.e.prev=r&&r.e,b.e.next=s&&s.e,r===null?e.first=b:(r.next=b,r.e.next=b.e),s!==null&&(s.prev=b,s.e.prev=b.e),b}finally{}}function Zo(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,l=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==s;){var c=An(a);l.before(a),a=c}}function dr(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function yt(t,e,r,s,l){var a=t,c="",v;fr(()=>{c!==(c=e()??"")&&(v!==void 0&&(Xt(v),v=void 0),c!==""&&(v=Bt(()=>{var u=c+"";r&&(u=`<svg>${u}</svg>`);var f=_s(u);if((r||s)&&(f=St(f)),Dr(St(f),f.lastChild),r||s)for(;St(f);)a.before(St(f));else a.before(f)})))})}function xr(t,e,...r){var s=t,l=gt,a;fr(()=>{l!==(l=e())&&(a&&(Xt(a),a=null),a=Bt(()=>l(s,...r)))},jr)}function Cs(t,e,r){var s=t,l,a;fr(()=>{l!==(l=e())&&(a&&(or(a),a=null),l&&(a=Bt(()=>r(s,l))))},jr)}function $o(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(r=$o(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Ei(){for(var t,e,r=0,s="",l=arguments.length;r<l;r++)(t=arguments[r])&&(e=$o(t))&&(s&&(s+=" "),s+=e);return s}function ki(t){return typeof t=="object"?Ei(t):t??""}const el=[...`
\r\f \v\uFEFF`];function Ci(t,e,r){var s=t==null?"":""+t;if(e&&(s=s?s+" "+e:e),r){for(var l in r)if(r[l])s=s?s+" "+l:l;else if(s.length)for(var a=l.length,c=0;(c=s.indexOf(l,c))>=0;){var v=c+a;(c===0||el.includes(s[c-1]))&&(v===s.length||el.includes(s[v]))?s=(c===0?"":s.substring(0,c))+s.substring(v+1):c=v}}return s===""?null:s}function Ai(t,e){return t==null?null:String(t)}function vt(t,e,r,s,l,a){var c=t.__className;if(c!==r||c===void 0){var v=Ci(r,s,a);v==null?t.removeAttribute("class"):e?t.className=v:t.setAttribute("class",v),t.__className=r}else if(a&&l!==a)for(var u in a){var f=!!a[u];(l==null||f!==!!l[u])&&t.classList.toggle(u,f)}return a}function Wt(t,e,r,s){var l=t.__style;if(l!==e){var a=Ai(e);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}return s}const Si=Symbol("is custom element"),Mi=Symbol("is html");function V(t,e,r,s){var l=Ni(t);l[e]!==(l[e]=r)&&(e==="loading"&&(t[_a]=r),r==null?t.removeAttribute(e):typeof r!="string"&&zi(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Ni(t){return t.__attributes??(t.__attributes={[Si]:t.nodeName.includes("-"),[Mi]:t.namespaceURI===Da})}var tl=new Map;function zi(t){var e=tl.get(t.nodeName);if(e)return e;tl.set(t.nodeName,e=[]);for(var r,s=t,l=Element.prototype;l!==s;){r=vo(s);for(var a in r)r[a].set&&e.push(a);s=ls(s)}return e}const Pi=()=>performance.now(),lr={tick:t=>requestAnimationFrame(t),now:()=>Pi(),tasks:new Set};function rl(){const t=lr.now();lr.tasks.forEach(e=>{e.c(t)||(lr.tasks.delete(e),e.f())}),lr.tasks.size!==0&&lr.tick(rl)}function Ti(t){let e;return lr.tasks.size===0&&lr.tick(rl),{promise:new Promise(r=>{lr.tasks.add(e={c:t,f:r})}),abort(){lr.tasks.delete(e)}}}function In(t,e){bs(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ri(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function nl(t){const e={},r=t.split(";");for(const s of r){const[l,a]=s.split(":");if(!l||a===void 0)break;const c=Ri(l.trim());e[c]=a.trim()}return e}const Li=t=>t;function ji(t,e,r,s){var l=(t&Va)!==0,a="both",c,v=e.inert,u=e.style.overflow,f,h;function d(){var p=ze,y=Ie;_t(null),jt(null);try{return c??(c=r()(e,(s==null?void 0:s())??{},{direction:a}))}finally{_t(p),jt(y)}}var m={is_global:l,in(){e.inert=v,In(e,"introstart"),f=As(e,d(),h,1,()=>{In(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=u})},out(p){e.inert=!0,In(e,"outrostart"),h=As(e,d(),f,0,()=>{In(e,"outroend"),p==null||p()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},g=Ie;if((g.transitions??(g.transitions=[])).push(m),ys){var b=l;if(!b){for(var w=g.parent;w&&(w.f&jr)!==0;)for(;(w=w.parent)&&(w.f&_n)===0;);b=!w||(w.f&go)!==0}b&&Qr(()=>{Jt(()=>m.in())})}}function As(t,e,r,s,l){var a=s===1;if(Tr(e)){var c,v=!1;return Zr(()=>{if(!v){var p=e({direction:a?"in":"out"});c=As(t,p,r,s,l)}}),{abort:()=>{v=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return l(),{abort:gt,deactivate:gt,reset:gt,t:()=>s};const{delay:u=0,css:f,tick:h,easing:d=Li}=e;var m=[];if(a&&r===void 0&&(h&&h(0,1),f)){var g=nl(f(0,1));m.push(g,g)}var b=()=>1-s,w=t.animate(m,{duration:u});return w.onfinish=()=>{var p=(r==null?void 0:r.t())??1-s;r==null||r.abort();var y=s-p,C=e.duration*Math.abs(y),N=[];if(C>0){var E=!1;if(f)for(var _=Math.ceil(C/16.666666666666668),M=0;M<=_;M+=1){var k=p+y*d(M/_),A=nl(f(k,1-k));N.push(A),E||(E=A.overflow==="hidden")}E&&(t.style.overflow="hidden"),b=()=>{var z=w.currentTime;return p+y*d(z/C)},h&&Ti(()=>{if(w.playState!=="running")return!1;var z=b();return h(z,1-z),!0})}w=t.animate(N,{duration:C,fill:"forwards"}),w.onfinish=()=>{b=()=>s,h==null||h(s,1-s),l()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=gt)},deactivate:()=>{l=gt},reset:()=>{s===0&&(h==null||h(1,0))},t:()=>b()}}function sl(t,e,r=e){var s=wr();hi(t,"input",l=>{var a=l?t.defaultValue:t.value;if(a=Ss(t)?Ms(a):a,r(a),s&&a!==(a=e())){var c=t.selectionStart,v=t.selectionEnd;t.value=a??"",v!==null&&(t.selectionStart=c,t.selectionEnd=Math.min(v,t.value.length))}}),Jt(e)==null&&t.value&&r(Ss(t)?Ms(t.value):t.value),ds(()=>{var l=e();Ss(t)&&l===Ms(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function Ss(t){var e=t.type;return e==="number"||e==="range"}function Ms(t){return t===""?null:+t}const ns=class ns{constructor(e){pn(this,rs);pn(this,pr,new WeakMap);pn(this,Gr);pn(this,dn);fo(this,dn,e)}observe(e,r){var s=ir(this,pr).get(e)||new Set;return s.add(r),ir(this,pr).set(e,s),ua(this,rs,fa).call(this).observe(e,ir(this,dn)),()=>{var l=ir(this,pr).get(e);l.delete(r),l.size===0&&(ir(this,pr).delete(e),ir(this,Gr).unobserve(e))}}};pr=new WeakMap,Gr=new WeakMap,dn=new WeakMap,rs=new WeakSet,fa=function(){return ir(this,Gr)??fo(this,Gr,new ResizeObserver(e=>{for(var r of e){ns.entries.set(r.target,r);for(var s of ir(this,pr).get(r.target)||[])s(r)}}))},zr(ns,"entries",new WeakMap);let Ns=ns;var Ii=new Ns({box:"border-box"});function ol(t,e,r){var s=Ii.observe(t,()=>r(t[e]));Qr(()=>(Jt(()=>r(t[e])),s))}function ll(t,e){return t===e||(t==null?void 0:t[ur])===e}function Fn(t={},e,r,s){return Qr(()=>{var l,a;return ds(()=>{l=a,a=[],Jt(()=>{t!==r(...a)&&(e(t,...a),l&&ll(r(...l),t)&&e(null,...l))})}),()=>{Zr(()=>{a&&ll(r(...a),t)&&e(null,...a)})}}),t}function Fi(t=!1){const e=je,r=e.l.u;if(!r)return;let s=()=>ui(e.s);if(t){let l=0,a={};const c=qr(()=>{let v=!1;const u=e.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],v=!0);return v&&l++,l});s=()=>o(c)}r.b.length&&Qa(()=>{al(e,s),bn(r.b)}),me(()=>{const l=Jt(()=>r.m.map(pa));return()=>{for(const a of l)typeof a=="function"&&a()}}),r.a.length&&me(()=>{al(e,s),bn(r.a)})}function al(t,e){if(t.l.s)for(const r of t.l.s)o(r);e()}let qn=!1;function qi(t){var e=qn;try{return qn=!1,[t(),qn]}finally{qn=e}}const Vi={get(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(Tr(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,r){let s=t.props.length;for(;s--;){let l=t.props[s];Tr(l)&&(l=l());const a=cr(l,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(Tr(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const l=cr(s,e);return l&&!l.configurable&&(l.configurable=!0),l}}},has(t,e){if(e===ur||e===bo)return!1;for(let r of t.props)if(Tr(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props){Tr(r)&&(r=r());for(const s in r)e.includes(s)||e.push(s)}return e}};function Ve(...t){return new Proxy({props:t},Vi)}function il(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Y(t,e,r,s){var M;var l=(r&La)!==0,a=!Ir||(r&ja)!==0,c=(r&Fa)!==0,v=(r&qa)!==0,u=!1,f;c?[f,u]=qi(()=>t[e]):f=t[e];var h=ur in t||bo in t,d=c&&(((M=cr(t,e))==null?void 0:M.set)??(h&&e in t&&(k=>t[e]=k)))||void 0,m=s,g=!0,b=!1,w=()=>(b=!0,g&&(g=!1,v?m=Jt(s):m=s),m);f===void 0&&s!==void 0&&(d&&a&&Aa(),f=w(),d&&d(f));var p;if(a)p=()=>{var k=t[e];return k===void 0?w():(g=!0,b=!1,k)};else{var y=(l?qr:zo)(()=>t[e]);y.f|=ba,p=()=>{var k=o(y);return k!==void 0&&(m=void 0),k===void 0?m:k}}if((r&Ia)===0)return p;if(d){var C=t.$$legacy;return function(k,A){return arguments.length>0?((!a||!A||C||u)&&d(A?p():k),k):p()}}var N=!1,E=Cn(f),_=qr(()=>{var k=p(),A=o(E);return N?(N=!1,A):E.v=k});return c&&o(_),l||(_.equals=is),function(k,A){if(arguments.length>0){const z=A?o(_):a&&c?Ge(k):k;if(!_.equals(z)){if(N=!0,X(E,z),b&&m!==void 0&&(m=z),il(_))return k;Jt(()=>o(_))}return k}return il(_)?_.v:o(_)}}function Oi(t){je===null&&Eo(),Ir&&je.l!==null?Di(je).m.push(t):me(()=>{const e=Jt(t);if(typeof e=="function")return e})}function Di(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Bi="5";typeof window<"u"&&((aa=window.__svelte??(window.__svelte={})).v??(aa.v=new Set)).add(Bi),Pa();function cl(t){if(Pe(t))return cl(t.v);const e=new Ne.valuesConstructor(t.length-1);for(let r=0;r<t.length-1;r++)e[r]=t[r+1]-t[r];return new Ne(e)}function zs(t,e){return Pe(t)?zs(t.v,e):Math.sqrt(Vn(t,e))}function Vn(t,e){if(e===void 0&&(e=!1),Pe(t))return Vn(t.v);const r=Wr(t);let s=0;for(let l=0;l<t.length;l++){const a=t[l]-r;s=s+a*a}return s/(e?t.length:t.length-1)}function Wr(t){return Pe(t)?Wr(t.v):ul(t)/t.length}function ul(t){if(Pe(t))return ul(t.v);let e=0;for(let r=0;r<t.length;r++)e=e+t[r];return e}function fl(t){if(Pe(t))return fl(t.v);let e=1;for(let r=0;r<t.length;r++)e=e*t[r];return e}function Ur(t){return Pe(t)||Yt(t)?t.v[Ps(t.v)-1]:t[Ps(t)-1]}function Ps(t){if(Pe(t)||Yt(t))return Ps(t.v);let e=1,r=t[0];for(let s=2;s<=t.length;s++)t[s-1]<r&&(e=s,r=t[s-1]);return e}function Er(t){return Pe(t)||Yt(t)?t.v[Ts(t.v)-1]:t[Ts(t)-1]}function Ts(t){if(Pe(t)||Yt(t))return Ts(t.v);let e=1,r=t[0];for(let s=2;s<=t.length;s++)t[s-1]>r&&(e=s,r=t[s-1]);return e}const Rs=30,Wi=1e-7,Ui=1e-7,vl=1e-13,dl=1e3,Yi=100;function hl(t,e,r,s,l){s===void 0&&(s=dl),r===void 0&&(r=vl),l===void 0&&(l=Yi);let a=r,c=s,v=(c-a)/l;for(let u=0;u<l;u++){let f,h;for(let g=0;g<l;g++){f=a+g*v,h=a+(g+1)*v;const b=e(f),w=e(h);if(b<=t&&w>=t)break}const d=(f+h)/2,m=e(d);if(Math.abs(m-t)<Wi||(a=f,c=h,v=(c-a)/l,v/c<Ui))return d}return(a+c)/2}function ml(t,e=0,r=1){let s=Ne.zeros(t);for(let l=0;l<t;l++)s.v[l]=e+Math.random()*(r-e);return s}function gl(t,e=0,r=1){let s=Ne.zeros(t);for(let l=0;l<t;l++){const a=Math.sqrt(-2*Math.log(Math.random())),c=2*Math.PI*Math.random();s.v[l]=a*Math.sin(c)*r+e}return s}function On(t,e=0,r=1){if(Pe(t))return t.apply(l=>On(l,e,r));const s=1/(Math.sqrt(2)*r);return .5*(1+Hi((t-e)*s))}function Ls(t,e=0,r=1){if(Pe(t))return t.apply(j=>Ls(j,e,r));if(e!==0||r!==1)return Ls(t)*r+e;if(t<0||t>1)throw Error('Parameter "p" must be between 0 and 1.');if(t<1e-10)return-1/0;if(t>.9999999999)return 1/0;const s=.425,l=5,a=.180625,c=1.6,v=3.3871327179,u=5.0434271938*10,f=1.5929113202*100,h=5.910937472*10,d=1.7895169469*10,m=7.8757757664*10,g=6.71875636*10,b=1.4234372777,w=2.75681539,p=1.3067284816,y=1.7023821103*.1,C=7.370016425*.1,N=1.2021132975*.1,E=6.657905115,_=3.081226386,M=4.2868294337*.1,k=1.7337203997*.01,A=2.4197894225*.1,z=1.2258202635*.01,L=t-.5;let S;if(Math.abs(L)<=s)return S=a-L*L,L*(((h*S+f)*S+u)*S+v)/(((g*S+m)*S+d)*S+1);S=L<0?t:1-t,S=Math.sqrt(-Math.log(S));let P;return S<=l?(S=S-c,P=(((y*S+p)*S+w)*S+b)/((N*S+C)*S+1)):(S=S-l,P=((k*S+M)*S+_+E)/((z*S+A)*S+1)),L<0?-P:P}function js(t,e,r){if(r<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(t))return js(Qe(t),e,r);if(Pe(t))return t.apply(s=>js(s,e,r));if(t<=0)return 0;if(r<=0&&ML_ERR_return_NAN,r==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(t<1)return 0;if(t==1)return .5;if(t>1)return 1}return Dn(t*e,e)}return e==Number.POSITIVE_INFINITY?1-Dn(r/t,r):e*t>r?1-Wn(r/(r+e*t),r/2,e/2):Wn(e*t/(r+e*t),e/2,r/2)}function pl(t,e,r){if(t===0)return 0;if(t===1)return Inf;if(r<=0)return NaN;let s=dl,l=vl;if(t>.9997&&r===1?(s=1e7,l=6e5,t=.9997):t>.9992&&r===1?(s=1e7,l=6e5):t>.997&&r===1?(s=1e6,l=45e3):t>.992&&r===1?(s=1e5,l=5e3):t>.97&&r===1&&(s=1e4,l=400),Array.isArray(t))return pl(Qe(t),e,r);const a=v=>js(v,e,r);function c(v,u,f){return v===0?0:v===1?Inf:u===0?NaN:f===0?NaN:hl(v,a,l,s)}return Pe(t)?t.apply(c,e,r):c(t,e,r)}function Dn(t,e){if(Array.isArray(t))return Dn(Qe(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),s=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(s);function a(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const f=u/e,h=Math.pow(f,1/6)-.5*Math.pow(f,1/3)+1/3*Math.pow(f,1/2);return On(h,r,l)}function c(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:Gi(u/2,e/2)/nn(e/2)}const v=e>Rs?a:c;return Pe(t)?t.apply(v):v(t)}function Bn(t,e){if(Array.isArray(t))return Bn(Qe(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),s=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(s);function a(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const f=Ls(u,r,l),h=Math.pow(Math.sqrt(36*f*f-30*f+13)/4+(3*f-3/2)/2+1/8,1/3);return Math.pow(h-3/(4*h)+.5,6)*e}function c(u){return u===0?0:u===1?Inf:e===0?0:hl(u,h=>Dn(h,e),0,Rs*10)}const v=e>Rs?a:c;return Pe(t)?t.apply(v):v(t)}function Wn(t,e,r){if(Array.isArray(t))return Wn(Qe(t),e,r);if(Pe(t))return t.apply(l=>Wn(l,e,r));if(t<=0)return 0;if(t>=1)return 1;if(e==0||r==0||!Number.isFinite(e)||!Number.isFinite(r))return e==0&&r==0?.5:e==0||e/r==0?1:r==0||r/e==0||t<.5?0:1;const s=.5-t+.5;return oc(e,r,t,s)}function nn(t){if(Pe(t))return t.apply(nn);if(t<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.PI/(Math.sin(Math.PI*t)+nn(1-t));t=t-1;let r=.9999999999998099;for(let l=0;l<e.length;l++)r=r+e[l]/(t+l+1);const s=t+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*r}function Gi(t,e){let l=0;for(let a=0;a<1e4;a++){const c=Math.pow(t,a)/nn(e+a+1);if(isNaN(c)||c<1e-18)break;l+=c}return Math.pow(t,e)*nn(e)*Math.exp(-t)*l}function Hi(t){const e=t>=0?1:-1;t=Math.abs(t);const r=.254829592,s=-.284496736,l=1.421413741,a=-1.453152027,c=1.061405429,u=1/(1+.3275911*t),f=1-((((c*u+a)*u+l)*u+s)*u+r)*u*Math.exp(-t*t);return e*f}function bl(t,e){const r=.564189583547756,s=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],a=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],c=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],v=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let f,h,d,m,g=Math.abs(e);if(g<=.5)return h=e*e,m=(((s[0]*h+s[1])*h+s[2])*h+s[3])*h+s[4]+1,d=((l[0]*h+l[1])*h+l[2])*h+1,f=.5-e*(m/d)+.5,f=Math.exp(h)*f,f;if(g<=4)m=((((((a[0]*g+a[1])*g+a[2])*g+a[3])*g+a[4])*g+a[5])*g+a[6])*g+a[7],d=((((((c[0]*g+c[1])*g+c[2])*g+c[3])*g+c[4])*g+c[5])*g+c[6])*g+c[7],f=m/d;else{if(e<=-5.6)return f=2,f=Math.exp(e*e)*2,f;h=1/(e*e),m=(((v[0]*h+v[1])*h+v[2])*h+v[3])*h+v[4],d=(((u[0]*h+u[1])*h+u[2])*h+u[3])*h+1,f=(r-h*m/d)/g}return e<0&&(f=Math.exp(e*e)*2-f),f}function wl(t,e){let r=t+e-2;return r<=.25?Ft(r+1):r<=1.25?Ft(r)+mr(r):Ft(r-1)+Math.log(r*(r+1))}function Un(t,e){const r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;let u,f,h,d,m,g,b,w,p,y,C,N,E,_,M;return h=Math.min(t,e),d=Math.max(t,e),g=h/d,m=g/(g+1),p=1/(g+1),N=p*p,y=p+N+1,C=p+N*y+1,E=p+N*C+1,_=p+N*E+1,M=p+N*_+1,f=1/d,b=f*f,w=((((v*M*b+c*_)*b+a*E)*b+l*C)*b+s*y)*b+r,w*=m/d,f=1/h,b=f*f,u=(((((v*b+c)*b+a)*b+l)*b+s)*b+r)/h+w,u}function Ye(t){let e,r,s,l,a;if(r=t,e=t-.5,e>0&&(r=e-.5),r<0){const c=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],v=.273076135303957,u=.0559398236957378;return a=(((((((c[8]*r+c[7])*r+c[6])*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],l=(u*r+v)*r+1,s=a/l,e>0?r*s/t:t*(s+.5+.5)}else{if(r==0)return 0;{const c=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],v=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return a=(((((c[6]*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],l=(((v[4]*r+v[3])*r+v[2])*r+v[1])*r+1,s=a/l,e>0?r/t*(s-.5-.5):t*s}}}function Ki(t,e,r){let s,l,a,c;if(t<-1.1||t>1.1)return Number.NaN;c=t*2,a=l=0,s=0;for(let v=1;v<=r;v++)a=l,l=s,s=c*l-a+e[r-v];return(s-a)*.5}function _l(t){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],r=22,s=-.999999985;if(t==0)return 0;if(t==-1)return Number.NEGATIVE_INFINITY;if(t<-1)return Number.NaN;if(Math.abs(t)<=.375)return Math.abs(t)<.5*Number.EPSILON?t:0<t&&t<1e-8||-1e-9<t&&t<0?t*(1-.5*t):t*(1-t*Ki(t/.375,e,r));if(t<s)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+t)}function hr(t,e){const r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;let u,f,h,d,m,g,b,w,p,y,C,N,E,_;return t>e?(h=e/t,u=1/(h+1),w=h/(h+1),f=t+(e-.5)):(h=t/e,u=h/(h+1),w=1/(h+1),f=e+(t-.5)),C=w*w,p=w+C+1,y=w+C*p+1,N=w+C*y+1,E=w+C*N+1,_=w+C*E+1,d=1/(e*e),b=((((v*_*d+c*E)*d+a*N)*d+l*y)*d+s*p)*d+r,b*=u/e,m=f*mr(t/e),g=t*(Math.log(e)-1),m>g?b-g-m:b-m-g}function Ft(t){if(t<.6){const b=((((((-.00271935708322958*t+-.0673562214325671)*t+-.402055799310489)*t+-.780427615533591)*t+-.168860593646662)*t+.844203922187225)*t+.577215664901533)/((((((.000667465618796164*t+.0325038868253937)*t+.361951990101499)*t+1.56875193295039)*t+3.12755088914843)*t+2.88743195473681)*t+1);return-t*b}else{const e=.422784335098467,r=.848044614534529,s=.565221050691933,l=.156513060486551,a=.017050248402265,c=.000497958207639485,v=1.24313399877507,u=.548042109832463,f=.10155218743983,h=.00713309612391,d=.000116165475989616,m=t-.5-.5,g=(((((c*m+a)*m+l)*m+s)*m+r)*m+e)/(((((d*m+h)*m+f)*m+u)*m+v)*m+1);return m*g}}function Ut(t){const e=.418938533204673,r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;if(t<=.8)return Ft(t)-Math.log(t);if(t<=2.25)return Ft(t-.5-.5);if(t<10){let h=Math.round(t-1.25),d=t,m=1;for(let g=1;g<=h;++g)d+=-1,m*=d;return Ft(d-1)+Math.log(m)}let u=1/(t*t),f=(((((v*u+c)*u+a)*u+l)*u+s)*u+r)/t;return e+f+(t-.5)*(Math.log(t)-1)}function Is(t,e){const r=.918938533204673;let s=Math.min(t,e),l=Math.max(t,e);function a(c,v,u){let f=Math.round(u-1),h=1;for(let d=1;d<=f;++d)u+=-1,h*=u/(v+u);return c+Math.log(h)+(Ut(v)+(Ut(u)-wl(v,u)))}if(s<8){if(s<1)return l<8?Ut(s)+(Ut(l)-Ut(s+l)):Ut(s)+hr(s,l);let c;if(s<2)return l<=2?Ut(s)+Ut(l)-wl(s,l):l<8?(c=0,a(c,s,l)):Ut(s)+hr(s,l);if(l<=1e3){let v=Math.round(s-1);c=1;for(let u=1;u<=v;++u){s+=-1;let f=s/l;c*=f/(f+1)}return c=Math.log(c),l>=8?c+Ut(s)+hr(s,l):a(c,s,l)}else{let v=Math.round(s-1);c=1;for(let u=1;u<=v;++u)s+=-1,c*=s/(s/l+1);return log(c)-v*log(l)+(Ut(s)+hr(s,l))}}else{let c=Un(s,l),v=s/l,u=-(s-.5)*Math.log(v/(v+1)),f=l*mr(v);return u>f?Math.log(l)*-.5+r+c-f-u:Math.log(l)*-.5+r+c-u-f}}function yl(t){return(t==0?1024:-300)*.69314718055995*.99999}function Yr(t){const e=.0566749439387324,r=.0456512608815524,s=.333333333333333,l=-.224696413112536,a=.00620886815375787,c=-1.27408923933623,v=.354508718369557;let u,f,h,d,m;return t<-.39||t>.57?(d=t+.5+.5,t-Math.log(d)):(t<-.18?(u=t+.3,u/=.7,m=e-u*.3):t>.18?(u=t*.75-.25,m=r+u/3):(u=t,m=0),f=u/(u+2),h=f*f,d=((a*h+l)*h+s)/((v*h+c)*h+1),h*2*(1/(1-f)-f*d)+m)}function mr(t){if(Math.abs(t)>.375)return Math.log(1+t);const e=-1.29418923021993,r=.405303492862024,s=-.0178874546012214,l=-1.62752256355323,a=.747811014037616,c=-.0845104217945565;let v=t/(t+2),u=v*v,f=(((s*u+r)*u+e)*u+1)/(((c*u+a)*u+l)*u+1);return v*2*f}function Xi(t){const e=.564189583547756,r=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],l=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],a=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],c=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],v=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,f,h,d,m;if(h=Math.abs(t),h<=.5)return u=t*t,m=(((r[0]*u+r[1])*u+r[2])*u+r[3])*u+r[4]+1,d=((s[0]*u+s[1])*u+s[2])*u+1,t*(m/d);if(h<=4){m=((((((l[0]*h+l[1])*h+l[2])*h+l[3])*h+l[4])*h+l[5])*h+l[6])*h+l[7],d=((((((a[0]*h+a[1])*h+a[2])*h+a[3])*h+a[4])*h+a[5])*h+a[6])*h+a[7];let b=.5-Math.exp(-t*t)*m/d+.5;return t<0?-b:b}if(h>=5.8)return t>0?1:-1;f=t*t,u=1/f,m=(((c[0]*u+c[1])*u+c[2])*u+c[3])*u+c[4],d=(((v[0]*u+v[1])*u+v[2])*u+v[3])*u+1,u=(e-m/(f*d))/h;let g=.5-Math.exp(-f)*u+.5;return t<0?-g:g}function Qi(t){const e=914041914819518e-24,r=.0238082361044469,s=-.499999999085958,l=.107141568980644,a=-.0119041179760821,c=.000595130811860248;if(Math.abs(t)<=.15)return t*(((r*t+e)*t+1)/((((c*t+a)*t+l)*t+s)*t+1));{let v=Math.exp(t);return t>0?v*(.5-1/v+.5):v-.5-.5}}function sn(t,e){let r;if(e>0){if(t>0||(r=t+e,r<0))return Math.exp(t)*Math.exp(e)}else if(t<0||(r=t+e,r>0))return Math.exp(t)*Math.exp(e);return Math.exp(r)}function Ji(t){const e=.785398163397448,r=1.4616321449683622,s=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],l=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],a=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],c=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let v,u,f,h,d,m,g,b,w,p,y,C,N;if(y=Number.MAX_SAFE_INTEGER,h=.5/(.5*Number.EPSILON),y>h&&(y=h),N=1e-9,b=0,t<.5){if(fabs(t)<=N){if(t==0)return 0;b=-1/t}else{if(d=-t,w=e,d<=0&&(d=-d,w=-w),d>=y)return 0;if(f=Math.round(d),d-=f,f=Math.round(d*4),d=(d-f*.25)*4,u=f/2,u+u!=f&&(d=1-d),m=e*d,v=u/2,v+v!=u&&(w=-w),u=(f+1)/2,v=u/2,v+=v,v==u){if(m==0)return 0;b=w*(cos(m)/sin(m)*4)}else b=w*(sin(m)/cos(m)*4)}t=1-t}if(t<=3){g=t,C=s[0]*t;for(let E=1;E<=5;++E)g=(g+l[E-1])*t,C=(C+s[E])*t;return g=(C+s[6])/(g+l[5]),p=t-r,g*p+b}if(t<y){d=1/(t*t),g=d,C=a[0]*d;for(let E=1;E<=3;++E)g=(g+c[E-1])*d,C=(C+a[E])*d;b=C/(g+c[3])-.5/t+b}return b+log(t)}function Zi(t,e,r,s){let l,a,c,v,u,f;if(t>s*.001){if(v=t*Math.log(r),v<Math.exparg(1))return 0;l=Math.exp(v)}else l=1;for(l*=e/t,f=s/t,u=t+1,v=r,c=v/u,u+=1,v=r*v,a=v/u,c+=a;Math.abs(r)>f;)u+=1,v=r*v,a=v/u,c+=a;return l*=t*c+1,l}function $i(t,e,r,s){const l=.577215664901533;let a,c,v,u,f,h,d=e*r;for(f=r-d,c=e*s<=.02?Math.log(r)+Ji(e)+l+f:Math.log(d)+l+f,a=s*5*Math.abs(c),v=1,u=0,v+=1,f*=r-d/v,h=f/v,u+=h;Math.abs(h)>a;)v+=1,f*=r-d/v,h=f/v,u+=h;return-t*(c+u)}function Fs(t,e,r,s){let l,a,c,v,u,f,h,d,m;if(r==0)return 0;if(h=Math.min(t,e),h>=1)f=t*Math.log(r)-Is(t,e),a=Math.exp(f)/t;else if(d=Math.max(t,e),d<8)if(d<=1){if(a=Math.pow(r,t),a==0)return a;m=t+e,m>1?(u=t+e-1,f=(Ye(u)+1)/m):f=Ye(m)+1,c=(Ye(t)+1)*(Ye(e)+1)/f,a*=c*(e/m)}else{if(u=Ft(h),l=Math.round(d-1),l>=1){c=1;for(let y=1;y<=l;++y)d+=-1,c*=d/(h+d);u+=Math.log(c)}f=t*Math.log(r)-u,d+=-1,m=h+d,m>1?(u=h+d-1,v=(Ye(u)+1)/m):v=Ye(m)+1,a=Math.exp(f)*(h/t)*(Ye(d)+1)/v}else u=Ft(h)+hr(h,d),f=t*Math.log(r)-u,a=h/t*Math.exp(f);if(a==0||t<=s*.1)return a;let g=s/t,b=0,w=0,p;for(c=1,b+=1,c*=(.5-e/b+.5)*r,p=c/(t+b),w+=p;b<1e7&&Math.abs(p)>g;)b+=1,c*=(.5-e/b+.5)*r,p=c/(t+b),w+=p;return t*w>-1?a*=t*w+1:a=0,a}function Yn(t,e,r,s,l,a){let c,v,u,f,h,d=t+e,m=t+1;if(l>1&&t>=1&&d>=m*1.1?(u=Math.round(Math.abs(yl(1))),v=Math.round(yl(0)),u>v&&(u=v),f=Math.exp(-u)):(u=0,f=1),c=rc(u,t,e,r,s)/t,l==1||c==0)return c;let g=l-1,b=f;if(v=0,e>1){if(s>1e-4){let w=(e-1)*r/s-t;w>=1&&(v=w<g?Math.round(w):g)}else v=g;for(let w=0;w<v;++w)h=w,f*=(d+h)/(m+h)*r,b+=f}for(let w=v;w<g&&(h=w,f*=(d+h)/(m+h)*r,b+=f,!(f<=a*b));++w);return c*=b,c}function ec(t,e,r,s,l,a){let c,v,u,f,h,d,m,g,b,w,p,y,C,N,E,_,M,k,A;if(!Number.isFinite(l)||(A=tc(t,e,r,s),Number.isNaN(A)))return Number.NaN;if(A==0)return 0;for(c=l+1,b=e/t,w=1/t+1,N=s+1,u=0,f=1,d=t+1,y=0,C=1,E=1,_=c/w,h=w/c,u+=1,m=u/t,g=u*(e-u)*r,v=t/d,k=f*(f+b)*v*v*(g*r),v=(m+1)/(w+m+m),M=u+g/d+v*(c+u*N),f=m+1,d+=2,m=k*y+M*E,y=E,E=m,m=k*C+M*_,C=_,_=m,p=h,h=E/_,y/=_,C/=_,E=h,_=1;u<1e4&&(u+=1,m=u/t,g=u*(e-u)*r,v=t/d,k=f*(f+b)*v*v*(g*r),v=(m+1)/(w+m+m),M=u+g/d+v*(c+u*N),f=m+1,d+=2,m=k*y+M*E,y=E,E=m,m=k*C+M*_,C=_,_=m,p=h,h=E/_,!(Math.abs(h-p)<=a*h));)y/=_,C/=_,E=h,_=1;return A*h}function tc(t,e,r,s){const l=.398942280401433;let a,c,v,u,f,h,d,m,g;if(r==0||s==0)return 0;if(d=Math.min(t,e),d<8){let b,w;if(r<=.375?(b=Math.log(r),w=mr(-r)):s>.375?(b=Math.log(r),w=Math.log(s)):(b=mr(-s),w=Math.log(s)),h=t*b+e*w,d>=1)return h-=Is(t,e),Math.exp(h);if(m=Math.max(t,e),m>=8)return u=Ft(d)+hr(d,m),d*Math.exp(h-u);if(m<=1){let y=Math.exp(h);return y==0?0:(g=t+e,g>1?(u=t+e-1,h=(Ye(u)+1)/g):h=Ye(g)+1,c=(Ye(t)+1)*(Ye(e)+1)/h,y*(d*c)/(d/m+1))}if(u=Ft(d),a=Math.round(m-1),a>=1){c=1;for(let y=1;y<=a;++y)m+=-1,c*=m/(d+m);u=Math.log(c)+u}h-=u,m+=-1,g=d+m;let p;return g>1?(u=d+m-1,p=(Ye(u)+1)/g):p=Ye(g)+1,d*Math.exp(h)*(Ye(m)+1)/p}else{let b,w,p,y;return t<=e?(b=t/e,w=b/(b+1),p=1/(b+1),y=t-(t+e)*r):(b=e/t,w=1/(b+1),p=b/(b+1),y=(t+e)*s-e),v=-y/t,u=Math.abs(v)>.6?v-Math.log(r/w):Yr(v),v=y/e,f=Math.abs(v)<=.6?Yr(v):v-Math.log(s/p),h=Math.exp(-(t*u+e*f)),l*Math.sqrt(e*w)*h*Math.exp(-Un(t,e))}}function rc(t,e,r,s,l){const a=.398942280401433;let c,v,u,f,h,d,m,g;if(d=Math.min(e,r),d<8){let b,w;if(s<=.375?(b=Math.log(s),w=mr(-s)):l>.375?(b=Math.log(s),w=Math.log(l)):(b=mr(-l),w=Math.log(l)),h=e*b+r*w,d>=1)return h-=Is(e,r),sn(t,h);if(m=Math.max(e,r),m>=8)return u=Ft(d)+hr(d,m),d*sn(t,h-u);if(m<=1){let y=sn(t,h);return y==0?y:(g=e+r,g>1?(u=e+r-1,h=(Ye(u)+1)/g):h=Ye(g)+1,c=(Ye(e)+1)*(Ye(r)+1)/h,y*(d*c)/(d/m+1))}u=Ft(d);let p=Math.round(m-1);if(p>=1){c=1;for(let y=1;y<=p;++y)m+=-1,c*=m/(d+m);u+=Math.log(c)}return h-=u,m+=-1,g=d+m,v=g>1?(Ye(g-1)+1)/g:Ye(g)+1,d*sn(t,h)*(Ye(m)+1)/v}else{let b,w,p,y;e>r?(b=r/e,w=1/(b+1),p=b/(b+1),y=(e+r)*l-r):(b=e/r,w=b/(b+1),p=1/(b+1),y=e-(e+r)*s),-_l(r/e);let C=-y/e;return u=Math.abs(C)>.6?C-Math.log(s/w):Yr(C),C=y/r,f=Math.abs(C)>.6?C-Math.log(l/p):Yr(C),h=sn(t,-(e*u+r*f)),a*Math.sqrt(r*w)*h*Math.exp(-Un(e,r))}}function qs(t,e,r,s,l,a){let v=Array(30),u=Array(30),f=e-.5-.5,h=t+f*.5,d=s>.375?Math.log(r):mr(-s),m=-h*d;if(e*m==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+_l(Ye(e))+e*Math.log(m)+h*d,b=g-(hr(e,t)+e*Math.log(h)),w=Math.exp(b);if(b==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let p=w==0,y=l==0?0:Math.exp(Math.log(l)-b),C=nc(e,m,g,a),N=.25/(h*h),E=d*.25*d,_=C,M=_,k=1,A=1,z=0;for(let L=1;L<=30;++L){let S=e+z;_=(S*(S+1)*_+(m+S+1)*k)*N,z+=2,k*=E,A/=z*(z+1);let P=L-1;v[P]=A;let j=0;if(L>1){let B=e-L;for(let F=1;F<=P;++F)j+=B*v[F-1]*u[P-F],B+=e}u[P]=f*A+j/L;let q=u[P]*_;if(M+=q,M<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(q)<=a*(M+y))break}return l+=p?Math.exp(b+Math.log(M)):w*M,l}function nc(t,e,r,s){const l=1.772453850905516;if(t*e==0)return e<=t?Math.exp(-r):0;if(t==.5){if(e<.25)return(.5-Xi(Math.sqrt(e))+.5)*Math.exp(-r);{let a=Math.sqrt(e);return bl(1,a)/a*l}}else if(e<1.1){let a=3,c=e,v=e/(t+3),u=s*.1/(t+1),f;for(a+=1,c*=-(e/a),f=c/(t+a),v+=f;Math.abs(f)>u;)a+=1,c*=-(e/a),f=c/(t+a),v+=f;let h=t*e*((v/6-.5/(t+2))*e+1/(t+1)),d=t*Math.log(e),m=Ye(t),g=m+1;if(e>=.25&&t<e/2.59||d>-.13394){let b=Qi(d),w=((b+.5+.5)*h-b)*g-m;return w<=0?0:w*Math.exp(-r)}else return(.5-Math.exp(d)*g*(.5-h+.5)+.5)*Math.exp(-r)}else{let a=1,c=1,v=e,u=e+(1-t),f=1,h,d;a=e*c+f*a,v=e*u+f*v,h=a/v,f+=1;let m=f-t;for(c=a+m*c,u=v+m*u,d=c/u;Math.abs(d-h)>=s*d;)a=e*c+f*a,v=e*u+f*v,h=a/v,f+=1,m=f-t,c=a+m*c,u=v+m*u,d=c/u;return d}}function sc(t,e,r,s){const a=1.12837916709551,c=.353553390593274,v=Array(21),u=Array(21),f=Array(21),h=Array(21);let d=t*Yr(-r/t)+e*Yr(r/e),m;if(m=Math.exp(-d),m==0)return 0;let g=Math.sqrt(d),b=g/c*.5,w=d+d,p,y,C,N;t<e?(p=t/e,y=1/(p+1),C=(e-t)/e,N=1/Math.sqrt(t*(p+1))):(p=e/t,y=1/(p+1),C=(e-t)/t,N=1/Math.sqrt(e*(p+1))),v[0]=C*.6666666666666666,f[0]=v[0]*-.5,h[0]=-f[0];let E=.5/a*bl(1,g),_=c,M=E+h[0]*N*_,k=1,A=p*p,z=1,L=N,S=b,P=w;for(let q=2;q<=20;q+=2){z*=A,v[q-1]=y*2*(p*z+1)/(q+2);let B=q+1;k+=z,v[B-1]=C*2*k/(q+3);for(let G=q;G<=B;++G){let W=(G+1)*-.5;u[0]=W*v[0];for(let te=2;te<=G;++te){let ee=0;for(let Z=1;Z<=te-1;++Z){let re=te-Z;ee+=(Z*W-re)*v[Z-1]*u[re-1]}u[te-1]=W*v[te-1]+ee/te}f[G-1]=u[G-1]/(G+1);let J=0;for(let te=1;te<=G-1;++te)J+=h[G-te-1]*f[te-1];h[G-1]=-(J+f[G-1])}E=c*S+(q-1)*E,_=c*P+q*_,S=w*S,P=w*P,L*=N;let F=h[q-1]*L*E;L*=N;let H=h[B-1]*L*_;if(M+=F+H,Math.abs(F)+Math.abs(H)<=s*M)break}let j=Math.exp(-Un(t,e));return a*m*j*M}function oc(t,e,r,s){let a=0,c=0;function v(p,y,C,N){const E=Fs(p,y,C,1e-15);return N?.5-E+.5:E}function u(p,y,C,N){const E=Fs(y,p,C,1e-15);return N?E:.5-E+.5}function f(p,y,C,N,E,_){const M=ec(p,y,C,N,E,15000000000000002e-30);return _?.5-M+.5:M}function h(p,y,C,N,E){let _=Math.round(y);y=y-_,y===0&&(_=_-1,y=1);let M=Yn(y,p,N,C,_,1e-15);return C<=.7?(M=M+Fs(p,y,C,1e-15),E?.5-M+.5:M):(p<=15&&(_=20,M=M+Yn(p,y,C,N,_,1e-15),p=p+_),M=qs(p,y,C,N,M,15*1e-15),E?.5-M+.5:M)}if(t<1e-15*.001&&e<1e-15*.001)return e/(t+e);let d,m,g,b,w;if(t<=1||e<=1){if(r>.5?(w=!0,d=e,g=s,m=t,b=r):(w=!1,d=t,g=r,m=e,b=s),m<Math.min(1e-15,1e-15*d))return a=Zi(d,m,g,1e-15),w?.5-a+.5:a;if(d<Math.min(1e-15,1e-15*m)&&m*g<=1)return c=$i(d,m,g,1e-15),w?c:.5-c+.5;if(Math.max(d,m)>1){if(m<=1)return v(d,m,g,w);if(g>=.29)return u(d,m,b,w);if(g<.1&&Math.pow(g*m,d)<=.7)return v(d,m,g,w)}else{if(d>=Math.min(.2,m)||Math.pow(g,d)<=.9)return v(d,m,g,w);if(g>=.3)return u(d,m,b,w)}let p=!1;return Math.max(d,m)>1&&m>15?c=0:(p=!0,c=Yn(m,d,b,g,20,1e-15),m+=20),c=qs(m,d,b,g,c,15*1e-15),c==0||0<c&&c<Number.MIN_VALUE?(p?c=Yn(m-n,d,b,g,n,1e-15):c=Number.NEGATIVE_INFINITY,c=qs(m,d,b,g,c,15*1e-15),a=-expm1(c),w?.5-a+.5:a):(a=.5-c+.5,w?.5-a+.5:a)}else{let p=Number.isFinite(t+e)?t>e?(t+e)*s-e:t-(t+e)*r:t*s-e*r;const y=p<0;let C,N,E,_;if(y?(p=-p,C=e,E=s,N=t,_=r):(C=t,E=r,N=e,_=s),N<40)return N*E<=.7?v(C,N,E,y):h(C,N,E,_,y);if(C>N){if(N<=100||p>N*.03)return f(C,N,E,_,p,y)}else{if(C<=100)return f(C,N,E,_,p,y);if(p>C*.03)return f(C,N,E,_,p,y)}return a=sc(C,N,p,1e-15*100),y?.5-a+.5:a}}function xl(t){const e=t.nrows,r=t.ncols;if(e<r){const c=xl(t.subset([],xt.seq(1,e)));return{Q:c.Q,R:ac(c.Q,t)}}let s=lt.eye(e),l=t.t();for(let c=1;c<=r;c++)for(let v=e;v>=c+1;v--){const u=l.v.subarray((v-2)*r,v*r),f=s.v.subarray((v-2)*e,v*e),h=u.slice(),d=f.slice(),[m,g,b]=lc(h[c-1],h[c-1+r]);for(let w=0;w<r;w++)u[w]=h[w]*m+h[w+r]*g,u[w+r]=h[w]*-g+h[w+r]*m,f[w]=d[w]*m+d[w+e]*g,f[w+e]=d[w]*-g+d[w+e]*m;for(let w=r;w<e;w++)f[w]=d[w]*m+d[w+e]*g,f[w+e]=d[w]*-g+d[w+e]*m}const a=xt.seq(1,r);return{Q:e===r?s:s.subset([],a),R:e===r?l.t():l.subset([],a).t()}}function lc(t,e){if(t==0)return[0,1,e];if(Math.abs(t)>Math.abs(e)){const a=e/t,c=Math.sqrt(1+a*a),v=1/c;return[v,a*v,t*c]}const r=t/e,s=Math.sqrt(1+r*r),l=1/s;return[r*l,l,e*s]}function El(t){return typeof t=="number"}function ac(t,e){if(e===void 0&&(e=t),!gr(t)||!gr(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const r=t.nrows,s=t.ncols,l=e.nrows,a=e.ncols,c=s,v=a,u=r,f=new Float64Array(c*v);for(let h=0;h<v;h++){const d=e.v.subarray(h*l,(h+1)*l),m=f.subarray(h*c,(h+1)*c);for(let g=0;g<c;g++){const b=t.v.subarray(g*r,(g+1)*r);let w=0;for(let p=0;p<u;p++)w+=b[p]*d[p];m[g]=w}}return new lt(f,c,v)}function kl(t,e,r){if(r===void 0){if(e!==t.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ne(t.v)}if(t.v.length!==e*r)throw Error("reshape: provided dimension does not match number of values in the object.");return new lt(t.v,e,r)}function gr(t){return t&&t.constructor===lt}function ic(t,e,r){return new lt(new Float64Array(t),e,r)}const pe=class pe{constructor(e,r,s){if(!ArrayBuffer.isView(e)||e.constructor!==pe.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(r===0||s===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==r*s)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=r,this.ncols=s}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return pe.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const s=pe.eye(e),l=pe.eye(e),a=this.t(),c=a.v[(e-1)*e+(e-1)],v=e-1;for(let u=0;u<e;u++)l.v[v*e+u]=s.v[v*e+u]/c;for(let u=e-2;u>=0;u--){let f=s.getcolumn(u+1);const h=a.getcolref(u+1);for(let d=u+1;d<e;d++){const m=l.getcolumn(d+1);f=f.subtract(m.mult(h[d]))}l.v.set(f.divide(h[u]).v,u*e)}return l.t()}if(this.islowertriangular()){const s=this.diag();if(fl(s)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=pe.eye(e),a=pe.eye(e),c=this.t(),v=0,u=c.v[0];for(let f=0;f<e;f++)a.v[v*e+f]=l.v[v*e+f]/u;for(let f=1;f<e;f++){let h=l.getcolumn(f+1);const d=c.getcolref(f+1);for(let m=0;m<f;m++){const g=a.getcolumn(m+1);h=h.subtract(g.mult(d[m]))}a.v.set(h.divide(d[f]).v,f*e)}return a.t()}const r=xl(this);if(!r.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return r.R.inv().dot(r.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let r=0;r<e;r++)if(Math.abs(this.v[e*this.nrows+r])>pe.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let r=e+1;r<this.nrows;r++)if(Math.abs(this.v[e*this.nrows+r])>pe.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),r=new Float64Array(e);for(let s=0;s<e;s++)r[s]=this.getcolref(s+1)[s];return new Ne(r)}t(){const e=this.nrows,r=this.ncols,s=new pe.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const a=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let c=0;c<this.nrows;c++)s[c*r+l]=a[c]}return new pe(s,r,e)}for(let l=0;l<this.nrows;l++){const a=s.subarray(l*r,(l+1)*r);for(let c=0;c<this.ncols;c++)a[c]=this.v[c*this.nrows+l]}return new pe(s,r,e)}dot(e){if(Pe(e))return new pe(Ds(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(gr(e))return new pe(Ds(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,r,s){if(gr(e))return new pe(Vs(this.v,e.v,r),this.nrows,this.ncols);if(El(e))return new pe(Os(this.v,e,r),this.nrows,this.ncols);if(!Pe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(s===void 0&&(s=e.length===this.ncols?2:1),s===2&&e.length===this.ncols){const l=new pe.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)l.set(Os(this.getcolref(a+1),e.v[a],r),a*this.nrows);return new pe(l,this.nrows,this.ncols)}if(s===1&&e.length===this.nrows){const l=new pe.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)l.set(Vs(this.getcolref(a+1),e.v,r),a*this.nrows);return new pe(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(r,s)=>r+s)}subtract(e){return this.op(e,(r,s)=>r-s)}mult(e){return this.op(e,(r,s)=>r*s)}divide(e){return this.op(e,(r,s)=>r/s)}apply(e,r){if(r===void 0&&(r=2),r==2){const s=this.ncols,l=new pe.valuesConstructor(s);for(let a=0;a<s;a++)l[a]=e(this.getcolref(a+1));return new Ne(l)}if(r==1)return this.t().apply(e,2);if(r==0){const s=this.v.length,l=new pe.valuesConstructor(s);for(let a=0;a<s;a++)l[a]=e(this.v[a]);return new pe(l,this.nrows,this.ncols)}}replace(e,r,s){typeof r=="number"&&(r=[r]),r.length===0&&(r=xt.seq(1,this.nrows)),Yt(r)||(r=Gt(r)),typeof s=="number"&&(s=[s]),s.length===0&&(s=xt.seq(1,this.ncols)),Yt(s)||(s=Gt(s));const l=r.length,a=s.length;if(Ur(r)<1||Er(r)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Ur(s)<1||Er(s)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==a)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let c=0;c<s.length;c++){const v=e.getcolref(c+1),u=(s.v[c]-1)*this.nrows;for(let f=0;f<r.length;f++){const h=r.v[f];this.v[u+h-1]=v[f]}}return this}copy(){return new pe(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const r=new Ne.valuesConstructor(this.ncols);for(let s=0;s<this.ncols;s++)r[s]=this.getcolref(s+1)[e-1];return new Ne(r)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ne(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,r){if(typeof e=="number"&&(e=Gt([e])),typeof r=="number"&&(r=Gt([r])),Array.isArray(e)&&(e=e.length===0?null:Gt(e)),Array.isArray(r)&&(r=r.length===0?null:Gt(r)),e!==null&&!Yt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(r!==null&&!Yt(r))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Ur(e)<1||Er(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(r!==null&&(Ur(r)<1||Er(r)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const v=r.length,u=this.nrows,f=new pe.valuesConstructor(u*v);for(let h=0;h<r.length;h++)f.set(this.v.slice((r.v[h]-1)*this.nrows,r.v[h]*this.nrows),h*this.nrows);return new pe(f,u,v)}if(r==null)return this.t().subset(r,e).t();const s=e.length,l=r.length,a=new pe.valuesConstructor(s*l);let c=new pe.valuesConstructor(s);for(let v=0;v<l;v++){const u=this.v.subarray((r.v[v]-1)*this.nrows,r.v[v]*this.nrows);for(let f=0;f<s;f++)c[f]=u[e.v[f]-1];a.set(c,v*s)}return new pe(a,s,l)}toString(e){function r(c,v){return" ".repeat(v-c.length)+c}e===void 0&&(e=2),this.ncols;const s=Math.round(Math.abs(Math.log10(Er(this.v))))+e+3;let l="";const a=this.t();for(let c=1;c<=a.ncols;c++)l+=Array.from(a.getcolref(c)).map(v=>r(v.toFixed(e),s)).join(" ")+`
`;return l}toCSV(e,r,s,l){e===void 0&&(e=","),r===void 0&&(r=e===";"?",":".");const a=l!=null&&l.length>0,c=s!=null&&s.length>0;if(a&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(c&&s.length!==this.ncols+(a?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const v=this.t();let u=c?s.join(e)+`
`:"";for(let f=1;f<=v.ncols;f++)u=u+(a?l[f-1]+e:"")+v.getcolref(f).join(e)+`
`;return u=u.replace(/\./g,r),u}static randn(e,r,s,l){return kl(gl(e*r,s,l),e,r)}static rand(e,r,s,l){return kl(ml(e*r,s,l),e,r)}static eye(e,r){r===void 0&&(r=e);const s=new Float64Array(e*r);for(let l=0;l<Math.min(e,r);l++)s[l*e+l]=1;return new pe(s,e,r)}static diagm(e){if(!Pe(e))throw Error('diagm: the argument "x" must be a Vector.');const r=e.length,s=new Float64Array(r*r);for(let l=0;l<r;l++)s[l*r+l]=e.v[l];return new pe(s,r,r)}static zeros(e,r){return r===void 0&&(r=e),new pe(new Float64Array(e*r),e,r)}static ones(e,r){return pe.fill(1,e,r)}static fill(e,r,s){s===void 0&&(s=r);const l=new Float64Array(r*s);for(let a=0;a<l.length;a++)l[a]=e;return new pe(l,r,s)}static outer(e,r,s){if(Array.isArray(e)&&(e=Qe(e)),Array.isArray(r)&&(r=Qe(r)),!Pe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Pe(r))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=pe.zeros(e.length,r.length);for(let a=0;a<r.length;a++){const c=r.v[a],v=l.getcolref(a+1);for(let u=0;u<e.length;u++)v[u]=s(e.v[u],c)}return l}static parseCSV(e,r,s,l){function a(p){return p.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}r===void 0&&(r=",");const c=r===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let v=e.split(/\n/),u=[],f=0;const h=v[0].split(r);(s||s===void 0&&a(h))&&(u=h,f=1),v=v.filter(p=>p.trim().length>1);let d=[],m=0;l&&(m=1);const g=v.length-f,b=h.length-m;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(b<1)throw Error("Data file should contain at least 1 column with values.");const w=pe.zeros(b,g);for(let p=f;p<g+f;p++){const y=v[p].split(r);let C;if(l?(d[p-f]=y[0],C=y.slice(1).map(N=>Number.parseFloat(N.trim().replace(c,".")))):C=y.map(N=>Number.parseFloat(N.trim().replace(c,"."))),C.some(N=>Number.isNaN(N)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=b)throw Error("Wrong number of values in row #"+p);w.v.set(new Float64Array(C),(p-f)*b)}return{values:w.t(),header:u,labels:d,sep:r,dec:c}}};zr(pe,"valuesConstructor",Float64Array),zr(pe,"TOLERANCE",Math.pow(10,-9));let lt=pe;function Pe(t){return t&&t.constructor===Ne}function Qe(t){return new Ne(new Float64Array(t))}const Ke=class Ke{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const r=new xt.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=l+1,s=s+1);return new xt(r.subarray(0,s))}filter(e){const r=new Ke.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=this.v[l],s=s+1);return new Ke(r.subarray(0,s))}shuffle(){return new Ke(Ml(this.v))}sort(e){return new Ke(Nl(this.v,e))}sortind(e){return new xt(zl(this.v,e))}rep(e){return Al(this,e)}repeach(e){return Sl(this,e)}replace(e,r){typeof r=="number"&&(r=[r]),r.length===0&&(r=xt.seq(1,this.length)),Yt(r)||(r=Gt(r));const s=r.length;if(Ur(r)<1||Er(r)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==s)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<r.length;l++){const a=r.v[l];this.v[a-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Gt([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?xt.bool2ind(e):Gt(e)),!Yt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,s=Ke.zeros(r);for(let l=0;l<r;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");s.v[l]=this.v[e.v[l]-1]}return s}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new Ke(this.v.slice(e-1,r))}copy(){return new Ke(this.v.slice())}dot(e){return e===void 0&&(e=this),Ds(this.v,e.v,1,this.length,e.length,1)[0]}op(e,r){if(Pe(e))return new Ke(Vs(this.v,e.v,r));if(El(e))return new Ke(Os(this.v,e,r));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(r,s)=>r+s)}subtract(e){return this.op(e,(r,s)=>r-s)}mult(e){return this.op(e,(r,s)=>r*s)}divide(e){return this.op(e,(r,s)=>r/s)}apply(e){const r=this.v.length,s=Ke.zeros(r);for(let l=0;l<r;l++)s.v[l]=e(this.v[l]);return s}static c(...e){if(e.length===1)return e[0];const r=e.reduce((a,c)=>a+(typeof c=="number"?1:c.length),0),s=new Ke.valuesConstructor(r);let l=0;for(const a of e)typeof a=="number"?(s[l]=a,l+=1):(s.set(Pe(a)?a.v:new Ke.valuesConstructor(a),l),l+=typeof a=="number"?1:a.length);return new Ke(s)}static seq(e,r,s){return Cl(e,r,s,Ke)}static randn(e,r,s){return gl(e,r,s)}static rand(e,r,s){return ml(e,r,s)}static zeros(e){return new Ke(new Ke.valuesConstructor(e))}static ones(e){return Ke.fill(1,e)}static fill(e,r){const s=new Ke.valuesConstructor(r);for(let l=0;l<s.length;l++)s[l]=e;return new Ke(s)}};zr(Ke,"valuesConstructor",Float64Array);let Ne=Ke;function Yt(t){return t.constructor===xt}function Gt(t){return new xt(new Int32Array(t))}const nt=class nt{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const r=new nt.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=l+1,s=s+1);return new nt(r.subarray(0,s))}filter(e){const r=new nt.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=this.v[l],s=s+1);return new nt(r.subarray(0,s))}shuffle(){return new nt(Ml(this.v))}sort(e){return new nt(Nl(this.v,e))}sortind(e){return new nt(zl(this.v,e))}rep(e){return Al(this,e)}repeach(e){return Sl(this,e)}subset(e){if(typeof e=="number"&&(e=Gt([e])),Array.isArray(e)&&(e=Gt(e)),!Yt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,s=new nt.valuesConstructor(r);for(let l=0;l<r;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");s[l]=this.v[e.v[l]-1]}return new nt(s)}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new nt(this.v.slice(e-1,r))}static seq(e,r,s){return Cl(e,r,s,nt)}static ones(e){return nt.fill(1,e)}static fill(e,r){const s=new nt.valuesConstructor(r);for(let l=0;l<s.length;l++)s[l]=e;return new nt(s)}static bool2ind(e){let r=0;const s=new nt.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(s[r]=l+1,r=r+1);return new nt(s.subarray(0,r))}};zr(nt,"valuesConstructor",Int32Array);let xt=nt;function Cl(t,e,r,s){r===void 0&&(r=t<=e?1:-1);const l=Math.floor((e-t)/r)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const a=new s.valuesConstructor(l);for(let c=0;c<l;c++)a[c]=t+c*r;return new s(a)}function Al(t,e){const r=t.length*e,s=new t.constructor.valuesConstructor(r);for(let l=1;l<=e;l++)for(let a=0;a<t.length;a++)s[(l-1)*t.length+a]=t.v[a];return new t.constructor(s)}function Sl(t,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const r=t.length*e,s=new t.constructor.valuesConstructor(r);for(let l=0;l<t.length;l++)for(let a=0;a<e;a++)s[l*e+a]=t.v[l];return new t.constructor(s)}function Vs(t,e,r){if(t.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(t.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const s=new t.constructor(t.length);for(let l=0;l<t.length;l++)s[l]=r(t[l],e[l]);return s}function Os(t,e,r){const s=new t.constructor(t.length);for(let l=0;l<t.length;l++)s[l]=r(t[l],e);return s}function Ds(t,e,r,s,l,a){if(s!==l)throw Error("_dot: matrix dimensions do not much.");const c=r,v=a,u=s,f=new t.constructor(c*v);for(let h=0;h<v;h++){const d=e.subarray(h*l,(h+1)*l),m=f.subarray(h*c,(h+1)*c);for(let g=0;g<u;g++){const b=d[g],w=t.subarray(g*r,(g+1)*r);for(let p=0;p<c;p++)m[p]+=w[p]*b}}return f}function Ml(t){let e=t.slice(),r=e.length,s,l;for(;r;)l=Math.floor(Math.random()*r--),s=e[r],e[r]=e[l],e[l]=s;return e}function Nl(t,e=!1){return e?t.slice().sort((r,s)=>s-r):t.slice().sort((r,s)=>r-s)}function zl(t,e=!1){const r=xt.seq(1,t.length).v;return e?r.sort((s,l)=>t[l-1]-t[s-1]):r.sort((s,l)=>t[s-1]-t[l-1])}function cc(t,e,r){return 5*t*e+e+4*r*e}function uc(t,e){return 2+2*t+t*e+17*e}function rt(t,e,r){if(!t||!t.class||!t.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const s=t.ncols,l=t.ncomp;let a,c;switch(e){case"mX":a=2,c=s;break;case"sX":a=2+s,c=s;break;case"loadings":case"xloadings":a=2+2*s+(r-1)*s,c=s;break;case"P":a=2+2*s,c=r*s;break;case"eigenvals":case"xeigenvals":a=2+2*s+s*l,c=l;break;case"cq0":a=2+2*s+s*l+l,c=l;break;case"cNq":a=2+2*s+s*l+2*l,c=l;break;case"rq0":a=2+2*s+s*l+3*l,c=l;break;case"rNq":a=2+2*s+s*l+4*l,c=l;break;case"ch0":a=2+2*s+s*l+5*l,c=l;break;case"cNh":a=2+2*s+s*l+6*l,c=l;break;case"rh0":a=2+2*s+s*l+7*l,c=l;break;case"rNh":a=2+2*s+s*l+8*l,c=l;break;case"cr0":a=2+2*s+s*l+9*l,c=l;break;case"cNr":a=2+2*s+s*l+10*l,c=l;break;case"rr0":a=2+2*s+s*l+11*l,c=l;break;case"rNr":a=2+2*s+s*l+12*l,c=l;break;case"cg0":a=2+2*s+s*l+13*l,c=l;break;case"cNg":a=2+2*s+s*l+14*l,c=l;break;case"rg0":a=2+2*s+s*l+15*l,c=l;break;case"rNg":a=2+2*s+s*l+16*l,c=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return t.v.subarray(a,a+c)}function $t(t,e,r){if(!t||!t.class||!t.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const s=t.ncols,l=t.nrows,a=t.ncomp;let c,v;switch(e){case"scores":case"xscores":c=(r-1)*l,v=l;break;case"hdist":c=l*a+(r-1)*l,v=l;break;case"qdist":c=2*l*a+(r-1)*l,v=l;break;case"xcumexpvar":case"cumexpvar":c=3*l*a,v=a;break;case"fdistc":c=3*l*a+a+(r-1)*l,v=l;break;case"fdistr":c=4*l*a+a+(r-1)*l,v=l;break;case"gdist":c=5*l*a+a+(r-1)*s,v=s;break;case"rdist":c=5*l*a+a+s*a+(r-1)*s,v=s;break;case"idistc":c=5*l*a+a+2*s*a+(r-1)*s,v=s;break;case"idistr":c=5*l*a+a+3*s*a+(r-1)*s,v=s;break;default:throw new Error("pcares_get: wrong outcome name.")}return t.v.subarray(c,c+v)}function Gn(t,e,r){if(!Array.isArray(t))return!1;if(t.length===0)return!0;for(let s=0;s<t.length;s++){const l=t[s];if(l<e||l>r)return!1}return!0}function Bs(t,e,r,s,l,a,c){if(!gr(e))throw new Error("pca_fit: X must be a matrix.");a||(a=[]);const v=a&&Array.isArray(a)?a.length:0;if(!Gn(a,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');c||(c=[]);const u=c&&Array.isArray(c)?c.length:0;if(!Gn(c,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const f=e.nrows-v,h=e.ncols-u;if(f<3||h<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(s===void 0&&(s=!0),l===void 0&&(l=!1),r===void 0&&(r=Math.min(e.nrows-v-1,e.ncols-u)),r<1||r>Math.min(f-1,h))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const d=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);let m=null;if(v>0){const N=new Int32Array(a);m=t._malloc(N.length*N.BYTES_PER_ELEMENT),t.HEAP32.set(N,m/N.BYTES_PER_ELEMENT)}let g=null;if(u>0){const N=new Int32Array(c);g=t._malloc(N.length*N.BYTES_PER_ELEMENT),t.HEAP32.set(N,g/N.BYTES_PER_ELEMENT)}const b=uc(h,r),w=Float64Array,p=t._malloc(b*w.BYTES_PER_ELEMENT);if(t.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[d,e.nrows,e.ncols,r,s,l,p,m,v,g,u])!==1)throw new Error("pca_fit: PCA failed.");const C=t.HEAPF64.slice(p/w.BYTES_PER_ELEMENT,p/w.BYTES_PER_ELEMENT+b);return t._free(d),t._free(p),m&&t._free(m),g&&t._free(g),{class:["pcamodel"],v:C,ncomp:r,nrows:f,ncols:h,exclvars:c,center:s,scale:l}}function on(t,e,r,s){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!gr(r))throw new Error("pca_predict: X must be a matrix.");s||(s=[]);const l=s&&Array.isArray(s)?s.length:0;if(!Gn(s,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let a=e.exclvars.length;e.exclvars;const c=r.nrows-l;r.ncols===e.ncols&&(a=0);const v=r.ncols-a;if(c<1)throw new Error("pca_predict: X must have at least 1 row.");if(v!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const u=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,u/r.v.BYTES_PER_ELEMENT);let f=null;if(l>0){const A=new Int32Array(s);f=t._malloc(A.length*A.BYTES_PER_ELEMENT),t.HEAP32.set(A,f/A.BYTES_PER_ELEMENT)}let h=null;if(a>0){const A=new Int32Array(e.exclvars);h=t._malloc(A.length*A.BYTES_PER_ELEMENT),t.HEAP32.set(A,h/A.BYTES_PER_ELEMENT)}const d=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);const m=cc(r.nrows-l,e.ncomp,r.ncols-a),g=Float64Array,b=t._malloc(m*g.BYTES_PER_ELEMENT);if(t.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[u,r.nrows,r.ncols,d,b,f,l,h,a])!==1)throw new Error("pca_predict: PCA prediction failed.");const p=t.HEAPF64.slice(b/g.BYTES_PER_ELEMENT,b/g.BYTES_PER_ELEMENT+m);t._free(u),t._free(d),t._free(b),f&&t._free(f),h&&t._free(h);const y={class:["pcares"],v:p,ncomp:e.ncomp,nrows:c,ncols:v,outliers:s,exclvars:e.exclvars,center:e.center,scale:e.scale},C=new Array(e.ncomp),N=new Array(e.ncomp),E=new Array(e.ncomp),_=new Array(e.ncomp),M=new Array(e.ncomp),k=$t(y,"xcumexpvar");M[0]=1,_[0]=k[0],E[0]=1-k[0],C[0]=k[0],N[0]=1-k[0];for(let A=1;A<e.ncomp;A++)M[A]=A+1,_[A]=k[A],E[A]=1-k[A],C[A]=k[A]-k[A-1],N[A]=1-C[A];return y.stat={components:M,resvar:N,expvar:C,cumexpvar:_,cumresvar:E},y}function fc(t,e,r,s,l,a,c,v){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!gr(r))throw new Error("pcapcv: X must be a matrix.");v||(v=[]);const u=v&&Array.isArray(v)?v.length:0;if(!Gn(v,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');const f=e.exclvars.length,h=r.nrows-u,d=r.ncols-f;if(h<3)throw new Error("pcapcv: X must have at least 3 rows.");if(d!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(a)||![0,1,2].includes(a))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(c)||![0,1].includes(c))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(a>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(a>0&&l>h)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(s)||s<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const m=Math.min(a===0?h-2:h-Math.ceil(h/l)-1,d,e.ncomp);if(s>m)throw new Error('pcapcv: the value of "ncomp" is too large.');const g=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,g/r.v.BYTES_PER_ELEMENT);let b=null;if(u>0){const M=new Int32Array(v);b=t._malloc(M.length*M.BYTES_PER_ELEMENT),t.HEAP32.set(M,b/M.BYTES_PER_ELEMENT)}let w=null;if(f>0){const M=new Int32Array(e.exclvars);w=t._malloc(M.length*M.BYTES_PER_ELEMENT),t.HEAP32.set(M,w/M.BYTES_PER_ELEMENT)}const p=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,p/e.v.BYTES_PER_ELEMENT);const y=h*d,C=r.v.constructor,N=t._malloc(y*C.BYTES_PER_ELEMENT);if(t.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[g,r.nrows,r.ncols,s,e.center,e.scale,a,l,c,p,N,b,u,w,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const _=t.HEAPF64.slice(N/C.BYTES_PER_ELEMENT,N/C.BYTES_PER_ELEMENT+y);return t._free(g),t._free(p),t._free(N),b&&t._free(b),w&&t._free(w),new lt(_,h,d)}function Hn(t,e,r=1){const s=Math.round((e-t+1)/r),l=Array(s);for(let a=0;a<s;a++)l[a]=t+a*r;return l}function vc(t,e){let r,s,l;if(e.length>0){const a=t.values.nrows,c=t.objindices,v=a-e.length;r=Array(v),s=Array(v),l=Array(v);let u=0;for(let f=0;f<a;f++)e.includes(f)||(r[u]=c[f],s[u]=t.classes[f],l[u]=t.objlabels[f],u=u+1)}else r=t.objindices,l=t.objlabels,s=t.classes;return[r,l,s]}function Kn(){const t=new Date;return`${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}${t.getMilliseconds().toString().padStart(3,"0")}`}function Ws(t,e,r,s){const[l,a,c]=vc(r,s),v=on(t,e,r.values,s);v.hash=Kn(),v.objindices=l,v.objlabels=a,v.classes=c,v.classNames=r.classNames,v.varlabels=r.varlabels,v.eigenvals=rt(e,"eigenvals"),v.cNh=rt(e,"cNh"),v.cNq=rt(e,"cNq"),v.ch0=rt(e,"ch0"),v.cq0=rt(e,"cq0"),v.rNh=rt(e,"rNh"),v.rNq=rt(e,"rNq"),v.rh0=rt(e,"rh0"),v.rq0=rt(e,"rq0");const u=e.nrows;return v.T2lim=2*(u-1)/(u-2)*pl(.95,2,u-2),v}function dc(t,e="."){return Array.isArray(t)&&t.length>0?e==="."?t.map(r=>Number.parseFloat(r.trim())):t.map(r=>Number.parseFloat(r.trim().replace(e,"."))):e==="."?Number.parseFloat(t.trim()):Number.parseFloat(t.trim().replace(e,"."))}function ln(t){return t.some(e=>Number.isNaN(e))}function kr(t){return t.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Pl(t){let e=t.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(r=>r.trim().length>1)}function hc(t,e,r,s,l,a,c,v=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const f=e===";"?",":".";let h=Pl(t);if(h.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");h=h.filter(F=>F.replaceAll(e,"").trim().length>0);const d=h[0].split(e);if(d.length<2)throw new Error("Found only one column, looks like your delimiter is not correct.");let m=0,g;const b=r!=="no";(b||b===void 0&&ln(firstRow))&&(g=d,m=1);const w=h.length-m;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let p,y,C,N=Array(w);s?(p=b?kr(g[0]):"",C=Array(w),y=1):(p="",C=[],y=0);let E,_=[],M;l?(E=b?kr(g[y]):"",M=Array(w),y=y+1):(E="",M=[]);const k=d.length-y;if(k<1)throw new Error("Data file should contain at least 1 column with values.");const A=lt.zeros(k,w);for(let F=m;F<w+m;F++){const H=F-m;N[H]=H;let G=h[F].split(e);if(s&&(C[H]=G[0],G.shift()),l){const J=G[0];M[H]=J,G.shift(),(_.length===0||_.indexOf(J)<0)&&_.push(J)}const W=f==="."?G.map(J=>Number.parseFloat(J.trim())):G.map(J=>Number.parseFloat(J.trim().replace(f,".")));if(W.some(J=>Number.isNaN(J)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(W.length!=k)throw new Error("Wrong number of values in row #"+F);A.v.set(new Float64Array(W),(F-m)*k)}if(!s||C.length!==w){C=Array(w);for(let F=0;F<w;F++)C[F]="O"+(F+1)}C=C.map(F=>kr(F)),M=M.map(F=>kr(F)),_=_.map(F=>kr(F));let z,L=Array(k),S=Array(k);if(g&&g.length===k+y){z=g.map(F=>kr(F)).slice(y);for(let F=0;F<k;F++)L[F]=F,S[F]=F+1}else{z=Array(k);for(let F=0;F<k;F++)L[F]=F,z[F]="V"+(F+1),S[F]=F+1}let P;if(r==="values"){if(P=f==="."?z.map(F=>Number.parseFloat(F.trim())):z.map(F=>Number.parseFloat(F.trim().replace(f,"."))),P.some(F=>Number.isNaN(F)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else P=S;Array.isArray(P)||(P=[]),a||(a=""),c||(c=""),a=P.length>0&&a.length>0?a:"Variables",c=P.length>0&&c.length>0?c:"";const j=a+(c.length>0?", "+c:""),q=P[1]<P[0];return{values:A.t(),header:r,hasLabels:s,hasClassNames:l,labelsVarname:p,classLabelsVarname:E,objlabels:C,objindices:N,varlabels:z,varvalues:P,varindices:L,varrev:q,classes:M,responses:null,classNames:_,sep:e,dec:f,varvaluesName:a,varvaluesUnits:c,varAxisTitle:j}}function mc(t){if(ln(t[0].slice(2)))return!0;const e=t[0].length,r=[];for(let s=2;s<e;s++){let l=[];for(let f=1;f<t.length;f++)l.push(t[f][s]);const a=t[0][s],c=Wr(l),v=zs(l),u=Math.abs((a-c)/v);r.push(u)}return r.every(s=>s>5)}function gc(t){const e=",",r=t[0].split(e),s=t[1].split(e),l=r.length,a=s.length,c=";",v=t[0].split(c),u=t[1].split(c),f=v.length,h=u.length;let d,m;if(l>1&&a>1&&l===a&&l>f)m=e,d=l;else if(f>1&&h>1&&f===h)m=c,d=a;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[m,m===","?".":",",d]}function pc(t){const e=Pl(t),r=e.length;if(r<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[s,l,a]=gc(e),c=Math.min(a,5),v=Math.min(r,5);let u=e.slice(0,v).map(k=>k.split(s).slice(0,c));u=u.map(k=>k.map(A=>kr(A)));const f=u.map(k=>dc(k.slice(),l));for(let k=1;k<v;k++)if(ln(f[k].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const h=mc(f);let d=0;const m=h?1:0,g=m+1,b=u[m][0],w=u[g][0],p=f[m][0],y=f[g][0],C=f[m][1],N=f[g][1];let E=!1,_=!1;if(Number.isNaN(p)&&Number.isNaN(y)&&b!==w?(E=!0,d=d+1):Number.isNaN(C)&&Number.isNaN(N)&&b!==w&&(E=!0,_=!0,d=d+2),!_){const k=E?1:0,A=f[m][k],z=f[g][k];_=ln([A,z]),d=d+_}let M="no";if(h){d>0?u[0].slice(d):u[0];const k=d>0?f[0].slice(d):f[0];M=ln(k)?"labels":"values"}return[s,E,_,M]}function bc(t){const e=t.values.t(),r=t.sep,s=t.dec;let l=null;t.header!=="no"&&(l=t.header==="values"?t.varvalues.slice():t.varlabels.slice()),l&&t.hasClassNames&&(l=[t.classLabelsVarname,...l]),l&&t.hasLabels&&(l=[t.labelsVarname,...l]);const a=t.classes&&t.classes.length===e.ncols,c=t.objlabels&&t.objlabels.length===e.ncols;let v=l?l.join(r):"";for(let u=0;u<e.ncols;u++){let f=e.getcolref(u+1).join(r);s!=="."&&(f=f.replace(".",s)),a&&(f=t.classes[u]+t.sep+f),c&&(f=t.objlabels[u]+t.sep+f),v=v+`
`+f}return v=v+`
`,s!=="."&&(v=v.replace(/\./g,s)),v}function Us(t,e){const r=bc(t),s=new Blob([r],{type:"text/csv"}),l=window.URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download",`${e}.csv`),a.click()}function wc(t,e){const r=t.values,s=t.varvalues,l=t.varlabels,a=t.varindices,c=r.nrows,v=r.ncols,u=v-e.length,f=lt.zeros(c,u),h=Array(u),d=Array(u),m=Array(u);let g=0;for(let b=0;b<v;b++){if(e.includes(b))continue;const w=c*b,p=c*g;f.v.set(r.v.slice(w,w+c),p),h[g]=s[b],d[g]=l[b],m[g]=a[b],g=g+1}return{values:f,header:t.header,hasLabels:t.hasLabels,hasClassNames:t.hasClassNames,classNames:t.classNames,labelsVarname:t.labelsVarname,classLabelsVarname:t.classLabelsVarname,objlabels:t.objlabels,objindices:t.objindices,varlabels:d,varvalues:h,varindices:m,varrev:t.varrev,classes:t.classes,responses:t.responses,classNames:t.classNames,sep:t.sep,dec:t.dec,varvaluesName:t.varvaluesName,varvaluesUnits:t.varvaluesUnits,varAxisTitle:t.varAxisTitle,fileName:t.fileName}}function _c(t){if(!t.length)return"";t.sort((l,a)=>l-a);let e=[],r=t[0],s=r;for(let l=1;l<t.length;l++)t[l]===s+1?s=t[l]:(r===s?e.push(`${r}`):e.push(`${r}-${s}`),r=t[l],s=r);return r===s?e.push(`${r}`):e.push(`${r}-${s}`),e.join(" ")}function Xn(t,e){return gr(e)?{__type:"matrix",nrows:e.nrows,ncols:e.ncols,v:Array.from(e.v)}:Pe(e)?{__type:"vector",length:e.length,v:Array.from(e.v)}:ArrayBuffer.isView(e)?{__type:e.constructor.name,data:Array.from(e)}:e}function yc(t,e){if(e&&typeof e=="object"&&e.__type){if(e.__type==="matrix")return ic(e.v,e.nrows,e.ncols);if(e.__type==="vector")return Qe(e.v);const r=globalThis[e.__type];if(typeof r=="function")return new r(e.data)}return e}function Ys(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${e}${r}${s}${l}${a}${c}`}const xc=t=>t;function Ec(t,{delay:e=0,duration:r=400,easing:s=xc}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:s,css:a=>`opacity: ${a*l}`}}var kc=Q('<div class="drop svelte-1vipsv"><div class="modal svelte-1vipsv"><div class="header svelte-1vipsv"><button class="close-button svelte-1vipsv">✕</button></div> <div class="body svelte-1vipsv"><!></div></div></div>');function Cc(t,e){de(e,!0);function r(f){f.key==="Escape"&&e.closeModal()}var s=kc();Ln("keydown",fs,r);var l=D(s),a=D(l),c=D(a);c.__click=function(...f){var h;(h=e.closeModal)==null||h.apply(this,f)};var v=I(a,2),u=D(v);xr(u,()=>e.children),ji(7,s,()=>Ec),R(t,s),he()}tt(["click"]);function Tl(t,e){X(e,!0)}function Ac(t,e,r){const s=Ys(new Date),l=e.appID+"-session-"+s+".json";o(r).date=s;const a=JSON.stringify(o(r),Xn),c=new Blob([a],{type:"text/json"}),v=window.URL.createObjectURL(c),u=document.createElement("a");u.setAttribute("href",v),u.setAttribute("download",l),u.click()}function Sc(t,e){confirm("Are you sure? All current results and models will be lost in all tabs.")&&e()}var Mc=Q('<sup style="color:red">β</sup>'),Nc=Q('<li><button class="svelte-1cyr8za"> </button></li>'),zc=Q("<div><!></div>"),Pc=Q('<div class="info-container svelte-1cyr8za"><!></div>'),Tc=Q('<div class="page svelte-1cyr8za"><header class="page-header svelte-1cyr8za"><div class="header-group svelte-1cyr8za"><img class="logo svelte-1cyr8za" src="logo.svg"> <h1 class="svelte-1cyr8za"> <!></h1> <p class="svelte-1cyr8za"> </p></div> <ul class="nav svelte-1cyr8za"></ul></header> <main class="svelte-1cyr8za"></main> <footer class="svelte-1cyr8za"><div><span class="session-message svelte-1cyr8za"> </span> <label title="load session from file" class="upload-button svelte-1cyr8za"><input type="file" class="svelte-1cyr8za"> <svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-1cyr8za"><line x1="50" y1="25" x2="50" y2="75"></line><line x1="30" y1="40" x2="50" y2="25"></line><line x1="70" y1="40" x2="50" y2="25"></line></svg></label> <button title="download session as a file" class="download-button svelte-1cyr8za"><svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-1cyr8za"><line x1="50" y1="25" x2="50" y2="75"></line><line x1="30" y1="60" x2="50" y2="75"></line><line x1="70" y1="60" x2="50" y2="75"></line></svg></button> <button title="reset all sessions" class="clear-button svelte-1cyr8za"><svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-1cyr8za"><line x1="25" y1="25" x2="75" y2="75"></line><line x1="25" y1="75" x2="75" y2="25"></line></svg></button></div> <div class="info svelte-1cyr8za"><button title="Show information about the app" class="button-info svelte-1cyr8za">info</button> <!></div></footer> <!></div>');function Rc(t,e){de(e,!0);let r=Y(e,"tabs",19,()=>[]),s=Y(e,"isBeta",3,!1);const l="mdatools-"+e.appID;let a=ae(!1),c=ae(void 0),v=ae("Current session "),u=ae(!1);function f(E){X(v,E,!0),X(u,!0),setTimeout(()=>{X(v,"Current session "),X(u,!1)},1e3)}function h(){X(a,!1)}function d(E){o(c).tab=E}function m(){const E=indexedDB.open(l,1);E.onsuccess=_=>{const k=_.target.result.transaction(e.appID,"readwrite");k.objectStore(e.appID).delete("session"),k.oncomplete=()=>{X(c,e.initSession(),!0),f("Session was reinitialzed.")},k.onerror=()=>console.error("Failed to session from DB.")}}function g(E,_){window.localStorage.removeItem(e.appID+"-blocked");const M=indexedDB.open(l,1);M.onsuccess=k=>{const L=k.target.result.transaction(e.appID,"readwrite").objectStore(e.appID);L.put(E,"session"),L.put(Ys(new Date),"session-update")}}function b(){new Promise((E,_)=>{const M=indexedDB.open(l,1);M.onsuccess=k=>{const S=k.target.result.transaction(e.appID,"readonly").objectStore(e.appID).get("session");S.onsuccess=()=>E(S.result),S.onerror=()=>_(S.error)}}).then(E=>{w(E),X(v,"Last session is restored "),X(u,!0),setTimeout(()=>{X(v,"Current session "),X(u,!1)},1500)}).catch(E=>{console.error(E),X(c,e.initSession(),!0)})}function w(E){if(!E||E==="undefined"){X(c,e.initSession(),!0);return}const _=JSON.parse(E,yc);X(c,e.checkSession(_)?_:e.initSession(e.appID),!0)}function p(E){e.resetSession(o(c));const _=new FileReader;_.onload=()=>{w(_.result),E.target.value=""},_.readAsText(E.target.files[0])}Oi(()=>{const E=e.appID,_=indexedDB.open(l,1);_.onupgradeneeded=M=>{const k=M.target.result;k.objectStoreNames.contains(E)||k.createObjectStore(E)},_.onsuccess=M=>{b()}});var y=ue(),C=$(y);{var N=E=>{var _=Tc(),M=D(_),k=D(M),A=D(k),z=I(A,2),L=D(z),S=I(L);{var P=Ae=>{var _e=Mc();R(Ae,_e)};U(S,Ae=>{s()&&Ae(P)})}var j=I(z,2),q=D(j),B=I(k,2);He(B,21,r,Xe,(Ae,_e,dt)=>{var xe=Nc();let Le;var Je=D(xe);Je.__click=()=>d(dt),Je.__keydown=()=>d(dt);var Et=D(Je);ne(zt=>{Le=vt(xe,1,"nav-item svelte-1cyr8za",null,Le,zt),le(Et,o(_e).name)},[()=>({selected:o(c).tab===dt})]),R(Ae,xe)});var F=I(M,2);He(F,21,r,Xe,(Ae,_e,dt)=>{var xe=zc();let Le;var Je=D(xe);Cs(Je,()=>o(_e).component,(Et,zt)=>{zt(Et,{get WASM(){return e.WASM},get session(){return o(c)},backupSession:g})}),ne(Et=>Le=vt(xe,1,"tab-content svelte-1cyr8za",null,Le,Et),[()=>({hidden:o(c).tab!==dt})]),R(Ae,xe)});var H=I(F,2),G=D(H);let W;var J=D(G),te=D(J),ee=I(J,2),Z=D(ee);Z.__change=p;var re=I(ee,2);re.__click=[Ac,e,c];var oe=I(re,2);oe.__click=[Sc,m];var ve=I(G,2),we=D(ve);we.__click=[Tl,a],we.__keydown=[Tl,a];var ye=I(we,2);xr(ye,()=>e.footer);var Te=I(H,2);{var Ce=Ae=>{Cc(Ae,{closeModal:h,children:(_e,dt)=>{var xe=Pc(),Le=D(xe);xr(Le,()=>e.info),R(_e,xe)},$$slots:{default:!0}})};U(Te,Ae=>{o(a)&&Ae(Ce)})}ne(Ae=>{V(A,"alt",e.appShortTitle),le(L,e.appTitle),le(q,e.appSlogan),W=vt(G,1,"session svelte-1cyr8za",null,W,Ae),le(te,o(v))},[()=>({"no-buttons":o(u)})]),R(E,_)};U(C,E=>{o(c)&&E(N)})}R(t,y),he()}tt(["click","keydown","change"]);function Lc(t,e,r,s,l){const a=t.ncomp,c=t.nrows,v=new Array(a),u=new Array(a),f=new Array(a),h=new Array(a);for(let d=0;d<a;d++){const m=$t(t,e==="robust"?"fdistr":"fdistc",d+1),g=Rl(!1,m,s[d],l[d]);let b=t.nrows;const w=s[d],p=r[d],y=new Ne(m);let C=y.sort(),N=y.sortind();const E=Array.from({length:c},()=>"alien");let _=-1,M=0,k=0,A=0,z=0;for(;_<0;)M>0&&(E[N.v[b-1]-1]="external",b=b-1,N=N.slice(1,b),C=C.slice(1,b)),k=Wr(C),A=Vn(C,!0),z=A/(k*k),_=4-2*p*z,M=M+1;const L=(2+Math.sqrt(_))/z,S=L-p,P=k/L,j=w/P,q=1-2*(p+S)*(p+3*S)/(3*(p+2*S)**2),B=(q-1)*(1-3*q),F=(p+2*S)/(p+S)**2,H=1+q*F*(q-1-.5*(2-q)*B*F),G=q*Math.sqrt(2*F)*(1+.5*B*F),W=On((Math.pow(j/(p+S),q)-H)/G);v[d]=g,v[d].beta=W,v[d].s=S,v[d].k=p,v[d].Mz=H,v[d].Sz=G,v[d].m=k,v[d].f0=P,v[d].hz=q,v[d].anum={aliens:b,external:c-b},v[d].a=E,f[d]=1-W,u[d]=g.TN/(g.TN+g.FP),h[d]=d+1}return{class:["simcares"],classes:t.classes,classNames:t.classNames,target:!1,v,nrows:t.nrows,stat:{specificity:u,selectivity:f,components:h}}}function Rl(t,e,r,s){const l=e.length,a=new Array(l),c=new Array(l),v={regular:0,extreme:0,outliers:0},u={in:0,out:0};let f=0,h=0,d=0,m=0;for(let g=0;g<l;g++){const b=e[g];b<r?(a[g]="regular",c[g]="in",v.regular+=1,u.in+=1):b>s?(a[g]="outlier",c[g]="out",v.outliers+=1,u.out+=1):(a[g]="extreme",c[g]="out",v.extreme+=1,u.out+=1),f=f+(c[g]==="in"&&t),m=m+(c[g]!=="in"&&t),d=d+(c[g]!=="in"&&!t),h=h+(c[g]==="in"&&!t)}return{f:e,c:a,d:c,cnum:v,dnum:u,TP:f,TN:d,FN:m,FP:h}}function jc(t,e,r,s){const l=t.ncomp,a=new Array(l),c=new Array(l),v=new Array(l);for(let u=0;u<l;u++){const f=$t(t,e==="robust"?"fdistr":"fdistc",u+1),h=Rl(!0,f,r[u],s[u]);c[u]=h.TP/(h.TP+h.FN),v[u]=u+1,a[u]=h}return{class:["simcares"],classes:t.classes,target:!0,v:a,nrows:t.nrows,stat:{sensitivity:c,components:v}}}function Ic(t,e,r,s,l,a){(!a||!Array.isArray(a))&&(a=[]);let c=t.exclvars;(!c||!Array.isArray(c))&&(c=[]);const v=s.values.nrows,u=a.length,f=v-u,h=e.ncomp,d=$t(r.pca,"qdist",h),m=$t(r.pca,"hdist",h),g=e.limType==="classic"?"c":"r",b=$t(r.pca,"fdist"+g,h),w=rt(t,g+"Nh")[h-1],p=rt(t,g+"Nq")[h-1],y=rt(t,g+"h0")[h-1],C=rt(t,g+"q0")[h-1],N=w+p,E=r.simca.v[h-1],_=s.sep,M=r.simca.classes&&r.simca.classes.length===f,k=M?["","","","",""]:["","","",""];let A="";if(A+=["Reference classes:",M?"provided":"not provided",...k].join(_)+`
`,A+=["Number of components:",h,...k].join(_)+`
`,A+=["Alpha:",(e.alpha/100).toFixed(3),...k].join(_)+`
`,A+=["Limits estimator:",e.limType,...k].join(_)+`
`,A+=`
`,A+=["Nh:",w,...k].join(_)+`
`,A+=["Nq:",p,...k].join(_)+`
`,A+=["Nf:",N,...k].join(_)+`
`,A+=`
`,A+=["F crit (extremes):",e.eCrit[h-1],...k].join(_)+`
`,A+=["F crit (outliers):",e.oCrit[h-1],...k].join(_)+`
`,A+=`
`,c.length>0&&(A+=["Number of excluded varibles:",c.length,...k].join(_)+`
`,A+=["Indices of excluded varibles:",_c(c),...k].join(_)+`
`,A+=`
`),E.beta!==null&&E.beta!==void 0){A+=["Objects treated as from non-target class","",...k].join(_)+`
`,A+=["Objects:",v,...k].join(_)+`
`,A+=["In:",E.dnum.in,...k].join(_)+`
`,A+=["Out:",E.dnum.out,...k].join(_)+`
`,A+=["Aliens:",E.anum.aliens,...k].join(_)+`
`,A+=["External:",E.anum.external,...k].join(_)+`
`,A+=["Specificity:",r.simca.stat.specificity?r.simca.stat.specificity[h-1]:"-",...k].join(_)+`
`,A+=["Selectivity:",r.simca.stat.selectivity?r.simca.stat.selectivity[h-1]:"-",...k].join(_)+`
`,A+=["Beta:",E.beta,...k].join(_)+`
`,A+=["Non-centrality, s:",E.s,...k].join(_)+`
`,A+=["Scaling, f0:",E.f0,...k].join(_)+`
`,A+=`
`,A+=["","object","class","role","decision","h/h0","q/q0","f"].join(_)+`
`;for(let j=0;j<v;j++)A+=["",s.objlabels[j],r.simca.classes[j],E.a[j],E.d[j],m[j]/y,d[j]/C,b[j]].join(_)+`
`}else{A+=["Objects treated as from target class","",...k].join(_)+`
`,A+=["Objects:",v,...k].join(_)+`
`,A+=["Removed:",u,...k].join(_)+`
`,A+=["In:",E.dnum.in,...k].join(_)+`
`,A+=["Out:",E.dnum.out,...k].join(_)+`
`,A+=["Regular:",E.cnum.regular,...k].join(_)+`
`,A+=["Extreme:",E.cnum.extreme,...k].join(_)+`
`,A+=["Outliers:",E.cnum.outliers,...k].join(_)+`
`,A+=["Sensitivity:",r.simca.stat.sensitivity?r.simca.stat.sensitivity[h-1]:"-",...k].join(_)+`
`,A+=`
`,A+=["","object","class","role","decision","h/h0","q/q0","f"].join(_)+`
`;let j=0;for(let q=0;q<v;q++){if(u>0&&a.includes(q)){A+=["",s.objlabels[q],"-","removed","-","-","-","-"].join(_)+`
`;continue}A+=["",s.objlabels[j],r.pca.classes[j],E.c[j],E.d[j],m[j]/y,d[j]/C,b[j]].join(_)+`
`,j=j+1}}A+=`
`,s.dec!=="."&&(A=A.replace(/\./g,s.dec)),A=["Target class:",e.className,...k].join(_)+`
`+A,A=["Data filename:",s.fileName,...k].join(_)+`
`+A;let z=["DD-SIMCA results ("+l+")","https://mda.tools/ddsimca/",...k].join(_)+`

`;const L=new Blob([z+A],{type:"text/csv"}),S=window.URL.createObjectURL(L),P=document.createElement("a");P.setAttribute("href",S),P.setAttribute("download",`ddsimca-results-${l}.csv`),P.click()}function Fc(t,e){const r=new Blob([JSON.stringify({pca:t,simca:e},Xn)],{type:"application/json"}),s=window.URL.createObjectURL(r),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download","ddsimca-model.json"),l.click()}async function Ll(t,e,r=.1,s="classic"){const l=e.calset.values,a=e.tarset.values,c=e.altset.values,v=e.calset.classNames[0],u=l.ncols-e.varsExcluded.length,f=e.model.ncomp>u?u:e.model.ncomp;return t().then(h=>{const d=Bs(h,l,f,e.model.center,e.model.scale,[],e.varsExcluded),m=on(h,d,a);m.objindices=e.tarset.objindices,m.objlabels=e.tarset.objlabels,m.classes=e.tarset.classes,m.classNames=e.tarset.classNames;const g=on(h,d,c);g.objindices=e.altres.objindices,g.objlabels=e.altres.objlabels,g.classes=e.altres.classes,g.classNames=e.altres.classNames,d.hash=Kn(),d.varlabels=e.calset.varlabels.filter(k=>!e.varsExcluded.includes(k)),d.varindices=e.calset.varindices.filter(k=>!e.varsExcluded.includes(k)),d.varvalues=e.calset.varvalues.filter(k=>!e.varsExcluded.includes(k)),d.varvaluesName=e.calset.varvaluesName,d.varvaluesUnits=e.calset.varvaluesUnits,d.varrev=e.calset.varrev,d.header=e.calset.header,d.prep=[];const b=1-e.alpha/100,w=Math.pow(1-r/100,1/d.nrows),p=s.charAt(0),y=rt(d,p+"Nh"),C=rt(d,p+"Nq"),N=y.map((k,A)=>k+C[A]),E=N.map(k=>Bn(b,k)),_=N.map(k=>Bn(w,k)),M={ncomp:e.nComp,alpha:e.alpha,gamma:r,limType:s,Nf:N,eCrit:E,oCrit:_,className:v,hash:Kn()};e.currentRes={model:d,simca:M,tar:{pca:m,simca:jc(m,s,E,_)},alt:{pca:g,simca:Lc(g,s,N,E,_)}}}).catch(h=>{console.error(h)})}function qc(t,e,r){let s=t.length;const l=Qe(t);let a=l.sort(),c=l.sortind(),v=-1,u=0,f=0,h=0,d=0;for(;v<0;)u>0&&(s=s-1,c=c.slice(1,s),a=a.slice(1,s)),f=Wr(a),h=Vn(a,!0),d=h/(f*f),v=4-2*r*d,u=u+1;const m=(2+Math.sqrt(v))/d,g=m-r,b=f/m,w=e/b,p=1-2*(r+g)*(r+3*g)/(3*(r+2*g)**2),y=(p-1)*(1-3*p),C=(r+2*g)/(r+g)**2,N=1+p*C*(p-1-.5*(2-p)*y*C),E=p*Math.sqrt(2*C)*(1+.5*y*C);return 1-On((Math.pow(w/(r+g),p)-N)/E)}function jl(t,e,r,s,l=5){if(l<.01||l>50)throw new Error("getStat: wrong value for 'alpha' parameter.");let a,c,v,u,f;s?(f=s.ncompBest,a=s.sens,c=s.spec,v=s.eff,u=s.sel):(a=new Float64Array(t.ncomp),c=new Float64Array(t.ncomp),v=new Float64Array(t.ncomp),u=new Float64Array(t.ncomp));const h=rt(t,"cNh"),d=rt(t,"ch0"),m=rt(t,"cNq"),g=rt(t,"cq0"),b=new Float64Array(t.ncomp),w=new Float64Array(t.ncomp),p=new Float64Array(t.ncomp),y=new Float64Array(t.ncomp),C=new Float64Array(t.ncomp),N=new Float64Array(t.ncomp),E=new Float64Array(t.ncomp),_=new Float64Array(t.ncomp),M=1-l/100;for(let k=0;k<t.ncomp;k++){const A=h[k],z=d[k],L=m[k],S=g[k],P=A+L,j=Bn(M,P);let q,B;q=$t(e,"qdist",k+1),B=$t(e,"hdist",k+1);let F=0;for(let W=0;W<e.nrows;W++){const J=B[W]/z*A+q[W]/S*L;F+=J<j}F=F/e.nrows,b[k]=F,C[k]=b[k]-a[f?f-1:k],q=$t(r,"qdist",k+1),B=$t(r,"hdist",k+1);const H=Array(r.nrows);let G=0;for(let W=0;W<r.nrows;W++){const J=B[W]/z*A+q[W]/S*L;G+=J>=j,H[W]=J}G=G/r.nrows,w[k]=G,p[k]=qc(H,j,P),N[k]=w[k]-c[f?f-1:k],E[k]=p[k]-u[f?f-1:k],y[k]=Math.sqrt(F*G),_[k]=y[k]-v[f?f-1:k]}return{alpha:l,ncomp:t.ncomp,sens:{diff:C,val:b},spec:{diff:N,val:w},sel:{diff:E,val:p},eff:{diff:_,val:y}}}async function Vc(t,e){const{varInd:r,nComp:s,Xcal:l,Xtar:a,Xalt:c,center:v,scale:u,statsCurrent:f,alpha:h}=e;return t().then(d=>{const m=Bs(d,l,s,v,u,[],r),g=on(d,m,a),b=on(d,m,c);return jl(m,g,b,f,h)}).catch(d=>{console.error(d)})}function Oc(t,e,r,s){if(!r&&!e)throw new Error('One of the two arguments "nInt" or "intSize" must be specified.');if(e?r=Math.round(t/e):e=Math.round(t/r),!Number.isInteger(e)||e<2||e>t)throw new Error('Wrong value for "nInt" or "intSize" arguments.');if(!Number.isInteger(r)||r<1||r>t/2)throw new Error('Wrong value for "nInt" or "intSize" arguments.');const l=Array(e),a=Array(e),c=Array(e),v=Array(e),u=Array(e),f=t%e,h=Math.trunc(t/e);let d,m,g;if(e===t)for(r=1,d=0;d<e;d++)l[d]=d,a[d]=d;else if(f===0)for(d=0;d<e;d++)m=d*h,l[d]=m,a[d]=m+h-1;else{let k=0;for(d=0;d<f;d++)l[d]=k,k+=h+1,a[d]=k-1;for(d=f;d<e;d++)l[d]=k,k+=h,a[d]=k-1}let b,w,p,y,C,N,E,_,M=[0,1];for(d=0;d<e;d++)m=l[d],p=s[m],g=a[d],y=s[g],d>0&&(w=a[d-1],N=s[w],E=(p-N)/2),d<e-1&&(b=l[d+1],C=s[b],_=(C-y)/2),d===0&&(E=_,M[0]=p-2*E),d===e-1&&(E=_,M[1]=y+2*_),v[d]=p-E,u[d]=y-p+E+_,c[d]=(p+y)/2;return{nVars:t,nInt:e,intSize:r,intLeftIndices:l,intRightIndices:a,limX:M,left:v,width:u,mid:c}}function Dc(t){const e=[4,6,7,8,9].filter(l=>l<=t&&t%l===0);let r;return t>=10&&t<20?r=[t]:t>=20&&t<30?r=[10,t]:t>=30&&t<=50?r=[10,20,t]:t>50&&t<70?r=[10,20,30]:t>=70&&t<90?r=[10,20,30,40]:t>=90?r=[10,20,30,40,50]:t===5?r=[5]:r=[],[...e,...r].sort((l,a)=>l-a)}var Bc=Q('<button tabindex="0" class="button svelte-ymtj5z"> </button>');function ut(t,e){let r=Y(e,"text",3,"button");var s=Bc();s.__click=function(...a){var c;(c=e.onclick)==null||c.apply(this,a)};var l=D(s);ne(()=>le(l,r())),R(t,s)}tt(["click"]);var Wc=Q('<button tabindex="0"></button>');function Gs(t,e){var r=Wc();r.__click=function(...s){var l;(l=e.onclick)==null||l.apply(this,s)},ne(()=>{V(r,"title",e.title),V(r,"aria-label",e.title),V(r,"alt",e.title),vt(r,1,`button ${e.className??""}`,"svelte-bx9fh5")}),R(t,r)}tt(["click"]);function an(t,e){let r=Y(e,"title",3,"Reset");Gs(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-cancel"})}function Uc(t,e){let r=Y(e,"title",3,"Undo");Gs(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-undo"})}function Yc(t,e){let r=Y(e,"title",3,"Download");Gs(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-download"})}function Gc(t){const e={};for(const r of Object.keys(t))e[r]=t[r].default;return e}var Hc=Q('<span class="label svelte-vzu0vi"> </span>'),Kc=Q("<div><!> <!></div>");function ce(t,e){let r=Y(e,"label",3,null),s=Y(e,"name",3,""),l=Y(e,"status",3,""),a=Y(e,"colors",3,""),c=Y(e,"labelWidth",3,12);var v=Kc(),u=D(v);{var f=d=>{var m=Hc(),g=D(m);ne(()=>{Wt(m,`flex-basis:${c()??""}ch;`),le(g,r())}),R(d,m)};U(u,d=>{r()&&d(f)})}var h=I(u,2);xr(h,()=>e.children??gt),ne(()=>{vt(v,1,`control-element ${s()??""} ${l()??""}`,"svelte-vzu0vi"),Wt(v,a())}),R(t,v)}const Il=(t,e,r,s)=>{const l=e(t);l<0||l>1||X(r,l*100>o(s)-5&&l*100<o(s)+5,!0)},Fl=(t,e,r,s,l,a)=>{X(e,!1);const c=r(t);c<0||c>1||(s(l(c)),a()&&a()(s()))},ql=(t,e,r,s,l,a)=>{if(!o(e))return;const c=r(t);c<0||c>1||(s(l(c)),a()&&a()(s()))},Xc=(t,e,r,s,l,a)=>{if(t.key==="ArrowLeft"){e(e()-r()<s()?s():e()-r()),l()&&l()(e());return}if(t.key==="ArrowRight"){e(e()+r()>a()?a():e()+r()),l()&&l()(e());return}};var Qc=Q('<div role="slider" class="range-slider-container svelte-vhx0r0" tabindex="0"><div><span> </span></div></div>');function Vl(t,e){de(e,!0);let r=Y(e,"min",7,0),s=Y(e,"max",3,100),l=Y(e,"value",31,()=>Ge(r())),a=Y(e,"decNum",3,1),c=Y(e,"step",19,()=>+((s()-r())/100).toFixed(4)),v=Y(e,"onchange",3,null);me(()=>{l()<r()&&(l(r()),v()&&v()(l())),l()>s()&&(l(s()),v()&&v()(l())),r()>s()&&r(s())});let u=ae(void 0),f=ae(void 0),h=ae(!1);const d=M=>{const k=r()+M*(s()-r());return+(Math.round(k/c())*c()).toFixed(4)},m=M=>{const k=o(u).getBoundingClientRect(),A=o(f).getBoundingClientRect(),z=k.x,L=A.x+A.width;return(M.clientX-z)/(L-z)},g=M=>{X(h,!1)},b=M=>{let k=l()+c()*M.deltaY*.5;k<r()&&(k=r()),k>s()&&(k=s()),l(+(Math.round(k/c())*c()).toFixed(4)),M.preventDefault(),v()&&v()(l())},w=T(()=>r()===s()?100:(l()-r())/(s()-r())*100);var p=Qc();p.__keydown=[Xc,l,c,r,v,s],p.__mousemove=[ql,h,m,l,d,v],p.__mousedown=[Il,m,h,w],p.__mouseup=[Fl,h,m,l,d,v],p.__touchmove=[ql,h,m,l,d,v],p.__touchstart=[Il,m,h,w],p.__touchend=[Fl,h,m,l,d,v];var y=D(p);let C;var N=D(y);let E;var _=D(N);Fn(y,M=>X(u,M),()=>o(u)),Fn(p,M=>X(f,M),()=>o(f)),ne((M,k,A)=>{V(p,"aria-valuenow",l()),V(p,"aria-valuemin",r()),V(p,"aria-valuemax",s()),C=vt(y,1,"range-slider svelte-vhx0r0",null,C,M),Wt(y,`width:${o(w)??""}%`),E=vt(N,1,"range-value svelte-vhx0r0",null,E,k),le(_,A)},[()=>({"range-slider_right":o(w)<50}),()=>({"range-value_right":o(w)<50}),()=>l().toFixed(a())]),Ln("mousewheel",p,b),Ln("mouseleave",p,g),Ln("touchcancel",p,g),R(t,p),he()}tt(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]),tt(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]);const Jc=(t,e,r)=>{if(t.key==="ArrowLeft"){const s=e.options.findIndex(l=>l===r());s>0&&r(e.options[s-1]);return}if(t.key==="ArrowRight"){const s=e.options.findIndex(l=>l===r());s<e.options.length-1&&r(e.options[s+1]);return}};var Zc=(t,e,r)=>e(r),$c=Q('<button tabindex="-1"><!></button>'),eu=Q('<div role="radiogroup" tabindex="0"></div> <input class="svelte-1i17tox">',1);function Nt(t,e){de(e,!0);let r=Y(e,"value",31,()=>Ge(e.options[0])),s=Y(e,"className",3,"");var l=eu(),a=$(l);a.__keydown=[Jc,e,r],He(a,20,()=>e.options,v=>v,(v,u)=>{var f=$c();f.__click=[Zc,r,u];let h;var d=D(f);yt(d,()=>u,!1,!1),ne((m,g)=>h=vt(f,1,`option option_${m??""}`,"svelte-1i17tox",h,g),[()=>u.toString().replace(".","_"),()=>({selected:u==r()})]),R(v,f)});var c=I(a,2);ne(()=>vt(a,1,`selector ${s()??""}`,"svelte-1i17tox")),sl(c,r),R(t,l),he()}tt(["keydown","click"]);function cn(t,e){de(e,!0);let r=Y(e,"options",19,()=>["no","yes"]),s=Y(e,"value",15,!1),l=ae(!0);const a=T(()=>r().length!=2?(console.error('Switch: parameter "option" must gave two values.'),null):r());me(()=>X(l,s()?r()[1]:r()[0],!0)),me(()=>s(o(l)===r()[1]));var c=ue(),v=$(c);{var u=f=>{Nt(f,{get options(){return o(a)},get value(){return o(l)},set value(h){X(l,h,!0)}})};U(v,f=>{o(a)&&f(u)})}R(t,c),he()}var tu=Q('<div tabindex="0" role="radiogroup"> <input type="file" class="svelte-1k0x7uv"></div> <!>',1);function ru(t,e){de(e,!0);let r=Y(e,"file",15),s=Y(e,"message",3,"Select CSV file with dataset"),l=Y(e,"acceptType",3,".csv"),a;function c(p){a&&a.files.length>0?r(a.files[0]):r(null)}function v(p){(p.type==="click"||p.type==="keydown"&&(p.code==="Space"||p.code==="Enter"))&&a.click()}function u(p){a.value=null,r(null)}var f=tu(),h=$(f);h.__keydown=v,h.__click=v;let d;var m=D(h),g=I(m);g.__change=c,Fn(g,p=>a=p,()=>a);var b=I(h,2);{var w=p=>{an(p,{onclick:u})};U(b,p=>{r()&&p(w)})}ne(p=>{d=vt(h,1,"file-selector svelte-1k0x7uv",null,d,p),le(m,`${(r()?r().name:s())??""} `),V(g,"accept",l())},[()=>({selected:r()})]),R(t,f),he()}tt(["keydown","click","change"]);function nu(t,e,r,s){e()&&X(r,e()(s()),!0)}var su=Q('<div class="error-message svelte-1qtiwcs"> </div>'),ou=Q('<div><input type="text" class="svelte-1qtiwcs"> <!></div>');function Ol(t,e){de(e,!0);let r=Y(e,"value",15,""),s=Y(e,"className",3,""),l=Y(e,"placeholder",3,""),a=Y(e,"maxLength",3,25),c=Y(e,"validator",3,null),v=ae("");var u=ou();let f;var h=D(u);h.__input=[nu,c,v,r];var d=I(h,2);{var m=g=>{var b=su(),w=D(b);ne(()=>le(w,o(v))),R(g,b)};U(d,g=>{o(v)&&o(v).length>0&&g(m)})}ne(g=>{f=vt(u,1,`textinput ${s()??""}`,"svelte-1qtiwcs",f,g),V(h,"placeholder",l()),V(h,"maxlength",a())},[()=>({error:o(v)&&o(v).length>0})]),sl(h,r),R(t,u),he()}tt(["input"]);var lu=Q('<div class="spinner svelte-n48urb"></div>');function Hs(t){var e=lu();R(t,e)}tt(["keydown","click"]),tt(["keydown","click"]);var au=Q("<h2> </h2>"),iu=Q("<!> <!>",1),cu=Q('<div class="widget"><!></div>');function uu(t,e){de(e,!0);let r=Y(e,"title",3,""),s=Y(e,"value",15),l=Y(e,"labelWidth",3,13);function a(f){const h={};for(const d of Object.keys(f))h[d]=f[d].default;return h}me(()=>{!s()&&e.options&&s(a(e.options))});var c=cu(),v=D(c);{var u=f=>{var h=iu(),d=$(h);{var m=b=>{ce(b,{children:(w,p)=>{var y=au(),C=D(y);ne(()=>le(C,r())),R(w,y)},$$slots:{default:!0}})};U(d,b=>{r()&&b(m)})}var g=I(d,2);He(g,17,()=>Object.keys(e.options),Xe,(b,w)=>{var p=ue();const y=T(()=>e.options[o(w)]);var C=$(p);{var N=E=>{ce(E,{get name(){return o(y).name},get label(){return o(y).label},get labelWidth(){return l()},children:(_,M)=>{var k=ue(),A=$(k);Cs(A,()=>o(y).el,(z,L)=>{L(z,Ve(()=>o(y).props,{get value(){return s()[o(w)]},set value(S){s(s()[o(w)]=S,!0)}}))}),R(_,k)},$$slots:{default:!0}})};U(C,E=>{o(y).hidden||E(N)})}R(b,p)}),R(f,h)};U(v,f=>{s()&&f(u)})}R(t,c),he()}var fu=Q('<span style="font-weight:bold"> </span><br>',1),vu=Q('<p class="dataset-info svelte-gdjwex"><!> <span>Data file:</span> <span class="file-name svelte-gdjwex"> </span><br> <span>Size:</span> <span class="file-size svelte-gdjwex"> </span></p> <!>',1);function du(t,e){de(e,!0);let r=Y(e,"title",3,"");var s=ue(),l=$(s);{var a=c=>{ce(c,{children:(v,u)=>{var f=vu(),h=$(f),d=D(h);{var m=C=>{var N=fu(),E=$(N),_=D(E);ne(()=>le(_,r())),R(C,N)};U(d,C=>{r()&&r()!==""&&C(m)})}var g=I(d,4),b=D(g),w=I(g,5),p=D(w),y=I(h,2);an(y,{get onclick(){return e.reset}}),ne(()=>{V(g,"title",e.dataset.fileName),le(b,e.dataset.fileName),le(p,`${e.dataset.values.nrows??""} × ${e.dataset.values.ncols??""}`)}),R(v,f)},$$slots:{default:!0}})};U(l,c=>{e.dataset&&c(a)})}R(t,s),he()}var hu=Q("<!> <!>",1),mu=Q("<!> <!> <!> <!> <!> <!>",1),gu=Q("<!> <!>",1),pu=Q("<p> </p>"),bu=Q("<!> <p> </p>",1),wu=Q("<p> </p>"),_u=Q("<!> <!> <!>",1);function Ks(t,e){de(e,!0);let r=Y(e,"model",3,null),s=Y(e,"outliers",19,()=>[]),l=Y(e,"className",3,"Class"),a=Y(e,"classMandatory",3,!1),c=Y(e,"classUnique",3,!1),v=Y(e,"title",3,""),u=Y(e,"dataset",15),f=Y(e,"resobj",15);const h=[",",";"],d=T(()=>r()?["no","yes"]:["no","labels","values"]);let m=ae(void 0),g=ae(""),b=ae(""),w=ae(","),p=ae("no"),y=ae(!1),C=ae(!1),N=ae(null),E=ae("neutral"),_=ae("");function M(W,J,te){X(N,e.WASM().then(ee=>{f(Ws(ee,W,J,te))}).catch(ee=>{console.error(ee),f(null),X(E,"error"),X(_,ee,!0)}),!0)}function k(W,J){if(!W||W.size<10)return;const ee=W.slice(0,1e5),Z=new FileReader;Z.onload=()=>{const re=Z.result;!re||re.length<0||((oe=>(X(w,oe[0],!0),X(y,oe[1],!0),X(C,oe[2],!0),X(p,oe[3],!0)))(pc(re)),X(C,a()||o(C),!0),J&&o(p)!=="no"&&X(p,"yes"))},Z.onerror=function(re){csvString=null,X(E,"error"),X(_,re,!0),console.error("Error reading CSV file.",re)},Z.readAsText(ee)}function A(W){try{const J=hc(W,o(w),o(p)==="yes"?"labels":o(p),o(y),o(C),o(g),o(b));if(J.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r()&&J.values.ncols!==r().ncols+r().exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(J.classNames.length>J.values.nrows/2)throw new Error("Dataset has too many unique "+l().toLowerCase()+" labels ("+J.classNames.length+"), check your CSV file.");if(a()&&J.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(c()&&J.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");J.fileName=o(m).name.replace(/\.[^/.]+$/,""),r()&&(J.varrev=r().varrev,J.header=r().header,J.varlabels=r().varlabels,J.varvalues=r().varvalues,J.varvaluesName=r().varvaluesName,J.varvaluesUnits=r().varvaluesUnits),u(J),X(_,""),X(E,"success")}catch(J){console.error(J),u(null),X(E,"error"),X(_,J,!0)}}function z(W){const J=new FileReader;J.onload=()=>{A(J.result)},J.readAsText(o(m))}function L(){X(m,""),u(null),f(null),X(g,""),X(b,""),X(E,"neutral"),X(_,"")}me(()=>{o(m)===null?L():(k(o(m),r()),X(E,"neutral"),X(_,""))}),me(()=>{o(w)&&(X(E,"neutral"),X(_,""))}),me(()=>{if(u()&&r()&&!f()&&!o(_))try{f(M(r(),u(),s())),X(_,""),X(E,"success")}catch(W){console.error(W),u(null),f(null),X(E,"error"),X(_,W,!0)}});var S=_u(),P=$(S);{var j=W=>{var J=gu(),te=$(J);Jo(te,()=>o(m)===void 0,re=>{ce(re,{children:(oe,ve)=>{ru(oe,{id:"dataFile",message:"Select CSV file with dataset",get file(){return o(m)},set file(we){X(m,we,!0)}})},$$slots:{default:!0}})});var ee=I(te,2);{var Z=re=>{var oe=mu(),ve=$(oe);ce(ve,{label:"Delimiter",children:(xe,Le)=>{Nt(xe,{id:"sep",options:h,get value(){return o(w)},set value(Je){X(w,Je,!0)}})},$$slots:{default:!0}});var we=I(ve,2);ce(we,{label:"Row labels",children:(xe,Le)=>{cn(xe,{id:"hasLabels",options:["no","yes"],get value(){return o(y)},set value(Je){X(y,Je,!0)}})},$$slots:{default:!0}});var ye=I(we,2);{var Te=xe=>{ce(xe,{get label(){return`${l()??""} labels`},children:(Le,Je)=>{cn(Le,{id:"hasLabels",options:["no","yes"],get value(){return o(C)},set value(Et){X(C,Et,!0)}})},$$slots:{default:!0}})};U(ye,xe=>{a()||xe(Te)})}var Ce=I(ye,2);ce(Ce,{label:"Header",children:(xe,Le)=>{Nt(xe,{id:"header",get options(){return o(d)},get value(){return o(p)},set value(Je){X(p,Je,!0)}})},$$slots:{default:!0}});var Ae=I(Ce,2);{var _e=xe=>{var Le=hu(),Je=$(Le);ce(Je,{label:"Header name",children:(zt,Hr)=>{Ol(zt,{id:"varvaluesName",placeholder:"e.g. Wavelength",get value(){return o(g)},set value(Pt){X(g,Pt,!0)}})},$$slots:{default:!0}});var Et=I(Je,2);ce(Et,{label:"Header units",children:(zt,Hr)=>{Ol(zt,{id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm",get value(){return o(b)},set value(Pt){X(b,Pt,!0)}})},$$slots:{default:!0}}),R(xe,Le)};U(Ae,xe=>{o(p)==="values"&&xe(_e)})}var dt=I(Ae,2);ce(dt,{label:" ",children:(xe,Le)=>{ut(xe,{text:"Load",onclick:z})},$$slots:{default:!0}}),R(re,oe)};U(ee,re=>{o(m)&&re(Z)})}R(W,J)},q=W=>{var J=ue(),te=$(J);{var ee=Z=>{var re=ue(),oe=$(re);ks(oe,()=>o(N),ve=>{ce(ve,{children:(we,ye)=>{var Te=bu(),Ce=$(Te);Hs(Ce);var Ae=I(Ce,2),_e=D(Ae);ne(()=>le(_e,r()?"Loading data and apply model...":"Loading data...")),R(we,Te)},$$slots:{default:!0}})},void 0,(ve,we)=>{ce(ve,{status:"error",children:(ye,Te)=>{var Ce=pu(),Ae=D(Ce);ne(()=>le(Ae,o(we))),R(ye,Ce)},$$slots:{default:!0}})}),R(Z,re)};U(te,Z=>{o(N)&&Z(ee)})}R(W,J)};U(P,W=>{u()?W(q,!1):W(j)})}var B=I(P,2);{var F=W=>{du(W,{get dataset(){return u()},reset:L,get title(){return v()}})};U(B,W=>{u()&&W(F)})}var H=I(B,2);{var G=W=>{ce(W,{status:"error",children:(J,te)=>{var ee=wu(),Z=D(ee);ne(()=>le(Z,o(_))),R(J,ee)},$$slots:{default:!0}})};U(H,W=>{(o(E)==="error"||o(_))&&W(G)})}R(t,S),he()}var yu=Q("<!> <!> <!> <!>",1),xu=Q("<p> </p>"),Eu=Q("<!> <p>Computing global model...</p>",1),ku=Q('<p><span style="color:#a0a0a0;">PCA model:</span> </p> <!>',1),Cu=Q('<div class="buttons"><!> <!></div>'),Au=Q("<!> <!>",1),Su=Q("<p> </p>"),Mu=Q("<!> <!> <!> <!>",1);function Nu(t,e){de(e,!0);let r=Y(e,"outliers",19,()=>[]),s=Y(e,"resobj",15),l=Y(e,"model",15),a=Y(e,"downloadModel",3,null),c=Y(e,"downloadResults",3,null),v=ae("neutral"),u=ae(""),f=ae(1),h=ae(!0),d=ae(!1),m=ae(void 0);async function g(L,S,P,j){X(m,e.WASM().then(q=>{X(v,"computing");const B=Bs(q,L.values,S,P,j,r());B.hash=Kn(),B.exclvars=[],B.varlabels=L.varlabels,B.varindices=L.varindices,B.varvalues=L.varvalues,B.varvaluesName=L.varvaluesName,B.varvaluesUnits=L.varvaluesUnits,B.varrev=L.varrev,B.prep=[];const F=Ws(q,B,L,r());l(B),s(F),X(v,"success")}).catch(q=>{console.error(q),l(null),X(v,"error"),X(u,q,!0)}),!0)}function b(L){X(v,"neutral"),X(u,null),g(e.dataset,o(f),o(h),o(d))}function w(){X(v,"neutral"),X(m,null),s(null),l(null),X(u,null)}let p=T(()=>e.dataset?Math.min(e.dataset.values.nrows-2-r().length,e.dataset.values.ncols-1,50):null);me(()=>{e.dataset===null&&w()}),me(()=>{X(f,o(p)?Math.min(o(p),20):null,!0)});var y=Mu(),C=$(y);{var N=L=>{var S=yu(),P=$(S);ce(P,{name:"ncomp",label:"# of PCs",children:(F,H)=>{Vl(F,{id:"ncomp",min:1,get max(){return o(p)},step:1,decNum:0,get value(){return o(f)},set value(G){X(f,G,!0)}})},$$slots:{default:!0}});var j=I(P,2);ce(j,{name:"center",label:"Center",children:(F,H)=>{cn(F,{id:"center",options:["no","yes"],get value(){return o(h)},set value(G){X(h,G,!0)}})},$$slots:{default:!0}});var q=I(j,2);ce(q,{name:"scale",label:"Scale",children:(F,H)=>{cn(F,{id:"scale",options:["no","yes"],get value(){return o(d)},set value(G){X(d,G,!0)}})},$$slots:{default:!0}});var B=I(q,2);ce(B,{name:"create-model",label:" ",children:(F,H)=>{ut(F,{onclick:b,text:"Create model"})},$$slots:{default:!0}}),R(L,S)};U(C,L=>{e.dataset&&!l()&&o(v)!=="computing"&&L(N)})}var E=I(C,2);{var _=L=>{var S=ue(),P=$(S);ks(P,()=>o(m),j=>{ce(j,{name:"spinner",children:(q,B)=>{var F=Eu(),H=$(F);Hs(H),R(q,F)},$$slots:{default:!0}})},void 0,(j,q)=>{ce(j,{name:"error",status:"error",children:(B,F)=>{var H=xu(),G=D(H);ne(()=>le(G,o(q))),R(B,H)},$$slots:{default:!0}})}),R(L,S)};U(E,L=>{o(m)&&L(_)})}var M=I(E,2);{var k=L=>{var S=Au(),P=$(S);ce(P,{name:"info",children:(B,F)=>{var H=ku(),G=$(H),W=I(D(G)),J=I(G,2);an(J,{onclick:w}),ne(()=>le(W,` ${l().ncomp??""} PCs${(l().center?", centered":"")??""}${(l().scale?", scaled":"")??""}`)),R(B,H)},$$slots:{default:!0}});var j=I(P,2);{var q=B=>{ce(B,{name:"download-buttons",label:"Download",children:(F,H)=>{var G=Cu(),W=D(G);ut(W,{onclick:()=>c()(s(),e.dataset,"train",r(),l()),text:"Results"});var J=I(W,2);ut(J,{onclick:()=>a()(l()),text:"Model"}),R(F,G)},$$slots:{default:!0}})};U(j,B=>{a()&&c()&&B(q)})}R(L,S)};U(M,L=>{l()&&L(k)})}var A=I(M,2);{var z=L=>{ce(L,{name:"error",status:"error",children:(S,P)=>{var j=Su(),q=D(j);ne(()=>le(q,o(u))),R(S,j)},$$slots:{default:!0}})};U(A,L=>{(o(v)==="error"||o(u))&&L(z)})}R(t,y),he()}var zu=Q('<span class="buttons svelte-t7v4gx"><!> <!></span>'),Pu=Q('<span class="buttons svelte-t7v4gx"><!> <!></span>'),Tu=Q('<span class="buttons svelte-t7v4gx"><!> <!> <!></span>'),Ru=Q("<!> <!> <!>",1);function Lu(t,e){de(e,!0);function r(f,h,d){let m=["#","excluded interval","nPCs","sensitivity","specificity","efficiency","selectivity"].join(h)+`
`;const g=f.length;for(let y=0;y<g;y++)m+=[y,y===0?"-":f[y].int,f[y].ncomp,f[y].sens,f[y].spec,f[y].eff,f[y].sel].join(h)+`
`;d!=="."&&(m=m.replace(/\./g,d));const b=new Blob([m],{type:"text/csv"}),w=window.URL.createObjectURL(b),p=document.createElement("a");p.setAttribute("href",w),p.setAttribute("download","ddsimca-love-progress.csv"),p.click()}function s(f,h){if(!h||h.length===0){Us(f,`${f.fileName}`);return}Us(wc(f,h),`${f.fileName}-reduced`)}function l(f,h,d){const m=d.model,g=d.simca,b=d[f];Ic(m,g,b,h,f,[])}function a(f){Fc(f.model,f.simca,f.simca.ncomp)}var c=ue(),v=$(c);{var u=f=>{var h=Ru(),d=$(h);ce(d,{label:"Outcomes",children:(b,w)=>{var p=zu(),y=D(p);ut(y,{onclick:()=>r(e.s.statsProgress,e.s.calset.sep,e.s.calset.dec),text:"Full progress"});var C=I(y,2);ut(C,{onclick:()=>a(e.s.currentRes),text:"Model"}),R(b,p)},$$slots:{default:!0}});var m=I(d,2);ce(m,{label:"Results",children:(b,w)=>{var p=Pu(),y=D(p);ut(y,{onclick:()=>l("tar",e.s.tarset,e.s.currentRes),text:"Target"});var C=I(y,2);ut(C,{onclick:()=>l("alt",e.s.altset,e.s.currentRes),text:"Alt"}),R(b,p)},$$slots:{default:!0}});var g=I(m,2);ce(g,{label:"Reduced data",children:(b,w)=>{var p=Tu(),y=D(p);ut(y,{onclick:()=>s(e.s.calset,e.s.varsExcluded),text:"Train"});var C=I(y,2);ut(C,{onclick:()=>s(e.s.tarset,e.s.varsExcluded),text:"Target"});var N=I(C,2);ut(N,{onclick:()=>s(e.s.altset,e.s.varsExcluded),text:"Alt"}),R(b,p)},$$slots:{default:!0}}),R(f,h)};U(v,f=>{e.s.varsExcluded&&e.s.varsExcluded.length>0&&f(u)})}R(t,c),he()}var ju=Q("<!> <!> <!>",1),Iu=Q("<p> </p>"),Fu=Q("<!> <p>Computing PV-set...</p>",1),qu=Q('<p><span style="color:#a0a0a0;">PV-set:</span> </p> <!> <!>',1),Vu=Q("<p> </p>"),Ou=Q("<!> <!> <!> <!>",1);function Du(t,e){de(e,!0);let r=Y(e,"outliers",19,()=>[]),s=Y(e,"pvset",15),l=Y(e,"pvres",15),a=ae("neutral"),c=ae(""),v=ae(Ge(["ven","rand","loo"])),u=ae("ven"),f=ae(void 0),h=e.calset.values.nrows-r().length,d=e.calset&&e.calset.values.nrows>0?[3,4,5,10,20].filter(z=>z>=h/(h-e.model.ncomp-1)&&z<=h/2):[],m=ae(Ge(d.length>0?d[0]:0));me(()=>{d.length===0&&(X(v,["loo"],!0),X(u,"loo"))});async function g(z,L,S){X(f,e.WASM().then(P=>{const j=S.type=="loo"?0:S.type=="rand"?2:1,q=fc(P,L,z.values,L.ncomp,S.nseg,j,0,r());s({classLabelsVarname:z.classLabelsVarname,classNames:z.classNames,classes:z.classes,dec:z.dec,fileName:z.fileName+"-pcv",hasClassNames:z.hasClassNames,hasLabels:z.hasLabels,header:z.header,labelsVarname:z.labelsVarname,objindices:e.calres.objindices,objlabels:e.calres.objlabels,responses:e.calres.responses,sep:z.sep,values:q,varAxisTitle:z.varAxisTitle,varindices:L.varindices,varlabels:L.varlabels,varrev:L.varrev,varvalues:L.varvalues,varvaluesName:L.varvaluesName,varvaluesUnits:L.varvaluesUnits}),l(Ws(P,L,s(),[]))}).catch(P=>{console.error(P),s(null),l(null),X(a,"error"),X(c,P,!0)}),!0)}function b(z){X(a,"neutral"),X(c,""),g(e.calset,e.model,{type:o(u),nseg:o(m)})}function w(){X(a,"neutral"),X(c,""),X(f,null),s(null),l(null)}me(()=>{e.model===null&&w()});var p=Ou(),y=$(p);{var C=z=>{var L=ju(),S=$(L);ce(S,{name:"split",label:"Split type:",children:(B,F)=>{Nt(B,{id:"cvType",get options(){return o(v)},get value(){return o(u)},set value(H){X(u,H,!0)}})},$$slots:{default:!0}});var P=I(S,2);{var j=B=>{ce(B,{name:"nseg",label:"Segments:",children:(F,H)=>{Nt(F,{id:"nseg",options:d,get value(){return o(m)},set value(G){X(m,G,!0)}})},$$slots:{default:!0}})};U(P,B=>{o(u)!=="loo"&&B(j)})}var q=I(P,2);ce(q,{name:"run-button",label:" ",children:(B,F)=>{ut(B,{onclick:b,text:"Compute PV-set"})},$$slots:{default:!0}}),R(z,L)};U(y,z=>{e.model&&!s()&&o(a)!=="busy"&&z(C)})}var N=I(y,2);{var E=z=>{var L=ue(),S=$(L);ks(S,()=>o(f),P=>{ce(P,{name:"spinner",children:(j,q)=>{var B=Fu(),F=$(B);Hs(F),R(j,B)},$$slots:{default:!0}})},void 0,(P,j)=>{ce(P,{name:"error",status:"error",children:(q,B)=>{var F=Iu(),H=D(F);ne(()=>le(H,o(j))),R(q,F)},$$slots:{default:!0}})}),R(z,L)};U(N,z=>{o(f)&&z(E)})}var _=I(N,2);{var M=z=>{ce(z,{name:"info",children:(L,S)=>{var P=qu(),j=$(P),q=I(D(j)),B=I(j,2);Yc(B,{onclick:()=>Us(s(),e.calset.fileName+"-pv")});var F=I(B,2);an(F,{onclick:w}),ne(()=>le(q,` ${s().values.nrows??""} × ${s().values.ncols??""}, ${o(u)??""}
      ${(o(u)!=="loo"?o(m)+" seg":"")??""}`)),R(L,P)},$$slots:{default:!0}})};U(_,z=>{s()&&z(M)})}var k=I(_,2);{var A=z=>{ce(z,{name:"error",status:"error",children:(L,S)=>{var P=Vu(),j=D(P);ne(()=>le(j,o(c))),R(L,P)},$$slots:{default:!0}})};U(k,z=>{o(a)==="error"&&o(c)&&z(A)})}R(t,p),he()}var Bu=Q('<tr class="global svelte-16n1t3l"><td class="svelte-16n1t3l">0</td><td class="svelte-16n1t3l">-</td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Wu=Q('<tr class="global svelte-16n1t3l"><td class="svelte-16n1t3l"></td><td class="svelte-16n1t3l">-</td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr> <tr class="svelte-16n1t3l"><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td></tr>',1),Uu=Q('<tr><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Yu=Q("<!> <!>",1),Gu=Q('<tr class="selected svelte-16n1t3l"><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Hu=Q('<table class="svelte-16n1t3l"><thead><tr class="svelte-16n1t3l"><th class="svelte-16n1t3l">#</th><th class="svelte-16n1t3l">int</th><th class="svelte-16n1t3l">#PCs</th><th class="svelte-16n1t3l">sens</th><th class="svelte-16n1t3l">spec</th><th class="svelte-16n1t3l">eff</th><th class="svelte-16n1t3l">sel</th></tr></thead><tbody><!><!></tbody></table>');function Ku(t,e){de(e,!0);const r=5,s=T(()=>e.s.statsProgress?e.s.statsProgress.length:0),l=T(()=>o(s)-r+1),a=T(()=>Hn(o(l)<=0?0:o(l),o(s)-1)),c=T(()=>e.s.outcomes&&e.s.outcomes.status==="done"&&e.s.intSelected>=0?{i:o(s),ncomp:e.s.nComp,int:e.s.intSelected+1,sens:e.s.outcomes.sens.val.getcolumn(e.s.nComp).v[e.s.intSelected],spec:e.s.outcomes.spec.val.getcolumn(e.s.nComp).v[e.s.intSelected],eff:e.s.outcomes.eff.val.getcolumn(e.s.nComp).v[e.s.intSelected],sel:e.s.outcomes.sel.val.getcolumn(e.s.nComp).v[e.s.intSelected]}:null);var v=ue(),u=$(v);{var f=h=>{var d=Hu(),m=I(D(d)),g=D(m);{var b=C=>{var N=Bu(),E=I(D(N),2),_=D(E),M=I(E),k=D(M),A=I(M),z=D(A),L=I(A),S=D(L),P=I(L),j=D(P);ne((q,B,F,H)=>{le(_,e.s.nComp),le(k,q),le(z,B),le(S,F),le(j,H)},[()=>e.s.statsGlobal.sens[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.spec[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.eff[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.sel[e.s.nComp-1].toFixed(3)]),R(C,N)},w=C=>{var N=Yu(),E=$(N);{var _=k=>{var A=Wu(),z=$(A),L=D(z);L.textContent="0";var S=I(L,2),P=D(S),j=I(S),q=D(j),B=I(j),F=D(B),H=I(B),G=D(H),W=I(H),J=D(W);ne((te,ee,Z,re)=>{le(P,e.s.statsProgress[0].ncomp),le(q,te),le(F,ee),le(G,Z),le(J,re)},[()=>e.s.statsProgress[0].sens.toFixed(3),()=>e.s.statsProgress[0].spec.toFixed(3),()=>e.s.statsProgress[0].eff.toFixed(3),()=>e.s.statsProgress[0].sel.toFixed(3)]),R(k,A)};U(E,k=>{o(l)>0&&k(_)})}var M=I(E,2);He(M,17,()=>o(a),Xe,(k,A)=>{var z=Uu();let L;var S=D(z),P=D(S),j=I(S),q=D(j),B=I(j),F=D(B),H=I(B),G=D(H),W=I(H),J=D(W),te=I(W),ee=D(te),Z=I(te),re=D(Z);ne((oe,ve,we,ye,Te)=>{L=vt(z,1,"svelte-16n1t3l",null,L,oe),le(P,o(A)),le(q,o(A)>0?e.s.statsProgress[o(A)].int:"-"),le(F,e.s.statsProgress[o(A)].ncomp),le(G,ve),le(J,we),le(ee,ye),le(re,Te)},[()=>({global:o(A)==0,current:o(A)===e.s.statsProgress.length-1}),()=>e.s.statsProgress[o(A)].sens.toFixed(3),()=>e.s.statsProgress[o(A)].spec.toFixed(3),()=>e.s.statsProgress[o(A)].eff.toFixed(3),()=>e.s.statsProgress[o(A)].sel.toFixed(3)]),R(k,z)}),R(C,N)};U(g,C=>{e.s.statsProgress?C(w,!1):C(b)})}var p=I(g);{var y=C=>{var N=Gu(),E=D(N),_=D(E),M=I(E),k=D(M),A=I(M),z=D(A),L=I(A),S=D(L),P=I(L),j=D(P),q=I(P),B=D(q),F=I(q),H=D(F);ne((G,W,J,te)=>{le(_,o(c).i),le(k,o(c).int),le(z,o(c).ncomp),le(S,G),le(j,W),le(B,J),le(H,te)},[()=>o(c).sens.toFixed(3),()=>o(c).spec.toFixed(3),()=>o(c).eff.toFixed(3),()=>o(c).sel.toFixed(3)]),R(C,N)};U(p,C=>{o(c)&&C(y)})}R(h,d)};U(u,h=>{e.s.statsGlobal&&e.s.nComp&&h(f)})}R(t,v),he()}const Xu={small:30,medium:40,large:50,xlarge:60},Qu={small:5,medium:8,large:12,xlarge:15},Ju={small:6,medium:10,large:14,xlarge:18},Xs={small:4,medium:6,large:8,xlarge:10},Zu={small:12,medium:15,large:19,xlarge:21},Dl={small:11,medium:15,large:17,xlarge:19},Qn={small:["0","3,3","1,1","3,1,1,1"],medium:["0","5,5","2,2","5,2,2,2"],large:["0","7,7","3,3","7,3,2,3"],xlarge:["0","9,9","4,4","9,3,3,3"]},un=["●","◼","▲","▼","⬥","＋","✳","✕"],$u=.8,Bl=.5,ef={small:5,medium:8,large:12,xlarge:15},wt={MIDDLEGRAY:"#dadada",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function Wl(t,e){return Array.isArray(t)&&t.length===e&&!t.some(r=>r===void 0)&&!t.some(r=>isNaN(r))}function Ul(t,e){if(t!=null&&(Array.isArray(t)&&(t=Qe(t)),!(!Pe(t)||t.length<1)))return t.apply(r=>Zs((r-e[1])*e[0]+e[2])).v}function at(t,e){return Ul(t,e.coords)}function Yl(t,e){return Ul(t,e.objects)}function Gl(t,e){if(t!=null&&(Array.isArray(t)&&(t=Qe(t)),!(!Pe(t)||t.length<1)))return t.apply(r=>(r-e[2])/e[0]+e[1]).v}function Hl(t,e){return Gl(t,e.coords)}function Kl(t,e){return Gl(t,e.objects)}function Qs(t){return t===0?"":`<tspan>&times;10</tspan><tspan font-size="0.75em" dy="-0.5em">${t.toString()}</tspan>`}function Cr(t){if(t===Math.round(t))return t;if(Math.abs(t)>10**6)return Math.round(t);if(Math.abs(t)<10**-6)return t;let e=t.toPrecision(10);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Js(t){if(t===void 0)return[0,void 0];if(t.length<1)return[0,void 0];if(t.length===1)return[0,[t[0].toString()]];let e=Cr(Math.abs(Ur(cl(t)))),r=0;if(e>=1)return e<100?[0,Array.from(t).map(a=>a.toFixed(0))]:(r=Math.ceil(Cr(Math.log10(e)))-2,[r,Array.from(t).map(a=>(a/Math.pow(10,r)).toFixed(0))]);let s=Math.ceil(-Cr(Math.log10(e)));return s<=2?[0,Array.from(t).map(l=>l.toFixed(s))]:(r=s-2,s=2,Cr(Math.abs(Er(t)))<=10?[-r,Array.from(t).map(l=>(l*Math.pow(10,r)).toFixed(s))]:[-r,Array.from(t).map(l=>(l/Math.pow(10,r)).toString())])}function qt(t,e,r){return Array.isArray(t)&&(t=Qe(t)),Pe(t)?t.length<1?(console.error(e+": vector with coordinates is empty."),null):r&&t.length!==r?(console.error(e+": vector does not have the expected length of "+r+"."),null):t:(console.error(e+": coordinates must be provided as array or instance of Vector class."),null)}function tf(t,e,r,s){if(!t||!e||t.length!==e.length)return console.error("val2p: provided coordinate values are not correct."),null;const l=r.coords,a=s.coords;let c="";for(let v=0;v<t.length;v++){const u=Zs((t.v[v]-l[1])*l[0]+l[2]),f=Zs((e.v[v]-a[1])*a[0]+a[2]);c+=u+","+f+" "}return c}function Xl(t,e){return t?Array.isArray(t)?!e||e.length<1?[null,"tick labels must be accompanied with tick values."]:e.v.length!==t.length?[null,"number of tick labels and values should be the same."]:[t.map(r=>vn(r)),""]:[null,"tick labels must be provided as array."]:[null,""]}function Ql(t,e){if(Array.isArray(t)&&(t=Qe(t)),!Pe(t))return[null,"tick values must be provided as an array or as a vector."];if(t.v.some(c=>isNaN(c)))return[null,"tick values must be numeric"];const r=new Set(t.v);if(t.length!==r.size)return[null,"ticks values must be unique."];const s=e[0]<e[1]?e[0]:e[1],l=e[0]<e[1]?e[1]:e[0],a=t.filter(c=>c>=s&c<=l);return a.length!==t.length?[null,"some of ticks values are outside axis limits."]:[a,""]}function Jl(t,e,r,s,l,a){l==null&&(l=!1),a===void 0&&(a=1e-4);const c=e[0]<e[1]?e:[e[1],e[0]];if(t)return t;if(typeof c!="object"||c[0]===void 0||c[1]===void 0){console.error("getAxisTicks: provided axis limits are not valid.");return}const v=Math.abs(c[1]-c[0])*a,u=c[1]-c[0]-2*v,f=Math.floor(Math.log10(u)),h=1/Math.pow(10,f-1),d=Math.round(u*h)/h;let m=rf(d/r);l&&(Math.abs(c[1]-c[0])<=1?console.error('getAxisTicks: parameter "whole" will be ignored as axis limits are too narrow to fit whole ticks.'):(m<1&&(m=1),m=Math.round(m)));let g=Math.ceil((c[0]+v)/m)*m,b=Math.floor((c[1]-v)/m)*m;Math.abs(c[0]-g)<m/10&&(g=g+m),Math.abs(c[1]-b)<m/10&&(b=b-m),r=Math.ceil(Cr((b-g)/m))+1,t=Ne.zeros(r);for(let w=0;w<r;w++)t.v[w]=g+m*w;if(Math.abs(m)<1){const w=Math.pow(10,1+Math.round(-Math.log10(m)));t=t.apply(p=>Math.round((p+Number.EPSILON)*w)/w)}return t.filter(w=>w>=c[0]&w<=c[1])}function rf(t,e){const r=Math.floor(Math.log10(t)),s=t/Math.pow(10,r);let l;return s<=1?l=1:s<=2?l=2:s<=5?l=5:l=10,l*Math.pow(10,r)}function Zs(t){return Math.round(t*10)/10}function nf(t,e){return e<300.2||t<400.2?"small":e<400.2||t<700.2?"medium":e<650.2||t<850.2?"large":"xlarge"}function Zl(t,e){return t<400.2?"small":t<700.2?"medium":t<900.2?"large":"xlarge"}function sf(){const t=new Int32Array(256);for(let e=0;e<256;e++){let r=e;for(let s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t}function of(t){let e=-1,r=sf();for(let s=0;s<t.length;s++)e=r[(e^t[s])&255]^e>>>8;return e^-1}function lf(t,e){const r=new Uint8Array(13);e*=39.3701,r[0]=112,r[1]=72,r[2]=89,r[3]=115,r[4]=e>>>24,r[5]=e>>>16,r[6]=e>>>8,r[7]=e&255,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;const s=of(r),l=new Uint8Array(4);l[0]=s>>>24,l[1]=s>>>16,l[2]=s>>>8,l[3]=s&255;const a=new Uint8Array(4);a[0]=0,a[1]=0,a[2]=0,a[3]=9;const c=new Uint8Array(54);return c.set(t,0),c.set(a,33),c.set(r,37),c.set(l,50),c}function af(t,e){const r=t.split(","),s=r[0],l=r[1],a=33/3*4,c=l.substring(0,a),v=l.substring(a),u=atob(c),f=new Uint8Array(u.length);for(let m=0;m<f.length;m++)f[m]=u.charCodeAt(m);const h=lf(f,e),d=btoa(String.fromCharCode(...h));return[s,",",d,v].join("")}function cf(t,e,r,s,l){if(r||(r=10),s||(s=10),l||(l=300),r<1||r>30)return console.error('Parameter "width" must be between 1 and 30 (cm).'),null;if(s<1||s>30)return console.error('Parameter "height" must be between 1 and 30 (cm).'),null;if(l<50||l>1200)return console.error('Parameter "res" must be between 50 and 1200 (ppi).'),null;if(!t||!(t instanceof SVGElement))return console.error('Parameter "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const a=r/2.54*l,c=s/2.54*l;setTimeout(()=>{const v=t.clientHeight,u=t.clientWidth;let f=Math.max(a/u,c/v),h=1;f<1&&(h=f,f=1);const d=document.createElement("canvas"),m=d.getContext("2d");d.width=u*(h<1?h:f),d.height=v*(h<1?h:f),t.setAttribute("width",u*f),t.setAttribute("height",v*f),m.fillStyle="white",m.fillRect(0,0,d.width,d.height),m.scale(f,f);const g=new XMLSerializer().serializeToString(t),b=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(b),p=new Image;p.onload=function(){h<0&&(p.width=p.width*h,p.height=p.height*h),m.drawImage(p,0,0,d.width,d.height);const y=d.toDataURL("image/png"),C=af(y,l),N=document.createElement("a");N.href=C,N.download=`${e}.png`,N.click()},p.src=w},20)}function uf(t,e){if(!t||!(t instanceof SVGElement))return console.error('Variable "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const r=t.clientHeight,s=t.clientWidth;t.setAttribute("width",s+"px"),t.setAttribute("height",r+"px"),t.setAttribute("viewBox",`0 0 ${s} ${r}`);const l=new Blob([t.outerHTML],{type:"image/svg+xml"}),a=window.URL.createObjectURL(l),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",`${e}.svg`),c.click()}function ff(t,e,r,s){const l=t.textContent;navigator.clipboard.write([new ClipboardItem({"image/png":vf(e,r,s)})]).then(()=>{t.classList.add("copied"),t.textContent="✓ done",setTimeout(()=>{t.classList.remove("copied"),t.textContent=l},500)},a=>{console.error(a),t.classList.add("error"),t.textContent="x copy",setTimeout(()=>{t.classList.remove("error"),t.textContent=l},500)}).catch(a=>console.error(a))}async function vf(t,e,r){const s=t.clientHeight,l=t.clientWidth,a=Math.max(e/l,r/s),c=document.createElement("canvas"),v=c.getContext("2d");return c.width=l*a,c.height=s*a,v.scale(a,a),t.setAttribute("width",c.width),t.setAttribute("height",c.height),await new Promise((f,h)=>{const d=new XMLSerializer().serializeToString(t),m=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,b=g.createObjectURL(m),w=new Image;w.onload=function(){v.drawImage(w,0,0,c.width,c.height),g.revokeObjectURL(b),c.toBlob(function(p){p?f(p):h(new Error("Failed to create blob"))},"image/png")},w.onerror=function(p){h(p)},w.src=b})}function df(t,e,r,s,l){let a=l.ticks,c=l.tickLabels,v=0;const u=Jl(a,t,Qu[r.x],!0,l.whole),f=u.length,h=Kl([Xs[r.plot]],s)[0],d=Ne.fill(e[0],f),m=d.add(h),g=Ne.fill(e[1],f);if(c||(a?(v=0,c=a.v.map(A=>Cr(A).toString())):[v,c]=Js(u.v)),!c||c.length!==u.length)return console.error('XAxis: "tickLabels" must be a array of the same size as ticks.'),null;const b=[[u,d],[u,g]],w=[[Qe([t[0]]),Qe([e[0]])],[Qe([t[1]]),Qe([e[0]])]],p=[[u,m],[u,d]],y=(t[1]-t[0])*.01,C=[[null,null],[[t[1]-(v>9?1:0)*y],[d.v[f-1]]]],N=Qs(v),E=c.length,_=Math.abs(t[1]>t[0]?t[1]-u.v[E-1]:t[1]-u.v[0]),M=Math.abs(t[1]-t[0]),k=Math.abs(u.v[1]-u.v[0]);if(N.length>0&&_<M*.1&&_<k*.5){const A=t[1]>t[0]?E-1:0;c[A]=" "}return{grid:b,axisLine:w,tickCoords:p,tfCoords:C,ticks:a,tickLabels:c,tickFactor:v,tfLabel:N}}function hf(t,e,r,s,l){let a=l.ticks,c=l.tickLabels,v=0;const u=Jl(l.ticks,e,Ju[r.y],!0,l.whole),f=u.length,h=Kl([Xs[r.plot]],s)[0],d=Ne.fill(t[0],f),m=d.add(h),g=Ne.fill(t[1],f);if(c||(a?(v=0,c=a.v.map(k=>Cr(k).toString())):[v,c]=Js(u.v)),c.length!==u.length)return console.error('YAxis: "tickLabels" must be a array of the same size as ticks.'),null;const b=[[d,u],[g,u]],w=[[Qe([t[0]]),Qe([e[0]])],[Qe([t[0]]),Qe([e[1]])]],p=[[d,u],[m,u]],y=[[[],[]],[[m.v[f-1]+(Math.abs(v)>9?3:2)*h],[e[1]]]],C=Qs(v),N=c.length,E=Math.abs(e[1]>e[0]?e[1]-u.v[N-1]:e[1]-u.v[0]),_=Math.abs(e[1]-e[0]),M=Math.abs(u.v[1]-u.v[0]);if(C.length>0&&E<_*.1&&E<M*.5){const k=e[1]>e[0]?N-1:0;c[k]=" "}return{grid:b,axisLine:w,tickCoords:p,tfCoords:y,ticks:a,tickLabels:c,tickFactor:v,tfLabel:C}}function mf(t){if(!t.breaks)return console.error("ColormapLegend: breaks values must be provided."),null;const e=Pe(t.breaks)?t.breaks.v:t.breaks;if(e.length<2)return console.error("ColormapLegend: incorrect breaks values."),null;if(!t.colmap)return console.error('ColormapLegend: values for "colmap" parameter must be provided.'),null;if(!Array.isArray(t.colmap))return console.error('ColormapLegend: parameter "colmap" must be array with colors.'),null;if(t.colmap.length!==e.length-1)return console.error('ColormapLegend: number of color values in "colmap" does not match number of intervals defined by breaks.'),null;const r=t.colmap;let s,l;if(t.labels?(s=t.labels,l=0):[l,s]=Js(e),!(s.length===e.length-1||s.length===e.length))return console.error('ColormapLegend: number of values in "labels" should be equal to or by one less than number of values in "breaks".'),null;const a=s.length===r.length;return{colmap:r,breaks:e,labels:s,isCentered:a,labelsFactor:l,fontSize:t.fontSize,labelColor:t.labelColor}}function gf(t,e,r,s){const l=t.colmap.length,a=e*$u,c=a/l,v=r[1]+(e-a)*.5,u=ef[s.y],f=r[2]+u*Bl,h=f+u*(1+Bl),d=t.isCentered?c/2:0;return{start:v,top:f,height:u,width:c,dxl:d,ltop:h}}function fn(t,e,r){if(!t||!e||!r||typeof r!="function")return;const s=t.target;if(s.tagName===e){const l=Array.prototype.indexOf.call(s.parentNode.children,s);if(l<0)return;r(l),t.stopPropagation()}}function pf(t,e){const s=document.createElement("canvas").getContext("2d");return s.font=e,s.measureText(t.replace(/<(.|\n)*?>/g,"")).width}function bf(t,e){const r="Arial",s=e/8,l=e*1.5,a=Array(t.length),c=Array(t.length);let v=0,u=0,f=0;for(let d=0;d<t.length;d++){const m=pf("  "+t[d].label+"  ",e+"px "+r);f=m>f?m:f;const g=e*t[d].labelHeight+2*s;a[d]=g,c[d]=v,v=v+g,u=u+g}const h=l+2*s+f;return[c,a,l,s,u,h]}function wf(t,e,r,s,l){const[a,c,v,u,f,h]=bf(t.items,s*t.fontSize),d=t.position.includes("left")?e[0]+l:t.position.includes("right")?e[1]-h-l:(e[1]+e[0]-h)*.5,m=t.position.includes("top")?r[1]+l:t.position.includes("bottom")?r[0]-f-l:(r[1]+r[0]-f)*.5;return{lgl:d,lgt:m,lgw:h,lgh:f,ely:a,elh:c,elw:v,elp:u}}function vn(t){if(!t||t.length<1)return t;function e(a){return'<tspan font-size="0.75em" dy="-0.5em">'+a+'</tspan><tspan dy="0.4em"> </tspan>'}function r(a){return'<tspan font-size="0.75em" dy="0.5em">'+a+'</tspan><tspan dy="-0.4em"> </tspan>'}let s=0,l="";for(;s<t.length;){const a=t[s];if((a==="^"||a==="_")&&s<t.length-1){const c=a==="^";if(s++,t[s]==="("){let v=s+1;for(;v<t.length&&t[v]!==")";)v++;const u=t.slice(s+1,v);l+=c?e(u):r(u),s=v+1}else if(t[s]==="-"||t[s]==="–"){const v=t.slice(s,s+2);l+=c?e(v):r(v),s=s+2}else l+=c?e(t[s]):r(t[s]),s++}else l+=a,s++}return l}var _f=ge('<line vector-effect="non-scaling-stroke"></line>'),yf=ge("<g></g>");function $s(t,e){de(e,!0);let r=Y(e,"lineCoords",19,()=>[]),s=Y(e,"lineColor",19,()=>wt.DARKGRAY),l=Y(e,"lineType",3,1),a=Y(e,"lineWidth",3,1),c=Y(e,"className",3,"");const v=Dt("axes");let u=T(()=>at(r()[0][0],v.tX())),f=T(()=>at(r()[1][0],v.tX())),h=T(()=>at(r()[0][1],v.tY())),d=T(()=>at(r()[1][1],v.tY())),m=T(()=>`stroke:${s()};stroke-width: ${a()}px;stroke-dasharray:${Qn[v.scales().plot][l()-1]}`);var g=ue(),b=$(g);{var w=p=>{var y=yf();He(y,21,()=>o(u),Xe,(C,N,E)=>{var _=_f();ne(()=>{V(_,"x1",o(u)[E]),V(_,"x2",o(f)[E]),V(_,"y1",o(h)[E]),V(_,"y2",o(d)[E]),Wt(_,o(m))}),R(C,_)}),ne(()=>vt(y,0,ki(c()))),R(p,y)};U(b,p=>{o(u)&&o(h)&&o(f)&&p(w)})}R(t,g),he()}var xf=ge('<text text-anchor="middle"><!></text>'),Ef=ge("<text><!></text>"),kf=ge("<text><!></text>"),Cf=ge('<g class="tick-labels"><!></g>');function $l(t,e){de(e,!0);let r=Y(e,"pos",3,1),s=Y(e,"las",3,1),l=T(()=>["middle","middle","start","middle","end"][r()]),a=T(()=>`fill:${e.textColor};`);const c=Dt("axes");let v=T(()=>at(e.tickCoords[1][0],c.tX())),u=T(()=>at(e.tickCoords[1][1],c.tY())),f=T(()=>Dl[c.scales().plot]),h=T(()=>[0,0,o(f),0,-o(f)][r()]),d=T(()=>[0,o(f),0,-o(f),0][r()]);var m=Cf(),g=D(m);{var b=p=>{var y=ue(),C=$(y);He(C,17,()=>o(v),Xe,(N,E,_)=>{var M=xf();V(M,"data-id",_),V(M,"dx",0);var k=D(M);yt(k,()=>e.tickLabels[_],!0,!1),ne(()=>{V(M,"x",o(v)[_]),V(M,"y",o(u)[_]),V(M,"dy",o(h)*1.25),V(M,"transform",`rotate(-90, ${o(v)[_]}, ${o(u)[_]})`)}),R(N,M)}),R(p,y)},w=(p,y)=>{{var C=E=>{var _=ue(),M=$(_);He(M,17,()=>o(v),Xe,(k,A,z)=>{var L=Ef();V(L,"data-id",z),V(L,"dy",0),V(L,"text-anchor","end");var S=D(L);yt(S,()=>e.tickLabels[z],!0,!1),ne(()=>{V(L,"x",o(v)[z]),V(L,"y",o(u)[z]),V(L,"dx",-o(d)/2),V(L,"transform",`rotate(-90, ${o(v)[z]}, ${o(u)[z]})`)}),R(k,L)}),R(E,_)},N=E=>{var _=ue(),M=$(_);He(M,17,()=>o(v),Xe,(k,A,z)=>{var L=kf();V(L,"data-id",z);var S=D(L);yt(S,()=>e.tickLabels[z],!0,!1),ne(()=>{V(L,"x",o(v)[z]),V(L,"y",o(u)[z]),V(L,"dx",o(h)),V(L,"dy",o(d)),V(L,"text-anchor",o(l))}),R(k,L)}),R(E,_)};U(p,E=>{s()===2&&r()===1?E(C):E(N,!1)},y)}};U(g,p=>{s()===2&&r()===4?p(b):p(w,!1)})}ne(()=>Wt(m,o(a))),R(t,m),he()}const Af=(t,e=gt,r=gt)=>{var s=Rf();T(()=>r().height*1.25);const l=T(()=>e().colmap.length);var a=$(s);He(a,17,()=>e().colmap,Xe,(h,d,m)=>{var g=zf();const b=T(()=>r().start+m*r().width);var w=$(g),p=I(w);V(p,"dy",0);var y=D(p);yt(y,()=>e().labels[m],!0,!1),ne(()=>{V(w,"x",o(b)),V(w,"y",r().top),V(w,"width",r().width),V(w,"height",r().height),V(w,"fill",o(d)),V(p,"x",o(b)),V(p,"y",r().ltop),V(p,"dx",r().dxl),V(p,"fill",e().labelColor),V(p,"font-size",e().fontSize+"em")}),R(h,g)});var c=I(a);{var v=h=>{var d=Pf();const m=T(()=>r().start+o(l)*r().width);V(d,"dx",0),V(d,"dy",0);var g=D(d);yt(g,()=>e().labels[o(l)],!0,!1),ne(()=>{V(d,"x",o(m)),V(d,"y",r().ltop),V(d,"fill",e().labelColor),V(d,"font-size",`${e().fontSize??""}em`)}),R(h,d)};U(c,h=>{e().isCentered||h(v)})}var u=I(c);{var f=h=>{var d=Tf();const m=T(()=>r().start+o(l)*r().width);var g=D(d);yt(g,()=>Qs(e().labelsFactor),!0,!1),ne(()=>{V(d,"x",o(m)),V(d,"y",r().ltop),V(d,"fill",e().labelColor),V(d,"font-size",`${e().fontSize??""}em`)}),R(h,d)};U(u,h=>{e().labelsFactor!==0&&h(f)})}R(t,s)};function ea(t,e,r){e(t,r())}function ta(t,e,r){e(t,r())}function ra(t,e,r){e(t,r())}function Jn(t,e,r){e(t,r())}async function na(t,e,r,s){ff(t.target,o(e),r(),s())}function sa(t,e,r){uf(o(e),r())}function oa(t,e,r,s,l,a){cf(o(e),r(),s(),l(),a())}var Sf=ge('<text fill="crimson" text-anchor="middle"> </text>'),Mf=ge('<text dy="10px" fill="crimson" text-anchor="middle" dominant-baseline="hanging"> </text>'),Nf=ge("<!><!><!><!><!>",1),zf=ge('<rect></rect><text dominant-baseline="hanging" text-anchor="middle"><!></text>',1),Pf=ge('<text dominant-baseline="hanging" text-anchor="middle"><!></text>'),Tf=ge('<text dx="1.2em" dy="-0.25em" dominant-baseline="hanging" text-anchor="right"><!></text>'),Rf=ge("<!><!><!>",1),Lf=ge("<line></line>"),jf=ge('<text dominant-baseline="middle" text-anchor="middle"> </text>'),If=ge('<svg><!><!><text class="legend-text" xml:space="preserve" dominant-baseline="middle" text-anchor="start"><!></text></svg>'),Ff=ge('<svg><rect height="100%" width="100%"></rect><!></svg>'),qf=ge('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),Vf=ge('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),Of=ge('<text dominant-baseline="middle" style="font-size:1.2em;"><!></text>'),Df=ge('<g class="plot-labels"><!><!><!></g>'),Bf=ge('<g class="axis x-axis"><!></g>'),Wf=ge('<g class="axis y-axis"><!></g>'),Uf=ge('<rect fill="transparent" id="axes-box"></rect>'),Yf=ge('<rect stroke="transparent" fill="transparent" id="axes-box"></rect>'),Gf=ge('<g class="colormap-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Hf=ge('<g class="group-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Kf=ge('<!><!><g class="axes-box"><!></g><g class="axes-content svelte-1jtdxd0"><!></g><!><!>',1),Xf=Q('<p class="message-error svelte-1jtdxd0">Axes component was not properly initialized. <br> Check that you defined axes limits and margins correctly.</p>'),Qf=Q('<div class="download-links svelte-1jtdxd0"><button class="svelte-1jtdxd0">⇩ svg</button> <button class="svelte-1jtdxd0">⇩ png</button> <button class="svelte-1jtdxd0">⧉ copy</button></div>'),Jf=Q(`<div><svg class="plot svelte-1jtdxd0" xmlns="http://www.w3.org/2000/svg"><style>.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
            user-select: none;
         }

         .series-points text {
            /* dominant-baseline: central;
            alignment-baseline: central */
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-textlabels text,
         .series-textlabels tspan,
         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }


         .colormap-legend text,
         .colormap-legend tspan,
         .series-points text,
         .series-points tspan {
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }

         .series-points1 text,
         .series-points1 tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
         }

         .series-points2 text,
         .series-points2 tspan {
            dominant-baseline: central;
            alignment-baseline: central;
         }

         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
            text-anchor: middle;
            user-select: none;
            -webkit-user-select: none;
         }

         .tick-labels text,
         .tick-labels tspan {
            user-select: none;
            -webkit-user-select: none;
         }</style><!><svg preserveAspectRatio="none" class="axes"><defs><clipPath><rect></rect></clipPath></defs><!></svg></svg> <!></div>`);function Zf(t,e){de(e,!0);const r=(fe,Se=gt,Ee=gt)=>{var Ze=ue(),ht=$(Ze);{var Ht=Ct=>{var De=ue(),Me=$(De);{var ft=$e=>{var Ue=Sf(),Ot=D(Ue);ne(()=>{V(Ue,"x",o(re)[0]-10),V(Ue,"y",o(ee)),V(Ue,"transform",`rotate(-90, ${o(re)[0]-10}, ${o(ee)})`),le(Ot,Ee().error)}),R($e,Ue)},st=$e=>{var Ue=Mf(),Ot=D(Ue);ne(()=>{V(Ue,"x",o(Z)),V(Ue,"y",o(oe)[0]),le(Ot,Ee().error)}),R($e,Ue)};U(Me,$e=>{Ee().pos===4?$e(ft):$e(st,!1)})}R(Ct,De)},kt=Ct=>{var De=Nf(),Me=$(De);{var ft=ie=>{$s(ie,{get lineCoords(){return Se().grid},get lineColor(){return wt.MIDDLEGRAY},lineType:3})};U(Me,ie=>{Ee().showGrid&&ie(ft)})}var st=I(Me);$s(st,{get lineCoords(){return Se().axisLine},get lineColor(){return wt.DARKGRAY},lineType:1});var $e=I(st);$s($e,{get lineCoords(){return Se().tickCoords},get lineColor(){return wt.DARKGRAY},lineType:1});var Ue=I($e);{var Ot=ie=>{$l(ie,{get las(){return Ee().las},get pos(){return Ee().pos},get tickCoords(){return Se().tickCoords},get tickLabels(){return Se().tickLabels},get tickColor(){return wt.DARKGRAY},get hideLast(){return Ee().hideLast}})};U(Ue,ie=>{Se().tickCoords.length===2&&Se().tickLabels.length===Se().tickCoords[1][0].length&&ie(Ot)})}var Sr=I(Ue);{var Fe=ie=>{const it=T(()=>[Se().tfLabel]);$l(ie,{get pos(){return Ee().pos},get tickCoords(){return Se().tfCoords},get tickLabels(){return o(it)},get textColor(){return wt.DARKGRAY}})};U(Sr,ie=>{Se().tickFactor!==0&&ie(Fe)})}R(Ct,De)};U(ht,Ct=>{Ee().error?Ct(Ht):Ct(kt,!1)})}R(fe,Ze)},s=(fe,Se=gt,Ee=gt)=>{var Ze=Ff();const ht=T(()=>Ee().elw+2*Ee().elp),Ht=T(()=>Ee().elp),kt=T(()=>Ee().elh),Ct=T(()=>Ee().ely);var De=D(Ze),Me=I(De);He(Me,17,()=>Se().items,Xe,(ft,st,$e)=>{var Ue=If();V(Ue,"x",0);var Ot=D(Ue);{var Sr=ar=>{var ot=Lf();ne(()=>{V(ot,"x1",o(Ht)),V(ot,"x2",o(ht)-o(Ht)),V(ot,"y1",o(kt)[$e]/2),V(ot,"y2",o(kt)[$e]/2),V(ot,"stroke",o(st).line.lineColor),V(ot,"stroke-width",o(st).line.lineWidth),V(ot,"stroke-dasharray",o(S)[o(st).line.lineType-1])}),R(ar,ot)};U(Ot,ar=>{o(st).line&&ar(Sr)})}var Fe=I(Ot);{var ie=ar=>{var ot=jf(),mt=D(ot);ne(()=>{V(ot,"x",o(ht)/2),V(ot,"y",o(kt)[$e]/2),V(ot,"fill",o(st).point.faceColor),V(ot,"stroke-width",o(st).point.lineWidth),V(ot,"stroke",o(st).point.lineColor),V(ot,"font-size",o(z)),le(mt,un[o(st).point.marker-1])}),R(ar,ot)};U(Fe,ar=>{o(st).point&&ar(ie)})}var it=I(Fe),ao=D(it);yt(ao,()=>o(st).label,!0,!1),ne(()=>{V(Ue,"y",o(Ct)[$e]),V(Ue,"width",Ee().lgw),V(Ue,"height",o(kt)[$e]),V(it,"x",o(ht)+o(Ht)),V(it,"y",o(kt)[$e]/2),V(it,"fill",wt.LEGEND),V(it,"font-size",`${Se().fontSize??""}em`)}),R(ft,Ue)}),ne(()=>{V(Ze,"x",Ee().lgl),V(Ze,"y",Ee().lgt),V(Ze,"height",Ee().lgh),V(Ze,"width",Ee().lgw),V(De,"fill",Se().faceColor),V(De,"stroke",Se().lineColor),V(De,"stroke-width",Se().lineWidth)}),R(fe,Ze)};let l=Y(e,"limX",19,()=>[0,1]),a=Y(e,"limY",19,()=>[0,1]),c=Y(e,"margins",19,()=>[1,1.1,.55,.6]),v=Y(e,"downloadLinks",3,"none"),u=Y(e,"fileName",3,"plot"),f=Y(e,"pngWidth",3,8),h=Y(e,"pngHeight",3,8),d=Y(e,"pngRes",3,300),m=Y(e,"clipboardWidth",3,1200),g=Y(e,"clipboardHeight",3,800),b=Y(e,"onclick",3,null),w=Y(e,"onmousemove",3,null),p=Y(e,"onmousedown",3,null),y=Y(e,"onmouseup",3,null);function C(fe,Se){if(Se&&fe.target.id=="axes-box"){const Ee=Hl([fe.offsetX-o(j)],o(J))[0],Ze=Hl([fe.offsetY-o(q)],o(te))[0];Se(Ee,Ze)}}const N="plottingArea"+Math.round(Math.random()*1e4);let E=ae(0),_=ae(0),M=ae(0);const k=T(()=>({plot:nf(o(_),o(M)),x:Zl(o(_)),y:Zl(o(M))})),A=T(()=>c().map(fe=>fe*Xu[o(k).plot])),z=T(()=>Zu[o(k).plot]),L=T(()=>Xs[o(k).plot]),S=T(()=>Qn[o(k).plot]),P=T(()=>o(Te).show&&o(Te).label!==""?o(z)*1.5:0),j=T(()=>o(Ce).show&&o(Ce).label!==""?o(z)*1.5:0),q=T(()=>e.title&&e.title!==""?o(z)*1.5:0),B=T(()=>o(_)>o(j)?o(_)-o(j):0),F=T(()=>o(M)>o(P)+o(q)?o(M)-o(P)-o(q):0),H=T(()=>o(F)-o(A)[0]-o(A)[2]),G=T(()=>o(B)-o(A)[1]-o(A)[3]),W=T(()=>Wl(l(),2)&&Wl(a(),2)&&o(B)>o(A)[1]+o(A)[3]&&o(F)>o(A)[0]+o(A)[2]),J=T(()=>o(W)?{coords:[o(G)/(l()[1]-l()[0]),l()[0],o(A)[1]],objects:[o(G)/(l()[1]-l()[0]),0,0]}:{coords:[1,0,0],objects:[1,0,0]}),te=T(()=>o(W)?{coords:[-o(H)/(a()[1]-a()[0]),a()[1],o(A)[2]],objects:[o(H)/(a()[1]-a()[0]),0,0]}:{coords:[0,1,0],objects:[0,1,0]}),ee=T(()=>o(H)*.5+o(q)+o(A)[2]),Z=T(()=>o(G)*.5+o(j)+o(A)[1]),re=T(()=>o(W)?at(l(),o(J)):[0,1]),oe=T(()=>o(W)?at(a(),o(te)):[1,0]),ve=T(()=>vn(e.title)),we=T(()=>o(ve)?o(ve).length===e.title.left?1:1.4:0);let ye=ae(Ge({show:!1})),Te=ae(Ge({show:!1,error:""})),Ce=ae(Ge({show:!1,error:""})),Ae=ae(Ge({show:!1,colmap:null,breaks:null})),_e=ae(Ge({show:!1,items:null,position:null}));const dt=T(()=>o(W)&&o(Ae)&&o(Ae).show?mf(o(Ae)):null),xe=T(()=>o(W)&&o(Te).show?df(l(),a(),o(k),o(te),o(Te)):null),Le=T(()=>o(W)&&o(Ce).show?hf(l(),a(),o(k),o(J),o(Ce)):null),Je=T(()=>o(W)&&o(dt)?gf(o(dt),o(G),o(A),o(k)):null),Et=T(()=>o(W)&&o(_e)&&o(_e).show&&o(re)?wf(o(_e),o(re),o(oe),o(z),o(L)):null);Ba("axes",{setBox:fe=>X(ye,fe,!0),setXAxis:fe=>X(Te,fe,!0),setYAxis:fe=>X(Ce,fe,!0),setColmapLegend:fe=>X(Ae,fe,!0),setGroupLegend:fe=>X(_e,fe,!0),scales:()=>o(k),tX:()=>o(J),tY:()=>o(te),limX:()=>l(),limY:()=>a()});var zt=Jf();let Hr;var Pt=D(zt),ss=I(D(Pt));{var Ar=fe=>{var Se=Df(),Ee=D(Se);{var Ze=De=>{var Me=qf();V(Me,"dx",0),V(Me,"dy",0);var ft=D(Me);yt(ft,()=>o(Te).label,!0,!1),ne(()=>{V(Me,"x",o(Z)),V(Me,"y",o(F)+o(q))}),R(De,Me)};U(Ee,De=>{o(Te).show&&o(Te).label&&o(Te).label!==""&&De(Ze)})}var ht=I(Ee);{var Ht=De=>{var Me=Vf();V(Me,"dx",0),V(Me,"dy",0);var ft=D(Me);yt(ft,()=>o(Ce).label,!0,!1),ne(()=>{V(Me,"x",o(z)/1.1*o(Ce).labelHeight),V(Me,"y",o(ee)),V(Me,"transform",`rotate(-90, ${o(z)*o(Ce).labelHeight/1.1}, ${o(ee)})`)}),R(De,Me)};U(ht,De=>{o(Ce).show&&o(Ce).label&&o(Ce).label!==""&&De(Ht)})}var kt=I(ht);{var Ct=De=>{var Me=Of();V(Me,"dx",0),V(Me,"dy",0);var ft=D(Me);yt(ft,()=>o(ve),!0,!1),ne(()=>{V(Me,"x",o(Z)),V(Me,"y",o(z)*o(we))}),R(De,Me)};U(kt,De=>{o(ve)&&o(ve)!==""&&De(Ct)})}R(fe,Se)};U(ss,fe=>{o(W)&&fe(Ar)})}var br=I(ss),hn=D(br),mn=D(hn);V(mn,"id",N);var Kr=D(mn),ro=I(hn);{var no=fe=>{var Se=Kf(),Ee=$(Se);{var Ze=Fe=>{var ie=Bf(),it=D(ie);r(it,()=>o(xe),()=>o(Te)),R(Fe,ie)};U(Ee,Fe=>{o(Te).show&&o(xe)&&Fe(Ze)})}var ht=I(Ee);{var Ht=Fe=>{var ie=Wf(),it=D(ie);r(it,()=>o(Le),()=>o(Ce)),R(Fe,ie)};U(ht,Fe=>{o(Ce).show&&o(Le)&&Fe(Ht)})}var kt=I(ht),Ct=D(kt);{var De=Fe=>{var ie=Uf();ie.__keydown=[Jn,C,b],ie.__click=[Jn,C,b],ie.__mousemove=[ra,C,w],ie.__mousedown=[ea,C,p],ie.__mouseup=[ta,C,y],ne(()=>{V(ie,"stroke",o(ye).lineColor),V(ie,"stroke-width",`${o(ye).lineWidth??""}px`),V(ie,"x",o(re)[0]),V(ie,"y",o(oe)[1]),V(ie,"width",o(re)[1]-o(re)[0]),V(ie,"height",o(oe)[0]-o(oe)[1])}),R(Fe,ie)},Me=Fe=>{var ie=Yf();ie.__keydown=[Jn,C,b],ie.__click=[Jn,C,b],ie.__mousemove=[ra,C,w],ie.__mousedown=[ea,C,p],ie.__mouseup=[ta,C,y],ne(()=>{V(ie,"x",o(re)[0]),V(ie,"y",o(oe)[1]),V(ie,"width",o(re)[1]-o(re)[0]),V(ie,"height",o(oe)[0]-o(oe)[1])}),R(Fe,ie)};U(Ct,Fe=>{o(ye).show?Fe(De):Fe(Me,!1)})}var ft=I(kt);V(ft,"clip-path",`url(#${N??""})`);var st=D(ft);xr(st,()=>e.children??gt);var $e=I(ft);{var Ue=Fe=>{var ie=Gf(),it=D(ie);Af(it,()=>o(dt),()=>o(Je)),R(Fe,ie)};U($e,Fe=>{o(Je)&&Fe(Ue)})}var Ot=I($e);{var Sr=Fe=>{var ie=Hf(),it=D(ie);s(it,()=>o(_e),()=>o(Et)),R(Fe,ie)};U(Ot,Fe=>{o(Et)&&Fe(Sr)})}R(fe,Se)};U(ro,fe=>{o(W)&&fe(no)})}Fn(Pt,fe=>X(E,fe),()=>o(E));var so=I(Pt,2);{var oo=fe=>{var Se=Xf();R(fe,Se)},lo=fe=>{var Se=Qf(),Ee=D(Se);Ee.__click=[sa,E,u],Ee.__keydown=[sa,E,u];var Ze=I(Ee,2);Ze.__click=[oa,E,u,f,h,d],Ze.__keydown=[oa,E,u,f,h,d];var ht=I(Ze,2);ht.__click=[na,E,m,g],ht.__keydown=[na,E,m,g],R(fe,Se)};U(so,fe=>{o(W)?fe(lo,!1):fe(oo)})}ne(fe=>{Hr=vt(zt,1,`plot-container show-download-links-${v()??""}`,"svelte-1jtdxd0",Hr,fe),Wt(Pt,`font-size:${o(z)??""}px`),V(br,"x",o(j)),V(br,"y",o(q)),V(br,"width",o(B)),V(br,"height",o(F)),V(Kr,"x",o(re)[0]),V(Kr,"y",o(oe)[1]),V(Kr,"width",o(re)[1]-o(re)[0]),V(Kr,"height",o(oe)[0]-o(oe)[1])},[()=>({"plot-error":!o(W)})]),ol(Pt,"clientWidth",fe=>X(_,fe)),ol(Pt,"clientHeight",fe=>X(M,fe)),R(t,zt),he()}tt(["keydown","click","mousemove","mousedown","mouseup"]);function Zn(t,e){de(e,!0);let r=Y(e,"tickLabels",7),s=Y(e,"las",3,1),l=Y(e,"whole",3,!1),a=Y(e,"show",3,!0),c=Y(e,"showGrid",3,!1);const v=Dt("axes");me(()=>{const u=vn(e.label),f=u?u.length===e.label.length?1:1.4:0;let h,d="";e.ticks&&([h,d]=Ql(e.ticks,v.limX())),!d&&r()&&(m=>(r(m[0]),d=m[1]))(Xl(r(),h)),v.setXAxis({show:a(),error:d,label:u,ticks:h,labelHeight:f,showGrid:c(),las:s(),whole:l(),tickLabels:r()})}),he()}function $n(t,e){de(e,!0);let r=Y(e,"tickLabels",7),s=Y(e,"las",3,1),l=Y(e,"whole",3,!1),a=Y(e,"show",3,!0),c=Y(e,"showGrid",3,!1);const v=Dt("axes");me(()=>{const u=vn(e.label),f=u?u.length===e.label.length?1:1.4:0;let h,d="";e.ticks&&([h,d]=Ql(e.ticks,v.limY())),!d&&r()&&(m=>(r(m[0]),d=m[1]))(Xl(r(),h)),v.setYAxis({show:a(),error:d,label:u,ticks:h,labelHeight:f,showGrid:c(),las:s(),whole:l(),tickLabels:r(),pos:4})}),he()}function es(t,e){de(e,!0);let r=Y(e,"lineWidth",3,1),s=Y(e,"lineColor",3,"#606060");const l=Dt("axes");me(()=>{l.setBox({show:!0,lineWidth:r(),lineColor:s()})}),he()}var $f=(t,e)=>fn(t,"rect",e.onclick),ev=ge("<rect></rect>"),tv=ge("<g></g>");function er(t,e){de(e,!0);let r=Y(e,"faceColor",19,()=>wt.PRIMARY),s=Y(e,"lineColor",19,r),l=Y(e,"lineWidth",3,1),a=Y(e,"className",3,"series-rect");const c=T(()=>qt(e.left,"Rectangles (left)")),v=T(()=>o(c)?qt(e.top,"Rectangles (top)",o(c).length):null),u=T(()=>o(v)?typeof e.width!="object"?Ne.fill(e.width,o(c).length):e.width:null),f=T(()=>o(v)?typeof e.height!="object"?Ne.fill(e.height,o(c).length):e.height:null),h=Dt("axes"),d=T(()=>o(c)?at(o(c),h.tX()):null),m=T(()=>o(v)?at(o(v),h.tY()):null),g=T(()=>o(u)?Yl(o(u),h.tX()):null),b=T(()=>o(f)?Yl(o(f),h.tY()):null),w=T(()=>`fill:${r()};stroke:${s()};stroke-width:${l()}px;`),p=T(()=>o(d)&&o(m)&&o(g)&&o(b)&&o(g).length===o(d).length&&o(b).length===o(d).length);var y=ue(),C=$(y);{var N=E=>{var _=tv();_.__click=[$f,e],He(_,21,()=>e.left,Xe,(M,k,A)=>{var z=ev();ne(()=>{V(z,"x",o(d)[A]),V(z,"y",o(m)[A]),V(z,"width",o(g)[A]),V(z,"height",o(b)[A])}),R(M,z)}),ne(()=>{vt(_,0,`series ${a()??""}`),Wt(_,o(w))}),R(E,_)};U(C,E=>{o(p)&&E(N)})}R(t,y),he()}tt(["click"]);var rv=(t,e)=>fn(t,"line",e.onclick),nv=ge("<line></line>"),sv=ge('<g class="series series-segment"></g>');function eo(t,e){de(e,!0);let r=Y(e,"lineColor",19,()=>wt.PRIMARY),s=Y(e,"lineType",3,1),l=Y(e,"lineWidth",3,1);const a=T(()=>qt(e.xStart,"Segments")),c=T(()=>o(a)?qt(e.yStart,"Segments",o(a).length):null),v=T(()=>o(c)?qt(e.xEnd,"Segments",o(a).length):null),u=T(()=>o(v)?qt(e.yEnd,"Segments",o(a).length):null),f=Dt("axes"),h=T(()=>o(a)?at(o(a),f.tX()):null),d=T(()=>o(v)?at(o(v),f.tX()):null),m=T(()=>o(c)?at(o(c),f.tY()):null),g=T(()=>o(u)?at(o(u),f.tY()):null),b=T(()=>`stroke:${r()};stroke-width: ${l()}px;stroke-dasharray:${Qn[f.scales().plot][s()-1]}`),w=T(()=>o(h)&&o(d)&&o(m)&&o(g));var p=ue(),y=$(p);{var C=N=>{var E=sv();E.__click=[rv,e],He(E,21,()=>o(h),Xe,(_,M,k)=>{var A=nv();ne(()=>{V(A,"x1",o(h)[k]),V(A,"x2",o(d)[k]),V(A,"y1",o(m)[k]),V(A,"y2",o(g)[k])}),R(_,A)}),ne(()=>Wt(E,o(b))),R(N,E)};U(y,N=>{o(w)&&N(C)})}R(t,p),he()}tt(["click"]);var ov=(t,e)=>fn(t,"text",e.onclick),lv=ge("<text><!></text>"),av=ge("<text><!></text>"),iv=ge("<text><!></text>"),cv=ge('<g class="series series-textlabels"><!></g>');function to(t,e){de(e,!0);let r=Y(e,"pos",3,0),s=Y(e,"faceColor",19,()=>wt.PRIMARY_TEXT),l=Y(e,"lineColor",3,"transparent"),a=Y(e,"lineWidth",3,0),c=Y(e,"textSize",3,1),v=Y(e,"rotateAngle",3,0);const u=["middle","middle","start","middle","end"],f=T(()=>qt(e.xValues,"TextLabels")),h=T(()=>o(f)?qt(e.yValues,"TextLabels",o(f).length):null),d=T(()=>o(h)?Array.isArray(e.labels)&&e.labels.length!==o(h).length?(console.error('TextLabels: number of elements in "labels" does not match number of coordinates'),null):e.labels:null),m=T(()=>o(d)?typeof e.labels=="string"&&typeof r()!="number"?(console.error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.'),null):r():null),g=Dt("axes"),b=T(()=>o(f)&&o(m)!==null?at(o(f),g.tX()):null),w=T(()=>o(h)&&o(b)?at(o(h),g.tY()):null),p=T(()=>Dl[g.scales().plot]),y=T(()=>[0,0,-o(p),0,o(p),o(p)]),C=T(()=>[0,o(p),0,-o(p),0,o(p)]),N=T(()=>`fill:${s()};stroke-width:${a()}px;stroke:${l()};font-size:${c()}em;`),E=T(()=>o(b)&&o(w)&&o(m)!==null&&o(d)&&o(b).length===o(w).length);var _=ue(),M=$(_);{var k=A=>{var z=cv();z.__click=[ov,e];var L=D(z);{var S=j=>{var q=ue(),B=$(q);He(B,17,()=>o(b),Xe,(F,H,G)=>{var W=lv();V(W,"data-id",G);var J=D(W);yt(J,()=>e.labels,!0,!1),ne(()=>{V(W,"x",o(b)[G]),V(W,"y",o(w)[G]),V(W,"dx",o(y)[r()]),V(W,"dy",o(C)[r()]),V(W,"transform",v()!==void 0?`rotate(${v()}, ${o(b)[G]+o(y)[r()]}, ${o(w)[G]+o(C)[r()]})`:""),V(W,"text-anchor",u[r()[G]])}),R(F,W)}),R(j,q)},P=(j,q)=>{{var B=H=>{var G=ue(),W=$(G);He(W,17,()=>o(b),Xe,(J,te,ee)=>{var Z=av();V(Z,"data-id",ee);var re=D(Z);yt(re,()=>e.labels[ee],!0,!1),ne(()=>{V(Z,"x",o(b)[ee]),V(Z,"y",o(w)[ee]),V(Z,"dx",o(y)[r()[ee]]),V(Z,"dy",o(C)[r()[ee]]),V(Z,"transform",v()!==void 0?`rotate(${v()}, ${o(b)[ee]+o(y)[r()]}, ${o(w)[ee]+o(C)[r()]})`:""),V(Z,"text-anchor",u[r()[ee]])}),R(J,Z)}),R(H,G)},F=H=>{var G=ue(),W=$(G);He(W,17,()=>o(b),Xe,(J,te,ee)=>{var Z=iv();V(Z,"data-id",ee);var re=D(Z);yt(re,()=>e.labels[ee],!0,!1),ne(()=>{V(Z,"x",o(b)[ee]),V(Z,"y",o(w)[ee]),V(Z,"dx",o(y)[r()]),V(Z,"dy",o(C)[r()]),V(Z,"transform",v()!==void 0?`rotate(${v()}, ${o(b)[ee]+o(y)[r()]}, ${o(w)[ee]+o(C)[r()]})`:""),V(Z,"text-anchor",u[r()])}),R(J,Z)}),R(H,G)};U(j,H=>{Array.isArray(r())||ArrayBuffer.isView(r())?H(B):H(F,!1)},q)}};U(L,j=>{typeof e.labels=="string"?j(S):j(P,!1)})}ne(()=>Wt(z,o(N))),R(A,z)};U(M,A=>{o(E)&&A(k)})}R(t,_),he()}tt(["click"]),tt(["click"]);var uv=(t,e)=>fn(t,"text",e.onclick),fv=ge("<text> </text>"),vv=ge('<g text-anchor="middle"></g>');function Vt(t,e){de(e,!0);let r=Y(e,"marker",3,1),s=Y(e,"faceColor",3,"transparent"),l=Y(e,"lineColor",19,()=>wt.PRIMARY),a=Y(e,"lineWidth",3,1),c=Y(e,"markerSize",3,1);const v=T(()=>typeof r()!="number"||r()<1||r()>un.length?(console.error('Points: parameter "marker" must be a number from 1 to '+un.length+"."),null):un[r()-1]),u=T(()=>qt(e.xValues,"Points")),f=T(()=>o(u)?qt(e.yValues,"Points",o(u).length):null),h=Dt("axes"),d=T(()=>o(u)?at(o(u),h.tX()):null),m=T(()=>o(d)&&o(f)?at(o(f),h.tY()):null),g=T(()=>["＋","✳","✕"].includes(o(v))?`fill:${l()&&l()!=="transparent"?l():s()};stroke-width:0px;font-size:${c()}em;`:`fill:${s()};stroke-width:${a()}px;stroke:${l()}; font-size:${c()}em;`),b=T(()=>["◼","⬥","＋","✳","✕"].includes(o(v))?"series-points2":"series-points1"),w=T(()=>o(d)&&o(m)&&o(d).length===o(m).length);var p=ue(),y=$(p);{var C=N=>{var E=vv();E.__click=[uv,e],He(E,21,()=>o(d),Xe,(_,M,k)=>{var A=fv(),z=D(A);ne(()=>{V(A,"x",o(d)[k]),V(A,"y",o(m)[k]),le(z,o(v))}),R(_,A)}),ne(()=>{vt(E,0,`series series-points ${o(b)??""}`),Wt(E,o(g))}),R(N,E)};U(y,N=>{o(w)&&N(C)})}R(t,p),he()}tt(["click"]);var dv=(t,e)=>fn(t,"polyline",e.onclick),hv=ge('<g class="series series-line"><polyline class="line"></polyline></g>');function tr(t,e){de(e,!0);let r=Y(e,"lineColor",19,()=>wt.PRIMARY),s=Y(e,"lineType",3,1),l=Y(e,"lineWidth",3,1);const a=T(()=>qt(e.xValues,"Lines")),c=T(()=>o(a)?qt(e.yValues,"Lines",o(a).length):null),v=Dt("axes"),u=T(()=>o(a)&&o(c)?tf(o(a),o(c),v.tX(),v.tY()):null),f=T(()=>`fill:transparent;stroke:${r()};stroke-width: ${l()}px; stroke-dasharray:${Qn[v.scales().plot][s()-1]}`);var h=ue(),d=$(h);{var m=g=>{var b=hv();b.__click=[dv,e];var w=D(b);ne(()=>{Wt(b,o(f)),V(w,"points",o(u))}),R(g,b)};U(d,g=>{o(u)&&g(m)})}R(t,h),he()}tt(["click"]),tt(["click"]);function mv(t,e){de(e,!0);let r=Y(e,"show",3,!0),s=Y(e,"position",3,"topleft"),l=Y(e,"lineColor",19,()=>wt.LEGEND),a=Y(e,"lineWidth",3,1),c=Y(e,"faceColor",3,"#fff"),v=Y(e,"fontSize",3,.85);function u(d){return typeof d!="string"?(console.error('Legend: value of "position" must be a string.'),null):["top","left","right","topleft","topright","bottom","bottomleft","bottomright"].includes(d)?d:(console.error('Legend: wrong value of "position" property'),null)}function f(d){if(!d||!Array.isArray(d)||d.length<1)return console.error('Legend: property "items" must be provided as array of JSONs.'),null;for(let m=0;m<d.length;m++){const g=d[m];if(!g.label)return console.error('Legend: all elements of "items" must include at least one field: "label".'),null;const b=vn(g.label),w=b.length===g.label?1:1.4;g.label=b,g.labelHeight=w,g.line&&(g.line.lineType||(g.line.lineType=1),g.line.lineType>0&&g.line.lineType<=4||console.error('Legend: parameter "lineType" for legend item '+(m+1)+" is incorrect."),g.line.lineColor=g.line.lineColor?g.line.lineColor:wt.PRIMARY,g.line.lineWidth=g.line.lineWidth?g.line.lineWidth:1),g.point&&(g.point.marker||(g.point.marker=1),g.point.marker>0&&g.point.marker<=un.length||console.error('Legend: parameter "marker" for legend item '+(m+1)+" is incorrect."),g.point.faceColor=g.point.faceColor?g.point.faceColor:"transparent",g.point.lineWidth=g.point.lineWidth?g.point.lineWidth:1,g.point.lineColor=g.point.lineColor?g.point.lineColor:wt.PRIMARY)}return d}const h=Dt("axes");me(()=>{const d=f(e.items),m=u(s());h.setGroupLegend(d&&m?{show:r(),position:s(),items:e.items,lineColor:l(),faceColor:c(),lineWidth:a(),fontSize:v()}:{show:!1,position:null,items:null})}),he()}var gv=Q("<!> <!> <!>",1);function la(t,e){de(e,!0);const r="#80808060",s=T(()=>e.calset.varvalues),l=T(()=>{if(!e.calset)return null;const f=o(s).length;let h=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;const m=Ne.zeros(f),g=Ne.zeros(f);for(let b=0;b<o(s).length;b++){const w=e.calset.values.getcolumn(b+1),p=Wr(w),y=zs(w),C=p+y,N=p-y;m.v[b]=p,g.v[b]=y,h=Math.min(h,N),d=Math.max(d,C)}return{m,s:g,mn:h,mx:d,scale:1/(d-h)}}),a=T(()=>{if(!o(l))return null;let f=e.limY[1]-e.limY[0],h=e.limY[0]+f*.1;f=e.limY[1]-f*.3-h;const m=o(s).length,g=Ne.zeros(m),b=Ne.zeros(m),w=Ne.zeros(m),p=o(l).scale*f;for(let y=0;y<m;y++){const C=o(l).m.v[y],N=o(l).s.v[y],E=C+N,_=C+N;b.v[y]=(E-o(l).mn)*p+h,w.v[y]=(_-o(l).mn)*p+h,g.v[y]=(C-o(l).mn)*p+h}return{m:g,su:b,sb:w}});var c=ue(),v=$(c);{var u=f=>{var h=gv(),d=$(h);tr(d,{get xValues(){return o(s)},get yValues(){return o(a).m},lineColor:r,lineWidth:2});var m=I(d,2);tr(m,{get xValues(){return o(s)},get yValues(){return o(a).sb},lineColor:r,lineWidth:1,lineType:3});var g=I(m,2);tr(g,{get xValues(){return o(s)},get yValues(){return o(a).su},lineColor:r,lineWidth:1,lineType:3}),R(f,h)};U(v,f=>{o(a)&&f(u)})}R(t,c),he()}const pv=[1,1.1,.45,.4],bv=8,wv=8,_v=600;function ts(t,e){Zf(t,{get limX(){return e.limX},get limY(){return e.limY},get title(){return e.title},get fileName(){return e.fileName},downloadLinks:"hover",margins:pv,pngWidth:bv,pngHeight:wv,pngRes:_v,children:(r,s)=>{var l=ue(),a=$(l);xr(a,()=>e.children),R(r,l)},$$slots:{default:!0}})}var yv=Q("<!> <!> <!> <!> <!> <!> <!>",1);function xv(t,e){de(e,!0);const r="ddsimca-love-intervals",s=T(()=>e.props.s);function l(y){if(!y)return[0,1];const C=y.varvalues[0],N=y.varvalues[y.varvalues.length-1],E=N-C;return[C-E*.1,N+E*.025]}const a=T(()=>{if(!o(s).outcomes)return"Data and intervals";if(o(s).outcomes.status==="running")return"Calculation in progress..."}),c=T(()=>o(s).calset.varAxisTitle),v=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(10):null),u=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(22):null),f=T(()=>o(v)&&o(u)?{left:o(s).varselparams.left,width:o(s).varselparams.width,top:o(v),height:o(u)}:null),h=T(()=>{if(o(f)&&o(s).intExcluded.length>0){const y=o(s).intExcluded.length,C=Array(y),N=Array(y),E=Array(y),_=Array(y);for(let M=0;M<y;M++)C[M]=o(f).left[o(s).intExcluded[M]],N[M]=o(f).width[o(s).intExcluded[M]],E[M]=o(f).top[o(s).intExcluded[M]],_[M]=o(f).height[o(s).intExcluded[M]];return{left:C,width:N,top:E,height:_}}else return null}),d=T(()=>o(s).outcomes&&o(s).outcomes.status==="running"&&o(f)?{left:[o(f).left[o(s).outcomes.curInt]],width:[o(f).width[o(s).outcomes.curInt]],top:[2],height:[4],faceColor:"#fffa0040"}:null),m=T(()=>l(o(s).calset)),g=T(()=>[0,1.1]);var b=ue(),w=$(b);{var p=y=>{ts(y,{fileName:r,get limX(){return o(m)},get limY(){return o(g)},get title(){return o(a)},children:(C,N)=>{var E=yv(),_=$(E);la(_,{get calset(){return o(s).calset},get limY(){return o(g)}});var M=I(_,2);{var k=B=>{er(B,Ve({lineColor:"transparent",faceColor:"#00000040"},()=>o(h)))};U(M,B=>{o(h)&&B(k)})}var A=I(M,2);{var z=B=>{var F=ue(),H=$(F);{var G=W=>{er(W,Ve(()=>o(d)))};U(H,W=>{o(d)&&W(G)})}R(B,F)};U(A,B=>{o(s).outcomes&&o(s).outcomes.status==="running"&&B(z)})}var L=I(A,2);{var S=B=>{er(B,Ve({lineColor:"#00000010",faceColor:"#00000005"},()=>o(f)))};U(L,B=>{o(f)&&B(S)})}var P=I(L,2);es(P,{});var j=I(P,2);Zn(j,{get label(){return o(c)}});var q=I(j,2);$n(q,{showGrid:!0}),R(C,E)}})};U(w,y=>{o(m)&&o(g)&&y(p)})}R(t,b),he()}var Ev=Q("<!> <!> <!>",1),kv=Q("<!> <!>",1),Cv=Q("<!> <!>",1),Av=Q("<!> <!>",1),Sv=Q("<!> <!> <!>; <!>",1);function Mv(t,e){de(e,!0);let r=Y(e,"yMin",15),s=Y(e,"yMax",15);const l=T(()=>{if(!e.fomView||!e.s.outcomes||e.s.outcomes.status!=="done")return{min:0,max:1,values:null};const b=e.s.varselparams.mid,w=e.s.varselparams.width,p=b.length;let y=0,C=0,N={};const E=e.fomView==="diff"?.21:.84,_=e.fomView==="diff"?1:0,M=.42;let k=0;for(const A of e.fomKeys){const z=e.s.outcomes[A][e.fomView].getcolumn(e.s.nComp).v,L=Array(p),S=Array(p),P=Array(p),j=Array(p);for(let q=0;q<p;q++)L[q]=b[q]-M*w[q]+k*E*_*w[q],j[q]=E*w[q],z[q]>=0?(S[q]=z[q],P[q]=z[q],C=Math.max(C,z[q])):(S[q]=0,P[q]=-z[q],y=Math.min(y,z[q]));N[A]={left:L,top:S,height:P,width:j,faceColor:"#a8a04060"},k=k+1}return{values:N,min:y,max:C}}),a=T(()=>o(l)?(o(l).max-o(l).min)*.2:0);me(()=>{r(o(l).min-o(a)),s(o(l).max+o(a))});const c=T(()=>{if(!o(l)||!o(l).values||e.s.intSelected===void 0||e.s.intSelected===null||e.s.intSelected<0)return null;const b={},w={};for(const p of e.fomKeys){const y=o(l).values[p],C=y.left[e.s.intSelected],N=y.width[e.s.intSelected],E=y.top[e.s.intSelected],_=y.height[e.s.intSelected],M=E===0?-_:_;b[p]={left:[C],width:[N],top:[E],height:[_]},w[p]={xValues:[C+N*.5],yValues:[s()-o(a)],labels:e.fomView==="diff"?[M.toFixed(3)+" ("+p+")"]:[M.toFixed(3)],pos:3,textSize:.8,faceColor:e.seriesColors.selected}}return{psl:b,tsl:w}}),v=T(()=>e.s.statsGlobal&&e.fom?e.s.statsGlobal[e.fom][e.s.statsGlobal.ncompBest?e.s.statsGlobal.ncompBest-1:e.s.nComp-1]:null),u=T(()=>e.s.statsCurrent&&e.fom&&e.s.statsCurrent.ncompBest?e.s.statsCurrent[e.fom][e.s.statsCurrent.ncompBest?e.s.statsCurrent.ncompBest-1:e.s.nComp-1]:null),f=T(()=>o(l).values&&e.fom?o(l).values[e.fom]:null),h=T(()=>o(f)?(e.limX[0]+o(f).left[0])*.5:0);var d=ue(),m=$(d);{var g=b=>{var w=ue(),p=$(w);{var y=N=>{var E=Ev(),_=$(E);const M=T(()=>[e.limX[0]]),k=T(()=>[e.limX[1]]);eo(_,{get xStart(){return o(M)},get xEnd(){return o(k)},yStart:[0],yEnd:[0],lineColor:"#808080"});var A=I(_,2);He(A,17,()=>e.fomKeys,Xe,(S,P)=>{const j=T(()=>"#a8a040"+(o(P)===e.fom?"e0":"60"));er(S,Ve(()=>o(l).values[o(P)],{lineWidth:0,get faceColor(){return o(j)}}))});var z=I(A,2);{var L=S=>{var P=ue(),j=$(P);He(j,17,()=>e.fomKeys,Xe,(q,B)=>{const F=T(()=>e.seriesColors.selected+(o(B)===e.fom?"":"40"));er(q,Ve(()=>o(c).psl[o(B)],{lineWidth:0,get faceColor(){return o(F)}}))}),R(S,P)};U(z,S=>{o(c)&&S(L)})}R(N,E)},C=N=>{var E=Sv(),_=$(E);{var M=P=>{var j=kv(),q=$(j);const B=T(()=>[e.limX[0]]),F=T(()=>[e.limX[1]]),H=T(()=>[o(v)]),G=T(()=>[o(v)]);eo(q,{get xStart(){return o(B)},get xEnd(){return o(F)},get yStart(){return o(H)},get yEnd(){return o(G)},get lineColor(){return e.seriesColors.global}});var W=I(q,2);const J=T(()=>[o(h)]),te=T(()=>[o(v)]),ee=T(()=>[o(v).toFixed(3)]),Z=T(()=>o(v)>o(u)?3:1);to(W,{get xValues(){return o(J)},get yValues(){return o(te)},get labels(){return o(ee)},get pos(){return o(Z)},textSize:.85,get faceColor(){return e.seriesColors.global}}),R(P,j)};U(_,P=>{o(v)&&P(M)})}var k=I(_,2);{var A=P=>{var j=Cv(),q=$(j);const B=T(()=>[e.limX[0]]),F=T(()=>[e.limX[1]]),H=T(()=>[o(u)]),G=T(()=>[o(u)]);eo(q,{get xStart(){return o(B)},get xEnd(){return o(F)},get yStart(){return o(H)},get yEnd(){return o(G)},lineType:3,get lineColor(){return e.seriesColors.best}});var W=I(q,2);const J=T(()=>[o(h)]),te=T(()=>[o(u)]),ee=T(()=>[o(u).toFixed(3)]),Z=T(()=>o(v)>o(u)?1:3);to(W,{get xValues(){return o(J)},get yValues(){return o(te)},get labels(){return o(ee)},get pos(){return o(Z)},textSize:.85,get faceColor(){return e.seriesColors.best}}),R(P,j)};U(k,P=>{o(u)&&P(A)})}var z=I(k,2);er(z,Ve(()=>o(f),{faceColor:"#a8a04080"}));var L=I(z,2);{var S=P=>{var j=Av(),q=$(j);er(q,Ve(()=>o(c).psl[e.fom],{lineWidth:0,get faceColor(){return e.seriesColors.selected}}));var B=I(q,2);to(B,Ve(()=>o(c).tsl[e.fom])),R(P,j)};U(L,P=>{o(c)&&P(S)})}R(N,E)};U(p,N=>{e.fomView==="diff"?N(y):N(C,!1)})}R(b,w)};U(m,b=>{o(l)&&b(g)})}R(t,d),he()}var Nv=Q("<!> <!> <!> <!> <!> <!> <!> <!>",1);function zv(t,e){de(e,!0);const r="ddsimca-love-outcomes",s=T(()=>e.props?e.props.s:null),l=T(()=>e.props?e.props.fomKeys:null),a=T(()=>e.props?e.props.fomNames:null),c=T(()=>e.props?e.props.seriesColors:null);let v=ae(0),u=ae(1),f=T(()=>o(s).calset.varAxisTitle);function h(M){if(!M)return[0,1];const k=M.varvalues[0],A=M.varvalues[M.varvalues.length-1],z=A-k;return[k-z*.1,A+z*.025]}const d=T(()=>o(s).outcomes?o(s).outcomes.status==="running"?"Selection in progress...":"Variable selection outcomes (A = "+o(s).nComp+")":"Data and intervals"),m=T(()=>!o(s).outcomes||o(s).outcomes.status==="running"?" ":(e.params.fomView==="diff"?"Difference in ":"")+o(a)[e.params.fom]),g=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(10):null),b=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(22):null),w=T(()=>o(g)&&o(b)?{left:o(s).varselparams.left,width:o(s).varselparams.width,top:o(g),height:o(b)}:null),p=T(()=>{if(o(w)&&o(s).intExcluded.length>0){const M=o(s).intExcluded.length,k=Array(M),A=Array(M),z=Array(M),L=Array(M);for(let S=0;S<M;S++)k[S]=o(w).left[o(s).intExcluded[S]],A[S]=o(w).width[o(s).intExcluded[S]],z[S]=o(w).top[o(s).intExcluded[S]],L[S]=o(w).height[o(s).intExcluded[S]];return{left:k,width:A,top:z,height:L}}else return null}),y=T(()=>h(o(s).calset)),C=T(()=>e.params.fomView==="diff"?[o(v),o(u)]:[0,1.1]);var N=ue(),E=$(N);{var _=M=>{ts(M,{fileName:r,get limX(){return o(y)},get limY(){return o(C)},get title(){return o(d)},children:(k,A)=>{var z=Nv(),L=$(z);la(L,{get calset(){return o(s).calset},get limY(){return o(C)}});var S=I(L,2);{var P=ee=>{Mv(ee,{get s(){return o(s)},get limX(){return o(y)},get fomKeys(){return o(l)},get seriesColors(){return o(c)},get fomView(){return e.params.fomView},get fom(){return e.params.fom},get yMin(){return o(v)},set yMin(Z){X(v,Z,!0)},get yMax(){return o(u)},set yMax(Z){X(u,Z,!0)}})};U(S,ee=>{o(s).outcomes&&ee(P)})}var j=I(S,2);{var q=ee=>{const Z=T(()=>[o(w).left[o(s).intSelected]]),re=T(()=>[o(w).width[o(s).intSelected]]),oe=T(()=>[o(w).top[o(s).intSelected]]),ve=T(()=>[o(w).height[o(s).intSelected]]);er(ee,{get left(){return o(Z)},get width(){return o(re)},get top(){return o(oe)},get height(){return o(ve)},lineColor:"#00000010",faceColor:"#ff000010"})};U(j,ee=>{o(w)&&o(s).intSelected>=0&&ee(q)})}var B=I(j,2);{var F=ee=>{er(ee,Ve({className:"series-love-intervals",lineColor:"#00000010",faceColor:"#00000005"},()=>o(w),{get onclick(){return e.callbacks.select}}))};U(B,ee=>{o(w)&&ee(F)})}var H=I(B,2);{var G=ee=>{er(ee,Ve({lineColor:"transparent",faceColor:"#00000040"},()=>o(p)))};U(H,ee=>{o(p)&&ee(G)})}var W=I(H,2);es(W,{});var J=I(W,2);Zn(J,{get label(){return o(f)}});var te=I(J,2);$n(te,{get label(){return o(m)},showGrid:!0}),R(k,z)}})};U(E,M=>{e.params&&o(y)&&o(C)&&M(_)})}R(t,N),he()}var Pv=Q("<!> <!>",1),Tv=Q("<!> <!> <!>",1),Rv=Q("<!> <!>",1),Lv=Q("<!> <!> <!> <!> <!>",1),jv=Q("<!> <!> <!> <!> <!>",1);function Iv(t,e){de(e,!0);const r="ddsimca-love-progress",s=T(()=>e.props?e.props.s:null),l=T(()=>e.props?e.props.fomKeys:null),a=T(()=>e.props?e.props.fomNames:null),c=T(()=>e.props?e.props.seriesColors:null),v="Variable selection progress",u="Steps",f=T(()=>o(a)[e.params.fom]),h=T(()=>o(s).statsProgress?o(s).statsProgress.length:0),d=T(()=>o(h)>0?Hn(0,o(h)-1):null),m=T(()=>{if(o(h)<1)return null;const A={};let z=1.1,L=0;for(let S=0;S<o(h);S++){const P=o(s).statsProgress[S];for(const j of o(l)){S===0&&(A[j]=[]);const q=P[j];A[j].push(q),z=Math.min(z,q),L=Math.max(L,q)}}return{series:A,min:z,max:L}}),g=T(()=>o(m)?{xValues:o(d),yValues:o(m).series[e.params.fom]}:null),b=T(()=>o(g)?{xValues:[o(h)-1],yValues:[o(g).yValues[o(h)-1]]}:null),w=T(()=>o(g)?{xValues:[0],yValues:[o(g).yValues[0]]}:null),p=T(()=>{if(!o(g)||!o(s).outcomes||o(s).outcomes.status!=="done"||o(s).intSelected<0)return null;let A=1,z=0,L={};for(const S of o(l)){const P=o(s).outcomes[S].val.getcolumn(o(s).nComp).v[o(s).intSelected];A=Math.min(A,P),z=Math.max(z,P),L[S]={xValues:[o(h)-1,o(h)],yValues:[o(m).series[S][o(h)-1],P]}}return{series:L,min:A,max:z}}),y=T(()=>o(p)?o(p).series[e.params.fom]:null),C=T(()=>o(b)?{xValues:[o(h)-1,o(h)],yValues:[o(b).yValues[0],o(y).yValues[1]]}:null),N=T(()=>o(h)>0?o(y)?[-.5,o(h)+.5]:[-.5,o(h)-.5]:[0,1]),E=T(()=>{if(!o(m)||!e.params.zoom)return[0,1.1];const A=o(m).min,z=o(m).max;return o(p)?[Math.min(A,o(p).min)-.02,Math.max(z,o(p).max+.02)]:[A-.02,z+.02]});var _=ue(),M=$(_);{var k=A=>{ts(A,{fileName:r,get limX(){return o(N)},get limY(){return o(E)},title:v,children:(z,L)=>{var S=jv(),P=$(S);{var j=W=>{var J=Tv(),te=$(J);He(te,17,()=>Object.keys(o(p).series),Xe,(re,oe)=>{var ve=Pv(),we=$(ve);tr(we,Ve(()=>o(p).series[o(oe)],{lineColor:"#d0d0d0",lineType:3}));var ye=I(we,2);Vt(ye,Ve(()=>o(p).series[o(oe)],{markerSize:.75,lineColor:"#d0d0d0",faceColor:"#e0e0e0"})),R(re,ve)});var ee=I(te,2);tr(ee,Ve(()=>o(C),{get lineColor(){return o(c).selected},lineType:3}));var Z=I(ee,2);Vt(Z,Ve(()=>o(y),{get lineColor(){return o(c).selected},get faceColor(){return o(c).selected},borderWidth:2})),R(W,J)};U(P,W=>{o(y)&&W(j)})}var q=I(P,2);{var B=W=>{var J=Lv(),te=$(J);He(te,17,()=>Object.keys(o(m).series),Xe,(ve,we)=>{var ye=Rv(),Te=$(ye);tr(Te,{get xValues(){return o(d)},get yValues(){return o(m).series[o(we)]},lineColor:"#d0d0d0"});var Ce=I(Te,2);Vt(Ce,{get xValues(){return o(d)},get yValues(){return o(m).series[o(we)]},markerSize:.75,lineColor:"#d0d0d0",faceColor:"#e0e0e0"}),R(ve,ye)});var ee=I(te,2);tr(ee,Ve(()=>o(g),{lineColor:"#808080",lineWidth:2}));var Z=I(ee,2);Vt(Z,Ve(()=>o(g),{lineColor:"#808080",faceColor:"#fafafa"}));var re=I(Z,2);Vt(re,Ve(()=>o(b),{get lineColor(){return o(c).best},lineWidth:2}));var oe=I(re,2);Vt(oe,Ve(()=>o(w),{get lineColor(){return o(c).global},lineWidth:2})),R(W,J)};U(q,W=>{o(g)&&W(B)})}var F=I(q,2);es(F,{});var H=I(F,2);Zn(H,{showGrid:!0,label:u,whole:!0});var G=I(H,2);$n(G,{showGrid:!0,get label(){return o(f)}}),R(z,S)}})};U(M,A=>{o(m)&&A(k)})}R(t,_),he()}var Fv=Q("<!> <!> <!>",1),qv=Q("<!> <!> <!>",1),Vv=Q("<!> <!> <!>",1),Ov=Q("<!> <!> <!> <!> <!> <!> <!>",1);function Dv(t,e){de(e,!0);const r=T(()=>e.props.s),s=T(()=>e.props?e.props.fomKeys:null),l=T(()=>e.props?e.props.fomNames:null),a=T(()=>e.props?e.props.seriesColors:null),c="ddsimca-love-models",v="PCs",u="Variable selection outcomes",f=[0,1.1],h=T(()=>o(l)[e.params.fom]);function d(z,L){return{label:z,line:{lineColor:L.lineColor},point:{lineColor:L.lineColor,lineWidth:1.25,faceColor:"#fafafa",marker:1}}}function m(z,L,S){const P=[];return z&&P.push(d("global",z)),L&&P.push(d("current",L)),S&&P.push(d("selected ("+(o(r).intSelected+1)+")",S)),P}let g=T(()=>o(r).statsGlobal?o(r).statsGlobal[[o(s)[0]]].length:1),b=T(()=>[0,o(g)+1]),w=T(()=>o(r).statsGlobal&&e.params.fom?{xValues:Ne.seq(1,o(g)),yValues:new Ne(o(r).statsGlobal[e.params.fom]),lineColor:o(a).global}:null),p=T(()=>o(w)?{xValues:[o(r).nComp],yValues:[o(w).yValues.v[o(r).nComp-1]],lineColor:o(a).global}:null),y=T(()=>o(r).statsCurrent&&e.params.fom?{xValues:Ne.seq(1,o(r).statsCurrent[e.params.fom].length),yValues:new Ne(o(r).statsCurrent[e.params.fom]),lineColor:o(a).best}:null),C=T(()=>o(y)?{xValues:[o(r).nComp],yValues:[o(y).yValues.v[o(r).nComp-1]],lineColor:o(a).best}:null),N=T(()=>o(r).outcomes&&e.params.fom&&o(r).intSelected>=0?{xValues:Ne.seq(1,o(r).outcomes[e.params.fom].val.ncols),yValues:o(r).outcomes[e.params.fom].val.getrow(o(r).intSelected+1),lineColor:o(a).selected}:null),E=T(()=>o(N)?{xValues:[o(r).nComp],yValues:[o(N).yValues.v[o(r).nComp-1]],lineColor:o(a).selected}:null),_=T(()=>m(o(w),o(y),o(N)));var M=ue(),k=$(M);{var A=z=>{ts(z,{fileName:c,get limX(){return o(b)},limY:f,title:u,children:(L,S)=>{var P=Ov(),j=$(P);{var q=Z=>{var re=Fv(),oe=$(re);tr(oe,Ve(()=>o(w)));var ve=I(oe,2);Vt(ve,Ve(()=>o(w),{faceColor:"#fafafa"}));var we=I(ve,2);Vt(we,Ve(()=>o(p),{faceColor:"#fafafa",lineWidth:3})),R(Z,re)};U(j,Z=>{o(w)&&Z(q)})}var B=I(j,2);{var F=Z=>{var re=qv(),oe=$(re);tr(oe,Ve(()=>o(y)));var ve=I(oe,2);Vt(ve,Ve(()=>o(y),{faceColor:"#fafafa"}));var we=I(ve,2);Vt(we,Ve(()=>o(C),{faceColor:"#fafafa",lineWidth:3})),R(Z,re)};U(B,Z=>{o(y)&&Z(F)})}var H=I(B,2);{var G=Z=>{var re=Vv(),oe=$(re);tr(oe,Ve(()=>o(N)));var ve=I(oe,2);Vt(ve,Ve(()=>o(N),{faceColor:"#fafafa"}));var we=I(ve,2);Vt(we,Ve(()=>o(E),{faceColor:"#fafafa",lineWidth:3})),R(Z,re)};U(H,Z=>{o(N)&&Z(G)})}var W=I(H,2);mv(W,{get items(){return o(_)},position:"bottomright"});var J=I(W,2);es(J,{});var te=I(J,2);Zn(te,{showGrid:!0,label:v,whole:!0});var ee=I(te,2);$n(ee,{showGrid:!0,get label(){return o(h)}}),R(L,P)}})};U(k,z=>{e.params&&z(A)})}R(t,M),he()}function Bv(t,e){de(e,!0);const r=T(()=>e.props.s);me(()=>{o(r).intSelected=e.selected}),me(()=>{o(r).intSelected<0&&e.callbacks.select(o(r).intSelected)});var s=ue(),l=$(s);{var a=v=>{zv(v,{get props(){return e.props},get params(){return e.params},get callbacks(){return e.callbacks},get selected(){return e.selected}})},c=(v,u)=>{{var f=d=>{Iv(d,{get props(){return e.props},get params(){return e.params}})},h=(d,m)=>{{var g=w=>{Dv(w,{get props(){return e.props},get params(){return e.params}})},b=w=>{xv(w,{get props(){return e.props},get params(){return e.params}})};U(d,w=>{e.params.plot==="statistics"?w(g):w(b,!1)},m)}};U(v,d=>{e.params.plot==="progress"&&o(r).statsProgress?d(f):d(h,!1)},u)}};U(l,v=>{e.params.plot==="intervals"&&o(r).outcomes&&o(r).outcomes.status==="done"?v(a):v(c,!1)})}R(t,s),he()}var Wv=Q('<div class="msg-select"> </div>'),Uv=Q('<div class="msg-select"> </div>'),Yv=Q('<div class="selected-buttons svelte-8mh2yv"><!></div>'),Gv=Q("<!> <!>",1),Hv=()=>switchPlot(i),Kv=(t,e,r)=>X(e,o(r),!0),Xv=Q('<button class="plot-selector svelte-8mh2yv"> </button>'),Qv=Q('<div class="plot-panel svelte-8mh2yv"><div class="plot-area svelte-8mh2yv"><div class="plot svelte-8mh2yv"><!></div> <div class="plot-select-msg svelte-8mh2yv"><!></div></div> <div class="plot-controls-area svelte-8mh2yv"></div></div>');function Jv(t,e){de(e,!0);let r=Y(e,"selobjText",3,"Click to select an object...");Y(e,"selvarText",3,"Click to select a variable...");let s=Y(e,"clearText",3,"Click anywhere to remove selection..."),l=Y(e,"params",15),a=Ge({objects:-1,variables:-1}),c=ae(Ge(Object.keys(e.plots)[0]));function v(M){a.objects=M}function u(M){a.objects=-1}function f(M){a.variables=M}function h(M){a.variables=-1}let d={objects:{select:v,unselect:u},variables:{select:f,unselect:h},stats:{}},m=T(()=>o(c)?e.plots[o(c)]:null),g=T(()=>o(m)?o(m).component:null);var b=Qv(),w=D(b),p=D(w),y=D(p);Cs(y,()=>o(g),(M,k)=>{k(M,{get params(){return l()[o(c)]},get callbacks(){return d[o(m).scope]},get selected(){return a[o(m).scope]},get props(){return e.props}})});var C=I(p,2),N=D(C);{var E=M=>{var k=ue(),A=$(k);{var z=S=>{var P=Wv(),j=D(P);ne(()=>le(j,r())),R(S,P)},L=S=>{var P=Uv(),j=D(P);ne(()=>le(j,s())),R(S,P)};U(A,S=>{a[o(m).scope]<0?S(z):S(L,!1)})}R(M,k)};U(N,M=>{o(m).scope==="objects"&&l()[o(c)].plotType!=="l"&&r().length>0&&M(E)})}var _=I(w,2);He(_,21,()=>Object.keys(e.plots),Xe,(M,k)=>{var A=ue(),z=$(A);{var L=P=>{var j=Gv(),q=$(j);uu(q,{get title(){return o(m).label},labelWidth:12,get options(){return e.controls[o(c)]},get value(){return l()[o(c)]},set value(H){l(l()[o(c)]=H,!0)}});var B=I(q,2);{var F=H=>{var G=Yv(),W=D(G);xr(W,()=>o(m).buttons,()=>a.objects),R(H,G)};U(B,H=>{o(m).buttons&&a.objects>=0&&H(F)})}R(P,j)},S=P=>{var j=Xv();j.__keydown=[Hv],j.__click=[Kv,c,k];var q=D(j);ne(()=>le(q,e.plots[o(k)].label)),R(P,j)};U(z,P=>{o(m)&&o(c)===o(k)?P(L):P(S,!1)})}R(M,A)}),R(t,b),he()}tt(["keydown","click"]);var Zv=Q("<!> <!>",1);function $v(t,e){de(e,!0);const r=(p,y=gt)=>{var C=ue(),N=$(C);{var E=_=>{const M=T(()=>s().intSelected+1);ce(_,{get label(){return`Selected (${o(M)??""})`},children:(k,A)=>{var z=Zv(),L=$(z);ut(L,{onclick:()=>s().intSelected=-1,text:"cancel"});var S=I(L,2);ut(S,{onclick:()=>e.setExcluded(s().intSelected),text:"exclude"}),R(k,z)},$$slots:{default:!0}})};U(N,_=>{s().intSelected>=0&&_(E)})}R(p,C)};let s=Y(e,"s",7),l=ae(!0);const a={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"},c=Object.keys(a),v={global:"#404040",best:"#2679B2",selected:"#D22C2F"},h={txt:{el:Nt,hidden:!1,default:"Run selection",label:"Run selection"},plot:{el:Nt,name:"plot",hidden:!1,default:"intervals",label:"Show",props:{options:["intervals","progress","statistics"]}},fom:{el:Nt,name:"fom",hidden:!1,default:"sens",label:"Statistic",props:{options:["sens","spec","eff","sel"]}},nComp:{el:Vl,name:"ncomp",hidden:!1,default:1,label:"# PCs",props:{min:1,max:1,step:1,decNum:0}},fomView:{el:Nt,name:"fomview",hidden:!1,default:"val",label:"Show",props:{options:["diff","val"]}},zoom:{el:cn,name:"zoom",hidden:!1,default:!1,label:"Zoom",props:{options:["off","on"]}}},d=T(()=>({main:{label:"Outcomes",scope:"objects",component:Bv,buttons:r}})),m=Ge({main:h});let g=ae(Ge({main:Gc(h)}));me(()=>{s().outcomes&&s().outcomes.status==="done"&&(m.main.nComp.props.max=s().outcomes.ncomp)}),me(()=>{s().outcomes&&s().outcomes.status==="running"?(X(l,!0),o(g).main.plot="intervals",m.main.txt.hidden=!1,m.main.plot.hidden=!0):(X(l,!1),m.main.txt.hidden=!0,m.main.plot.hidden=!1)}),me(()=>{o(g).main.plot==="intervals"&&s().outcomes&&s().outcomes.status==="done"?m.main.fomView.hidden=!1:m.main.fomView.hidden=!0}),me(()=>{o(g).main.plot==="intervals"&&s().outcomes&&s().outcomes.status==="done"||o(g).main.plot==="progress"||o(g).main.plot==="statistics"?m.main.fom.hidden=!1:m.main.fom.hidden=!0}),me(()=>{o(g).main.plot!=="progress"?m.main.zoom.hidden=!0:m.main.zoom.hidden=o(l)}),me(()=>{o(g).main.plot==="progress"||!s().outcomes||s().outcomes.status!=="done"?m.main.nComp.hidden=!0:m.main.nComp.hidden=o(l)}),me(()=>{s().statsProgress?m.main.plot={label:"Show",hidden:!1,el:Nt,props:{options:["intervals","progress","statistics"]}}:(m.main.plot={label:"Show",hidden:!1,el:Nt,props:{options:["intervals","statistics"]}},o(g).plot==="progress"&&(o(g).plots="intervals"))}),me(()=>{s().nComp=o(g).main.nComp});const b=T(()=>({s:s(),seriesColors:v,fomKeys:c,fomNames:a}));Jv(t,{get props(){return o(b)},callbacks:{},get plots(){return o(d)},get controls(){return m},selobjText:"",",":!0,get params(){return o(g)},set params(p){X(g,p,!0)}}),he()}var ed=Q('<p class="title">Variable selection settings</p>'),td=Q('<p style="padding: 0.25em; font-weight:bold;"> </p>'),rd=Q('<p style="padding: 0.25em; font-weight:bold;"> </p>'),nd=Q("<!> <!>",1),sd=Q('<p style="padding: 0.25em; font-weight:bold;"> </p> <!>',1),od=Q('<p style="padding: 0.25em;font-weight:bold;">Calculation in progress...</p>'),ld=Q('<p style="padding: 0.25em;font-weight:bold;">Select interval</p>'),ad=Q('<p style="padding: 0.25em;color:crimson;font-weight:bold;">No intervals left for selection.</p>'),id=Q("<!> <!> <!> <!>",1);function cd(t,e){de(e,!0);let r=Y(e,"s",7);const s=[10,5,1,.1];let l=r().calset.values.ncols,a=ae(Ge(r().varselparams?r().varselparams.nInt:l<=50?l:10)),c=ae(Ge(o(a))),v=r().calset.varvalues,u=Dc(l);async function f(_){const{calset:M,tarset:k,altset:A,model:z,alpha:L,statsCurrent:S,varselparams:P,varsExcluded:j,intExcluded:q}=_,{center:B,scale:F,ncomp:H}=z,{nInt:G}=P,W=M.values,J=k.values,te=A.values,ee=W.ncols-_.varsExcluded.length-_.varselparams.intSize,Z=H>ee?ee:H,re=lt.zeros(Z,G),oe=lt.zeros(Z,G),ve=lt.zeros(Z,G),we=lt.zeros(Z,G),ye=lt.zeros(Z,G),Te=lt.zeros(Z,G),Ce=lt.zeros(Z,G),Ae=lt.zeros(Z,G);console.time("do0");for(let _e=0;_e<G;_e++){if(q.length>0&&q.includes(_e))continue;_.outcomes={status:"running",curInt:_e};const dt=Hn(P.intLeftIndices[_e],P.intRightIndices[_e]),xe=P.intSize===1?[...j,_e]:j.concat(dt),Le=await Vc(e.WASM,{varInd:xe,nComp:Z,Xcal:W,Xtar:J,Xalt:te,center:B,scale:F,statsCurrent:S,alpha:L});re.v.set(Le.sens.val,_e*Z),oe.v.set(Le.spec.val,_e*Z),ve.v.set(Le.eff.val,_e*Z),we.v.set(Le.sel.val,_e*Z),ye.v.set(Le.sens.diff,_e*Z),Te.v.set(Le.spec.diff,_e*Z),Ce.v.set(Le.eff.diff,_e*Z),Ae.v.set(Le.sel.diff,_e*Z)}_.outcomes={status:"done",ncomp:Z,sens:{val:re.t(),diff:ye.t()},spec:{val:oe.t(),diff:Te.t()},eff:{val:ve.t(),diff:Ce.t()},sel:{val:we.t(),diff:Ae.t()}},console.timeEnd("do0")}me(()=>{o(c)!==o(a)&&(X(c,o(a),!0),r().outcomes=null)}),me(()=>{r().varselparams=Oc(l,o(a),null,v)});var h=id(),d=$(h);ce(d,{label:"",children:(_,M)=>{var k=ed();R(_,k)},$$slots:{default:!0}});var m=I(d,2);{var g=_=>{ce(_,{name:"alpha",label:"Alpha, %:",children:(M,k)=>{Nt(M,{id:"alpha",options:s,get value(){return r().alpha},set value(A){r().alpha=A}})},$$slots:{default:!0}})},b=_=>{ce(_,{label:"Alpha, %:",children:(M,k)=>{var A=td(),z=D(A);ne(()=>le(z,r().alpha)),R(M,A)},$$slots:{default:!0}})};U(m,_=>{r().intExcluded.length===0&&!r().outcomes?_(g):_(b,!1)})}var w=I(m,2);{var p=_=>{var M=ue(),k=$(M);{var A=L=>{ce(L,{name:"nint",label:"N. of intervals:",children:(S,P)=>{Nt(S,{id:"nInt",options:u,get value(){return o(a)},set value(j){X(a,j,!0)}})},$$slots:{default:!0}})},z=L=>{ce(L,{label:"N. of intervals:",children:(S,P)=>{var j=rd(),q=D(j);ne(()=>le(q,o(a))),R(S,j)},$$slots:{default:!0}})};U(k,L=>{!r().outcomes||r().outcomes.status!=="running"?L(A):L(z,!1)})}R(_,M)},y=_=>{ce(_,{label:"N. of intervals:",children:(M,k)=>{var A=sd(),z=$(A),L=D(z),S=I(z,2);{var P=j=>{var q=nd(),B=$(q);{var F=G=>{Uc(G,{get onclick(){return e.undoExcluded}})};U(B,G=>{r().intExcluded.length>=2&&G(F)})}var H=I(B,2);an(H,{get onclick(){return e.resetExcluded}}),R(j,q)};U(S,j=>{(!r().outcomes||r().outcomes.status!=="running")&&j(P)})}ne(()=>le(L,`${o(a)??""} (${r().intExcluded.length??""} out, ${r().varselparams.nInt-r().intExcluded.length} in)`)),R(M,A)},$$slots:{default:!0}})};U(w,_=>{r().intExcluded.length===0||!r().varselparams?_(p):_(y,!1)})}var C=I(w,2);{var N=_=>{ce(_,{label:" ",children:(M,k)=>{var A=ue(),z=$(A);{var L=P=>{var j=od();R(P,j)},S=P=>{var j=ld();R(P,j)};U(z,P=>{r().outcomes.status==="running"?P(L):P(S,!1)})}R(M,A)},$$slots:{default:!0}})},E=_=>{var M=ue(),k=$(M);{var A=z=>{ce(z,{label:" ",children:(L,S)=>{var P=ue(),j=$(P);{var q=F=>{const H=T(()=>r().intExcluded.length>0?"new":"");ut(F,{id:"run",onclick:()=>f(r()),get text(){return`Run ${o(H)??""}`}})},B=F=>{var H=ad();R(F,H)};U(j,F=>{r().intExcluded.length<r().varselparams.nInt-1&&r().varsExcluded.length<r().varselparams.nVars-2?F(q):F(B,!1)})}R(L,P)},$$slots:{default:!0}})};U(k,z=>{r().varselparams&&z(A)})}R(_,M)};U(C,_=>{r().outcomes&&!(r().outcomes.status==="done"&&r().intExcluded.length===0)?_(N):_(E,!1)})}R(t,h),he()}var ud=Q('<div class="model-calculator svelte-vtn33g"><!></div>'),fd=Q("<!> <!>",1),vd=Q("<h2>Upload target test set</h2>"),dd=Q("<!> <!>",1),hd=Q("<h2>Generate PV-set</h2>"),md=Q("<!> <!>",1),gd=Q('<div class="tarset-loader svelte-vtn33g"><!></div>'),pd=Q("<h2>Upload alternative test set</h2>"),bd=Q('<div class="data-loader-alt svelte-vtn33g"><!> <!></div>'),wd=Q('<div class="love-settings svelte-vtn33g"><!></div>'),_d=Q('<div class="res-table svelte-vtn33g"><!></div>'),yd=Q('<div class="downloads-widget svelte-vtn33g"><!></div>'),xd=Q(`<p class="svelte-vtn33g"><strong>Step 1. Load training set from a CSV file.</strong></p> <p class="svelte-vtn33g">The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.</p> <p class="svelte-vtn33g">First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).</p> <p class="svelte-vtn33g">First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:</p> <div class="svelte-vtn33g"><table class="svelte-vtn33g"><thead><tr class="svelte-vtn33g"><td class="svelte-vtn33g">Name</td><td class="svelte-vtn33g">Class</td><td class="svelte-vtn33g">x1</td><td class="svelte-vtn33g">x2</td><td class="svelte-vtn33g">x3</td></tr></thead><tbody><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O1</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">3.8</td><td class="svelte-vtn33g">1.3</td><td class="svelte-vtn33g">13.6</td></tr><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O2</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">11.1</td><td class="svelte-vtn33g">12.3</td><td class="svelte-vtn33g">3.3</td></tr><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O3</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">1.2</td><td class="svelte-vtn33g">2.3</td><td class="svelte-vtn33g">4.2</td></tr></tbody></table></div> <p class="svelte-vtn33g"></p>`,1),Ed=Q(`<p class="svelte-vtn33g"><strong>Step 2. Create a global PCA model</strong></p> <p class="svelte-vtn33g">Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.</p>`,1),kd=Q('<p class="svelte-vtn33g"><strong>Step 3. Compute PV-set</strong></p> <p class="svelte-vtn33g">Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).</p>',1),Cd=Q('<p class="svelte-vtn33g"><strong>Step 4. Load dataset with objects of alternative classes</strong></p> <p class="svelte-vtn33g">Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.</p> <p class="svelte-vtn33g">After this step you will be able to start variable selection procedure.</p>',1),Ad=Q('<div class="help-text svelte-vtn33g"><p class="svelte-vtn33g">In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).</p> <!> <!> <!> <!></div>'),Sd=Q('<div class="app-container svelte-vtn33g"><div class="app-controls svelte-vtn33g"><div class="data-loader-train svelte-vtn33g"><!></div> <!> <!> <!> <!> <!> <!></div> <div class="app-content svelte-vtn33g"><!></div></div>');function Md(t,e){de(e,!0);const r=T(()=>e.session.train);let s=ae(!1);function l(){if(o(r).intExcluded.length<2)return;o(r).intSelected=-1;const S=o(r).intExcluded[o(r).intExcluded.length-1];if(!(S>=0))return;o(r).statsProgress.pop();const P=o(r).varselparams.intLeftIndices[S],j=o(r).varselparams.intRightIndices[S],q=j===P?1:j-P+1;o(r).intExcluded.pop(),o(r).varsExcluded=o(r).varsExcluded.slice(0,o(r).varsExcluded.length-q);const B=o(r).statsProgress.length;o(r).nComp=o(r).statsProgress[B-1].ncomp,o(r).intSelected=-1,o(r).outcomes=null,X(s,!0),Ll(e.WASM,o(r))}function a(){const S=o(r).intSelected;Number.isNaN(S)||S<0||S>=o(r).varselparams.nInt||o(r).intExcluded.length>0&&o(r).intExcluded.includes(S)||(o(r).intExcluded.length===0&&(o(r).statsGlobal.ncompBest=o(r).nComp),o(r).statsCurrent={ncomp:o(r).outcomes.nComp,ncompBest:o(r).nComp,sens:o(r).outcomes.sens.val.getrow(S+1).v,spec:o(r).outcomes.spec.val.getrow(S+1).v,eff:o(r).outcomes.eff.val.getrow(S+1).v,sel:o(r).outcomes.sel.val.getrow(S+1).v},o(r).statsProgress||(o(r).statsProgress=[{ncomp:o(r).nComp,int:S+1,sens:o(r).statsGlobal.sens[o(r).nComp-1],spec:o(r).statsGlobal.spec[o(r).nComp-1],eff:o(r).statsGlobal.eff[o(r).nComp-1],sel:o(r).statsGlobal.sel[o(r).nComp-1]}]),o(r).statsProgress.push({ncomp:o(r).nComp,int:S+1,sens:o(r).statsCurrent.sens[o(r).nComp-1],spec:o(r).statsCurrent.spec[o(r).nComp-1],eff:o(r).statsCurrent.eff[o(r).nComp-1],sel:o(r).statsCurrent.sel[o(r).nComp-1]}),o(r).intExcluded.push(S),o(r).varsExcluded=o(r).varsExcluded.concat(Hn(o(r).varselparams.intLeftIndices[S],o(r).varselparams.intRightIndices[S])),o(r).intSelected=-1,o(r).outcomes=null,Ll(e.WASM,o(r)))}function c(){o(r).intExcluded=[],o(r).varsExcluded=[],o(r).statsCurrent=o(r).statsGlobal?{ncompBest:null,ncomp:o(r).statsGlobal.ncomp,sens:o(r).statsGlobal.sens,spec:o(r).statsGlobal.spec,eff:o(r).statsGlobal.eff,sel:o(r).statsGlobal.sel}:null,o(r).statsProgress=null,o(r).intSelected=-1,o(r).outcomes=null,o(r).statsGlobal&&(o(r).statsGlobal.ncompBest=null)}me(()=>{o(r).calset===null&&(o(r).calres=null,o(r).model=null)}),me(()=>{o(r).model===null&&(o(r).tarres=null,o(r).tarsetType=null,o(r).tarset=null)}),me(()=>{o(r).tarset===null&&(o(r).tarres=null,o(r).tarsetType=null,o(r).altres=null,o(r).altset=null)}),me(()=>{o(r).altset===null&&(o(r).intExcluded=[],o(r).varsExcluded=[],o(r).statsCurrent=null,o(r).statsGlobal=null,o(r).statsProgress=null,o(r).intSelected=-1,o(r).outcomes=null,o(r).altres=null)}),me(()=>{if(o(r).tarres&&o(r).altres&&!o(r).statsGlobal){const S=jl(o(r).model,o(r).tarres,o(r).altres,null,o(r).alpha);o(r).statsGlobal={ncomp:S.ncomp,ncompBest:null,sens:S.sens.val,spec:S.spec.val,eff:S.eff.val,sel:S.sel.val},o(r).statsCurrent={ncomp:o(r).statsGlobal.ncomp,ncompBest:null,sens:o(r).statsGlobal.sens,spec:o(r).statsGlobal.spec,eff:o(r).statsGlobal.eff,sel:o(r).statsGlobal.sel}}}),me(()=>{if(o(r).currentRes&&o(s)){X(s,!1);const S=o(r).currentRes.simca.ncomp,P=o(r).currentRes.tar.simca.stat.sensitivity,j=o(r).currentRes.alt.simca.stat.specificity,q=o(r).currentRes.alt.simca.stat.selectivity,B=P.map((F,H)=>Math.sqrt(F*j[H]));o(r).statsCurrent={ncomp:P.length,ncompBest:S,sens:new Float64Array(P),spec:new Float64Array(j),eff:new Float64Array(B),sel:new Float64Array(q)}}}),me(()=>{o(r).outcomes&&o(r).outcomes.status!=="done"&&o(r).intSelected>=0&&(o(r).intSelected=-1)}),me(()=>{if(o(r).outcomes&&o(r).outcomes.status==="done"){const S=Jt(()=>JSON.stringify(e.session,Xn));e.backupSession(S)}else if(!o(r).outcomes){const S=Jt(()=>JSON.stringify(e.session,Xn));e.backupSession(S,o(r).model,o(r).calset,o(r).tarres,o(r).altres,o(r).varsExcluded)}});var v=Sd(),u=D(v),f=D(u),h=D(f);Ks(h,{get WASM(){return e.WASM},title:"Training set",classMandatory:!0,classUnique:!0,get dataset(){return o(r).calset},set dataset(S){o(r).calset=S}});var d=I(f,2);{var m=S=>{var P=ud(),j=D(P);Nu(j,{get WASM(){return e.WASM},get dataset(){return o(r).calset},get model(){return o(r).model},set model(q){o(r).model=q},get resobj(){return o(r).calres},set resobj(q){o(r).calres=q}}),R(S,P)};U(d,S=>{o(r).calset&&S(m)})}var g=I(d,2);{var b=S=>{var P=gd(),j=D(P);{var q=F=>{ce(F,{name:"select-tarset-type",label:"Target set",children:(H,G)=>{var W=fd(),J=$(W);ut(J,{onclick:()=>o(r).tarsetType="file",text:"From file"});var te=I(J,2);ut(te,{onclick:()=>o(r).tarsetType="pv",text:"PV-set"}),R(H,W)},$$slots:{default:!0}})},B=(F,H)=>{{var G=J=>{var te=dd(),ee=$(te);{var Z=oe=>{ce(oe,{label:"",children:(ve,we)=>{var ye=vd();R(ve,ye)},$$slots:{default:!0}})};U(ee,oe=>{o(r).tarset||oe(Z)})}var re=I(ee,2);Ks(re,{get WASM(){return e.WASM},get model(){return o(r).model},title:"Target test set",get dataset(){return o(r).tarset},set dataset(oe){o(r).tarset=oe},get resobj(){return o(r).tarres},set resobj(oe){o(r).tarres=oe}}),R(J,te)},W=(J,te)=>{{var ee=Z=>{var re=md(),oe=$(re);{var ve=ye=>{ce(ye,{label:"",children:(Te,Ce)=>{var Ae=hd();R(Te,Ae)},$$slots:{default:!0}})};U(oe,ye=>{o(r).tarset||ye(ve)})}var we=I(oe,2);Du(we,{get WASM(){return e.WASM},get calset(){return o(r).calset},get calres(){return o(r).calres},get model(){return o(r).model},get pvres(){return o(r).tarres},set pvres(ye){o(r).tarres=ye},get pvset(){return o(r).tarset},set pvset(ye){o(r).tarset=ye}}),R(Z,re)};U(J,Z=>{o(r).tarsetType==="pv"&&Z(ee)},te)}};U(F,J=>{o(r).tarsetType==="file"?J(G):J(W,!1)},H)}};U(j,F=>{!o(r).tarsetType&&!o(r).tarset?F(q):F(B,!1)})}R(S,P)};U(g,S=>{o(r).model&&o(r).calset&&o(r).calres&&S(b)})}var w=I(g,2);{var p=S=>{var P=bd(),j=D(P);{var q=F=>{ce(F,{label:"",children:(H,G)=>{var W=pd();R(H,W)},$$slots:{default:!0}})};U(j,F=>{o(r).altset||F(q)})}var B=I(j,2);Ks(B,{get WASM(){return e.WASM},title:"Alternative test set",get model(){return o(r).model},classMandatory:!0,classUnique:!1,get dataset(){return o(r).altset},set dataset(F){o(r).altset=F},get resobj(){return o(r).altres},set resobj(F){o(r).altres=F}}),R(S,P)};U(w,S=>{o(r).tarset&&o(r).tarres&&S(p)})}var y=I(w,2);{var C=S=>{var P=wd(),j=D(P);cd(j,{get WASM(){return e.WASM},get s(){return o(r)},resetExcluded:c,undoExcluded:l}),R(S,P)};U(y,S=>{o(r).calset&&o(r).altset&&o(r).altres&&o(r).statsGlobal&&S(C)})}var N=I(y,2);{var E=S=>{var P=_d(),j=D(P);Ku(j,{get s(){return o(r)}}),R(S,P)};U(N,S=>{(o(r).statsGlobal||o(r).statsCurrent)&&S(E)})}var _=I(N,2);{var M=S=>{var P=yd(),j=D(P);Lu(j,{get s(){return o(r)}}),R(S,P)};U(_,S=>{o(r).intExcluded.length>0&&o(r).intSelected<0&&(!o(r).outcomes||o(r).outcomes.status!=="running")&&S(M)})}var k=I(u,2),A=D(k);{var z=S=>{var P=Ad(),j=I(D(P),2);{var q=te=>{var ee=xd();R(te,ee)};U(j,te=>{o(r).calset||te(q)})}var B=I(j,2);{var F=te=>{var ee=Ed();R(te,ee)};U(B,te=>{o(r).calset&&!o(r).model&&te(F)})}var H=I(B,2);{var G=te=>{var ee=kd();R(te,ee)};U(H,te=>{o(r).model&&!o(r).tarset&&te(G)})}var W=I(H,2);{var J=te=>{var ee=Cd();R(te,ee)};U(W,te=>{o(r).model&&o(r).tarset&&!o(r).altset&&te(J)})}R(S,P)},L=(S,P)=>{{var j=q=>{var B=ue(),F=$(B);Jo(F,()=>o(r).intExcluded,H=>{$v(H,{get s(){return o(r)},setExcluded:a})}),R(q,B)};U(S,q=>{o(r).calset&&o(r).varselparams&&q(j)},P)}};U(A,S=>{!o(r).altres||!o(r).statsGlobal?S(z):S(L,!1)})}R(t,v),he()}const Wd="modulepreload",Ud=function(t){return"/"+t},Yd={},Nd=function(e,r,s){let l=Promise.resolve();function a(c){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=c,window.dispatchEvent(v),!v.defaultPrevented)throw c}return l.then(c=>{for(const v of c||[])v.status==="rejected"&&a(v.reason);return e().catch(a)})};var zd=(()=>{var t=be&&be.tagName.toUpperCase()==="SCRIPT"&&be.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var r,s=e,l,a,c=new Promise((O,K)=>{l=O,a=K}),v=typeof window=="object",u=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(f){const{createRequire:O}=await Nd(()=>Promise.resolve().then(()=>Ld),void 0);var h=O(be&&be.tagName.toUpperCase()==="SCRIPT"&&be.src||new URL("ddsimca-love.js",document.baseURI).href)}var d={...s},m=(O,K)=>{throw K},g="";function b(O){return s.locateFile?s.locateFile(O,g):g+O}var w,p;if(f){var y=h("fs"),C=h("path");(be&&be.tagName.toUpperCase()==="SCRIPT"&&be.src||new URL("ddsimca-love.js",document.baseURI).href).startsWith("data:")||(g=C.dirname(h("url").fileURLToPath(be&&be.tagName.toUpperCase()==="SCRIPT"&&be.src||new URL("ddsimca-love.js",document.baseURI).href))+"/"),p=O=>{O=P(O)?new URL(O):O;var K=y.readFileSync(O);return K},w=async(O,K=!0)=>{O=P(O)?new URL(O):O;var se=y.readFileSync(O,K?void 0:"utf8");return se},!s.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),m=(O,K)=>{throw process.exitCode=O,K}}else(v||u)&&(u?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),t&&(g=t),g.startsWith("blob:")?g="":g=g.slice(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(p=O=>{var K=new XMLHttpRequest;return K.open("GET",O,!1),K.responseType="arraybuffer",K.send(null),new Uint8Array(K.response)}),w=async O=>{if(P(O))return new Promise((se,Re)=>{var ke=new XMLHttpRequest;ke.open("GET",O,!0),ke.responseType="arraybuffer",ke.onload=()=>{if(ke.status==200||ke.status==0&&ke.response){se(ke.response);return}Re(ke.status)},ke.onerror=Re,ke.send(null)});var K=await fetch(O,{credentials:"same-origin"});if(K.ok)return K.arrayBuffer();throw new Error(K.status+" : "+K.url)});var N=s.print||console.log.bind(console),E=s.printErr||console.error.bind(console);Object.assign(s,d),d=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram;var _=s.wasmBinary,M,k=!1,A,z,L,S,P=O=>O.startsWith("file://");function j(){var O=M.buffer;s.HEAP8=z=new Int8Array(O),s.HEAP16=new Int16Array(O),s.HEAPU8=L=new Uint8Array(O),s.HEAPU16=new Uint16Array(O),s.HEAP32=new Int32Array(O),s.HEAPU32=S=new Uint32Array(O),s.HEAPF32=new Float32Array(O),s.HEAPF64=new Float64Array(O),s.HEAP64=new BigInt64Array(O),s.HEAPU64=new BigUint64Array(O)}function q(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Le(s.preRun.shift());Ae(xe)}function B(){mt.k()}function F(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)dt(s.postRun.shift());Ae(_e)}var H=0,G=null;function W(O){var K;H++,(K=s.monitorRunDependencies)==null||K.call(s,H)}function J(O){var se;if(H--,(se=s.monitorRunDependencies)==null||se.call(s,H),H==0&&G){var K=G;G=null,K()}}function te(O){var se;(se=s.onAbort)==null||se.call(s,O),O="Aborted("+O+")",E(O),k=!0,O+=". Build with -sASSERTIONS for more info.";var K=new WebAssembly.RuntimeError(O);throw a(K),K}var ee;function Z(){return s.locateFile?b("pca_wasm.wasm"):new URL("/ddsimca-love/ddsimca-love.wasm",be&&be.tagName.toUpperCase()==="SCRIPT"&&be.src||new URL("ddsimca-love.js",document.baseURI).href).href}function re(O){if(O==ee&&_)return new Uint8Array(_);if(p)return p(O);throw"both async and sync fetching of the wasm failed"}async function oe(O){if(!_)try{var K=await w(O);return new Uint8Array(K)}catch{}return re(O)}async function ve(O,K){try{var se=await oe(O),Re=await WebAssembly.instantiate(se,K);return Re}catch(ke){E(`failed to asynchronously prepare wasm: ${ke}`),te(ke)}}async function we(O,K,se){if(!O&&typeof WebAssembly.instantiateStreaming=="function"&&!P(K)&&!f)try{var Re=fetch(K,{credentials:"same-origin"}),ke=await WebAssembly.instantiateStreaming(Re,se);return ke}catch(Oe){E(`wasm streaming compile failed: ${Oe}`),E("falling back to ArrayBuffer instantiation")}return ve(K,se)}function ye(){return{a:ot}}async function Te(){function O(Oe,We){return mt=Oe.exports,M=mt.j,j(),J(),mt}W();function K(Oe){return O(Oe.instance)}var se=ye();if(s.instantiateWasm)return new Promise((Oe,We)=>{s.instantiateWasm(se,(qe,Tt)=>{O(qe),Oe(qe.exports)})});ee??(ee=Z());try{var Re=await we(_,ee,se),ke=K(Re);return ke}catch(Oe){return a(Oe),Promise.reject(Oe)}}class Ce{constructor(K){zr(this,"name","ExitStatus");this.message=`Program terminated with exit(${K})`,this.status=K}}var Ae=O=>{for(;O.length>0;)O.shift()(s)},_e=[],dt=O=>_e.unshift(O),xe=[],Le=O=>xe.unshift(O),Je=s.noExitRuntime||!0,Et=O=>Id(O),zt=()=>qd(),Hr=()=>te(""),Pt=0,ss=()=>{Je=!1,Pt=0},Ar={},br=O=>{if(O instanceof Ce||O=="unwind")return A;m(1,O)},hn=()=>Je||Pt>0,mn=O=>{var K;A=O,hn()||((K=s.onExit)==null||K.call(s,O),k=!0),m(O,new Ce(O))},Kr=(O,K)=>{A=O,mn(O)},ro=Kr,no=()=>{if(!hn())try{ro(A)}catch(O){br(O)}},so=O=>{if(!k)try{O(),no()}catch(K){br(K)}},oo=()=>performance.now(),lo=(O,K)=>{if(Ar[O]&&(clearTimeout(Ar[O].id),delete Ar[O]),!K)return 0;var se=setTimeout(()=>{delete Ar[O],so(()=>jd(O,oo()))},K);return Ar[O]={id:se,timeout_ms:K},0},fe=()=>Date.now(),Se=()=>2147483648,Ee=(O,K)=>Math.ceil(O/K)*K,Ze=O=>{var K=M.buffer,se=(O-K.byteLength+65535)/65536|0;try{return M.grow(se),j(),1}catch{}},ht=O=>{var K=L.length;O>>>=0;var se=Se();if(O>se)return!1;for(var Re=1;Re<=4;Re*=2){var ke=K*(1+.2/Re);ke=Math.min(ke,O+100663296);var Oe=Math.min(se,Ee(Math.max(O,ke),65536)),We=Ze(Oe);if(We)return!0}return!1},Ht=O=>52;function kt(O,K,se,Re){return 70}var Ct=[null,[],[]],De=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(O,K=0,se=NaN)=>{for(var Re=K+se,ke=K;O[ke]&&!(ke>=Re);)++ke;if(ke-K>16&&O.buffer&&De)return De.decode(O.subarray(K,ke));for(var Oe="";K<ke;){var We=O[K++];if(!(We&128)){Oe+=String.fromCharCode(We);continue}var qe=O[K++]&63;if((We&224)==192){Oe+=String.fromCharCode((We&31)<<6|qe);continue}var Tt=O[K++]&63;if((We&240)==224?We=(We&15)<<12|qe<<6|Tt:We=(We&7)<<18|qe<<12|Tt<<6|O[K++]&63,We<65536)Oe+=String.fromCharCode(We);else{var Mr=We-65536;Oe+=String.fromCharCode(55296|Mr>>10,56320|Mr&1023)}}return Oe},ft=(O,K)=>{var se=Ct[O];K===0||K===10?((O===1?N:E)(Me(se)),se.length=0):se.push(K)},st=(O,K)=>O?Me(L,O,K):"",$e=(O,K,se,Re)=>{for(var ke=0,Oe=0;Oe<se;Oe++){var We=S[K>>2],qe=S[K+4>>2];K+=8;for(var Tt=0;Tt<qe;Tt++)ft(O,L[We+Tt]);ke+=qe}return S[Re>>2]=ke,0},Ue=O=>{var K=s["_"+O];return K},Ot=(O,K)=>{z.set(O,K)},Sr=O=>{for(var K=0,se=0;se<O.length;++se){var Re=O.charCodeAt(se);Re<=127?K++:Re<=2047?K+=2:Re>=55296&&Re<=57343?(K+=4,++se):K+=3}return K},Fe=(O,K,se,Re)=>{if(!(Re>0))return 0;for(var ke=se,Oe=se+Re-1,We=0;We<O.length;++We){var qe=O.charCodeAt(We);if(qe>=55296&&qe<=57343){var Tt=O.charCodeAt(++We);qe=65536+((qe&1023)<<10)|Tt&1023}if(qe<=127){if(se>=Oe)break;K[se++]=qe}else if(qe<=2047){if(se+1>=Oe)break;K[se++]=192|qe>>6,K[se++]=128|qe&63}else if(qe<=65535){if(se+2>=Oe)break;K[se++]=224|qe>>12,K[se++]=128|qe>>6&63,K[se++]=128|qe&63}else{if(se+3>=Oe)break;K[se++]=240|qe>>18,K[se++]=128|qe>>12&63,K[se++]=128|qe>>6&63,K[se++]=128|qe&63}}return K[se]=0,se-ke},ie=(O,K,se)=>Fe(O,L,K,se),it=O=>Fd(O),ao=O=>{var K=Sr(O)+1,se=it(K);return ie(O,se,K),se},ar=(O,K,se,Re,ke)=>{var Oe={string:Rt=>{var gn=0;return Rt!=null&&Rt!==0&&(gn=ao(Rt)),gn},array:Rt=>{var gn=it(Rt.length);return Ot(Rt,gn),gn}};function We(Rt){return K==="string"?st(Rt):K==="boolean"?!!Rt:Rt}var qe=Ue(O),Tt=[],Mr=0;if(Re)for(var Nr=0;Nr<Re.length;Nr++){var ia=Oe[se[Nr]];ia?(Mr===0&&(Mr=zt()),Tt[Nr]=ia(Re[Nr])):Tt[Nr]=Re[Nr]}var co=qe(...Tt);function Vd(Rt){return Mr!==0&&Et(Mr),We(Rt)}return co=Vd(co),co},ot={c:Hr,b:ss,d:lo,i:fe,e:ht,h:Ht,f:kt,g:$e,a:mn},mt=await Te();mt.k,s._pcafit_wasm=mt.l,s._malloc=mt.m,s._free=mt.n,s._pcapredict_wasm=mt.o,s._pcvpca_wasm=mt.p;var jd=mt.r,Id=mt.s,Fd=mt.t,qd=mt.u;s.ccall=ar;function io(){if(H>0){G=io;return}if(q(),H>0){G=io;return}function O(){var K;s.calledRun=!0,!k&&(B(),l(s),(K=s.onRuntimeInitialized)==null||K.call(s),F())}s.setStatus?(s.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>s.setStatus(""),1),O()},1)):O()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return io(),r=c,r}})(),Pd=Q('<p>Current release: <span>1.0.5</span> Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DDSIMCA-LOVE app">help@mda.tools</a> Tutorial: <a class="paper-link" href="" download="">paper</a> | <a href="">video lessons</a></p>'),Td=Q(`<h2>DD-SIMCA variable selection</h2> <p>Authors: <em></em></p> <p>Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...</p> <h3>v. 1.0.5</h3> <p class="release-info">released 25/04/2025</p> <ul><li>Improvements to computation WASM module.</li></ul> <h3>v. 1.0.0</h3> <p class="release-info">released 15/03/2025</p> <ul><li>Introducing sessons — app states, including model, results, datasets, and outliers
         (in all tabs). When you close tab or app window or click on reboot button, the current
         session is saved to browser's local storage and then is restored automatically. You can
         also download session as a file and load it from file.</li> <li>Many small improvements to plots and control elements.</li></ul>`,1);function Rd(t,e){de(e,!1);function r(c){c.train.altset=null,c.train.tarset=null,c.train.calset=null,c.train.intSelected=-1}function s(c){const v=Object.keys(c);if(!["date","train","tab"].every(f=>v.includes(f)))return!1;const u=Object.keys(c.train);return["calset","altset","tarset","tarres","altres","model"].every(f=>u.includes(f))?(c.train.outcomes&&c.train.outcomes.status==="running"&&(c.train.outcomes=null),c.train.tarsetType&&!c.train.tarset&&(c.train.tarsetType=null),c.train.model&&!c.train.calres&&(c.train.model=null),!0):!1}function l(){return{date:Ys(new Date),tab:0,train:{calset:0,model:0,calres:0,tarsetType:0,tarset:0,tarres:0,altset:0,altres:0,intSelected:-1,intExcluded:[],varsExcluded:[],varselparams:0,currentRes:0,statsGlobal:0,statsCurrent:0,statsProgress:0,alpha:5,nComp:0,outcomes:0,oldInt:0,oldNInt:0}}}const a=[{name:"Train",label:"train",component:Md}];Fi(),Rc(t,{appID:"ddsimca-love",appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",appSlogan:"Variable selection for DD-SIMCA",WASM:zd,tabs:a,initSession:l,checkSession:s,resetSession:r,footer:u=>{var f=Pd();R(u,f)},info:u=>{var f=Td();R(u,f)},$$slots:{footer:!0,info:!0}}),he()}gi(Rd,{target:document.body});const Ld=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
