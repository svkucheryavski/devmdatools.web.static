var Rd=Object.defineProperty;var la=Oe=>{throw TypeError(Oe)};var Ld=(Oe,pe,$e)=>pe in Oe?Rd(Oe,pe,{enumerable:!0,configurable:!0,writable:!0,value:$e}):Oe[pe]=$e;var Sn=(Oe,pe,$e)=>Ld(Oe,typeof pe!="symbol"?pe+"":pe,$e),ao=(Oe,pe,$e)=>pe.has(Oe)||la("Cannot "+$e);var an=(Oe,pe,$e)=>(ao(Oe,pe,"read from private field"),$e?$e.call(Oe):pe.get(Oe)),dr=(Oe,pe,$e)=>pe.has(Oe)?la("Cannot add the same private member more than once"):pe instanceof WeakSet?pe.add(Oe):pe.set(Oe,$e),io=(Oe,pe,$e,Mn)=>(ao(Oe,pe,"write to private field"),Mn?Mn.call(Oe,$e):pe.set(Oe,$e),$e),aa=(Oe,pe,$e)=>(ao(Oe,pe,"access private method"),$e);(function(){"use strict";var bn,Un,ur,Zr,ia,sa;var Oe=document.createElement("style");Oe.textContent=`.drop.svelte-1vipsv{position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000a0}.modal.svelte-1vipsv{border-radius:.5rem;background-color:#fff;display:grid;grid-template-areas:"header" "body";grid-template-rows:30px 1fr;width:auto;height:auto;border-radius:.25rem}.body.svelte-1vipsv{grid-area:body;box-sizing:border-box;padding:0 1em .5em;width:100%;height:100%}.header.svelte-1vipsv{grid-area:header}.close-button.svelte-1vipsv{cursor:pointer;border:none;box-shadow:none;background:transparent;font-size:inherit;font-weight:700;color:#f8ebc5;border-radius:50%;width:20px;height:20px;background-color:#9ea0a2;float:right;text-align:center;padding:0;line-height:20px;font-size:12px;margin:5px}.close-button.svelte-1vipsv:hover{background-color:#4e5052}.page.svelte-sqmqfb{width:100%;height:100%;margin:0 auto;padding:0;min-width:1020px;min-height:590px;max-width:1900px;display:flex;flex-direction:column}header.svelte-sqmqfb{display:flex;justify-content:flex-start;flex-direction:row;background:#f8f6f4}.header-group.svelte-sqmqfb{width:min-content;min-width:400px;margin:0 0 0 .25rem;display:grid;align-items:center;grid-template-columns:min-content 1fr;grid-template-rows:min-content min-content min-content min-content;grid-template-areas:"logo ." "logo title" "logo subtitle" "logo ."}.logo.svelte-sqmqfb{width:5rem;margin:.25rem;grid-area:logo}.header-group.svelte-sqmqfb>h1:where(.svelte-sqmqfb){margin:0;padding:0;text-align:left;font-size:1.6rem;color:#4e5052;white-space:nowrap;grid-area:title}.header-group.svelte-sqmqfb>p:where(.svelte-sqmqfb){margin:0;padding:0;text-align:left;font-size:1.1rem;color:#7e8082;grid-area:subtitle}main.svelte-sqmqfb{flex-basis:auto;flex-grow:1;flex-shrink:1;box-sizing:border-box;padding:.2rem 0}main.svelte-sqmqfb>div:where(.svelte-sqmqfb){height:100%}footer.svelte-sqmqfb{display:grid;grid-template-columns:20% 60% 20%;grid-template-areas:"session info .";align-items:center;justify-content:center;font-size:.9rem;flex-basis:min-content;flex-grow:0;flex-shrink:0;background:#4e5052;color:silver;padding:.5em}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb){grid-area:session;padding-left:.5em;display:flex;align-items:center}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) input:where(.svelte-sqmqfb){display:none}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .session-message:where(.svelte-sqmqfb){color:silver;padding-right:.5em}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .session-message:where(.svelte-sqmqfb){color:#fafafa}footer.svelte-sqmqfb .session.no-buttons:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session.no-buttons:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session.no-buttons:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb){display:none}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb){font-size:.9rem;background:#5e6062;color:silver;box-shadow:none;padding:0;margin:0 0 0 .2em;border-radius:3px;border:none;height:20px;box-sizing:border-box;display:inline-block}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb){stroke-width:1em;stroke-linecap:round;stroke-linejoin:round;stroke:silver}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .clear-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .upload-button:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .download-button:where(.svelte-sqmqfb){background:#35332d}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .clear-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .upload-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb),footer.svelte-sqmqfb .session:where(.svelte-sqmqfb):hover .download-button:where(.svelte-sqmqfb) svg:where(.svelte-sqmqfb){stroke:#fafafa}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb){margin-left:.5em}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .upload-button:where(.svelte-sqmqfb):hover,footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .download-button:where(.svelte-sqmqfb):hover{background-color:#6eb8ff}footer.svelte-sqmqfb .session:where(.svelte-sqmqfb) .clear-button:where(.svelte-sqmqfb):hover{background-color:#dc143c}footer.svelte-sqmqfb .info:where(.svelte-sqmqfb){grid-area:info;display:flex;justify-content:center;align-items:center}footer.svelte-sqmqfb .info:where(.svelte-sqmqfb) .button-info:where(.svelte-sqmqfb){cursor:default;border:none;box-shadow:none;background:transparent;font-weight:700;color:#4e5052;border-radius:.2em;padding:.25em .5em;text-align:center;line-height:1em;margin-left:.25em;margin-right:.5em;background-color:#f8ebc5}footer.svelte-sqmqfb p{margin:0 .5em;text-align:center;padding:.15em}footer.svelte-sqmqfb span,footer.svelte-sqmqfb a{color:#f8ebc5}.hidden.svelte-sqmqfb{display:none}.nav.svelte-sqmqfb,.nav.svelte-sqmqfb :where(.svelte-sqmqfb){-webkit-user-select:none;user-select:none;-moz-user-select:none}.nav.svelte-sqmqfb{display:flex;flex-direction:row;justify-content:flex-end;list-style:none;margin:0 100px 0 auto;padding:0;align-self:flex-end}.nav-item.svelte-sqmqfb{list-style:none;margin:0 2px;border-bottom:5px solid transparent}.nav-item.svelte-sqmqfb>button:where(.svelte-sqmqfb){cursor:pointer;padding:.5em 1em;border:none;box-shadow:none;background:transparent;font-size:inherit}.nav-item.svelte-sqmqfb>button:where(.svelte-sqmqfb)>span{color:#888}.nav-item.selected.svelte-sqmqfb{border-bottom:5px solid #80888f}.nav-item.selected.svelte-sqmqfb>button:where(.svelte-sqmqfb){font-weight:700;cursor:default}.nav-item.selected.svelte-sqmqfb:hover{border-bottom:5px solid #80888f}@media (min-width: 1600px){.page.svelte-sqmqfb>header:where(.svelte-sqmqfb){border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.page.svelte-sqmqfb>footer:where(.svelte-sqmqfb){border-top-right-radius:.25rem;border-top-left-radius:.25rem}}.info-container.svelte-sqmqfb{width:900px}.info-container.svelte-sqmqfb>p{font-size:1.15em;line-height:1.35em;padding:0 1em .5em;margin:0}.info-container.svelte-sqmqfb>.release-info{font-size:1em;color:gray;line-height:1.25em;padding:0 1.2em .5em;margin:0}.info-container.svelte-sqmqfb>h2{font-size:1.5em;line-height:1.25em;padding:0em 1rem .5em;margin:0}.info-container.svelte-sqmqfb>h3{font-size:1.15em;line-height:1.25em;padding:1rem 1em .25em;margin:0}.info-container.svelte-sqmqfb>ul{margin:0}.info-container.svelte-sqmqfb>ul>li{font-size:1.15em;line-height:1.25em;padding:0 .5em .5em 0;margin:0}.info-container.svelte-sqmqfb>ul>li>span{font-size:.9em;color:gray;line-height:1.25em;padding:0 .25em;margin:0}.info-container.svelte-sqmqfb a{color:#ae8032}.info-container.svelte-sqmqfb a:hover{color:#eb9707}.info-container.svelte-sqmqfb:last-child{padding-bottom:2rem}button.svelte-ymtj5z{display:inline-block;font-size:.9em;padding:0 .5em;line-height:1.5em;border-radius:.25em;box-shadow:none;margin:0;text-align:center;border:1px solid}.button.svelte-ymtj5z:focus-visible{outline:solid 2px;outline-offset:2px}button.svelte-bx9fh5{display:inline-block;font-size:1em;width:1.3em;height:1.3em;border:none;border-radius:50%;box-shadow:none;margin:0 .25em;text-align:center;padding:0;background-size:45% 45%;background-position:50%;background-repeat:no-repeat}button.svelte-bx9fh5:last-of-type{margin-right:0}.button.svelte-bx9fh5:focus-visible{outline:solid 2px;outline-offset:2px}.control-element.svelte-vzu0vi{font-size:.85em;background:var(--container-bg-color, #fff);color:var(--text-color-dark, #606570);padding:.5em .5em .5em 1em;border-radius:0;display:flex;justify-items:flex-start;justify-content:flex-start;align-items:center;margin-bottom:.5px}.control-element.svelte-vzu0vi:hover{background:var(--container-bg-color, #fafdff)}.control-element.svelte-vzu0vi:first-child{margin-top:.25rem;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.control-element.svelte-vzu0vi:last-child{margin-bottom:.25rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}.hidden.svelte-vzu0vi{display:none}.control-element.error.svelte-vzu0vi{background:var(--warning-color, crimson);color:var(--warning-text-color, #fefefe)}.label.svelte-vzu0vi{padding-right:.75em;flex-grow:0;flex-shrink:1;color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi>.wrapper{flex:1 1 auto;position:relative;box-sizing:border-box;display:inline-block;margin:0;padding:0;width:auto;align-items:flex-start;justify-content:center;justify-items:flex-start}.control-element.svelte-vzu0vi>h2{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:1.1em}.control-element.svelte-vzu0vi>p{text-align:left;flex-grow:1;padding:0 .25em 0 0;margin:0;font-size:max(12px,.9em)}.control-element.error p{color:var(--warning-text-color, #fefafa)}.control-element.error a{color:var(--warning-link-color, #ffeeaa)}.control-element.error a:hover{color:var(--warning-link-hover-color, #ffee80)}.control-element.svelte-vzu0vi>.title{font-size:1.05em;font-weight:700;color:var(--text-color-dark, #606570);flex-grow:1;padding:.3em 0;margin:0}.control-element.svelte-vzu0vi>.range-slider-container{outline-color:var(--outline-color, #ccc);background:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi>.range-slider-container:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .range-slider{color:var(--text-color-light, #fafafa);background-color:var(--main-color1, #6eb8ff);border-right-color:var(--main-color2, #528abe)}.control-element.svelte-vzu0vi .range-value{color:var(--text-color-light, #fafafa)}.control-element.svelte-vzu0vi .range-value_left,.control-element.svelte-vzu0vi .range-value_right{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .button{border-color:transparent;background-color:var(--bg-color-dark, #606570);color:var(--text-color-light, #fafafa);outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .button:hover{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #5086b9)}.control-element.svelte-vzu0vi .button-cancel{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" version="2.0" viewBox="0 0 100 100" style="stroke:%23fafafa;stroke-width:1em;" ><line x1="0" y1="0" x2="100" y2="100"/><line x1="0" y1="100" x2="100" y2="0"/></svg>')}.control-element.svelte-vzu0vi .button-cancel:hover{background-color:var(--warning-color, #dc143c)}.control-element.svelte-vzu0vi .button-undo{background-image:url('data:image/svg+xml;utf8,<svg width="99px" height="99px" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g stroke-linecap="round" stroke-linejoin="round" ><path d="M6 7L7 6L4.70711 3.70711L5.19868 3.21553C5.97697 2.43724 7.03256 2 8.13323 2C11.361 2 14 4.68015 14 7.93274C14 11.2589 11.3013 14 8 14C6.46292 14 4.92913 13.4144 3.75736 12.2426L2.34315 13.6569C3.90505 15.2188 5.95417 16 8 16C12.4307 16 16 12.3385 16 7.93274C16 3.60052 12.4903 0 8.13323 0C6.50213 0 4.93783 0.647954 3.78447 1.80132L3.29289 2.29289L1 0L0 1V7H6Z" fill="%23fafafa"></path> </g></svg>')}.control-element.svelte-vzu0vi .button-undo:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-vzu0vi .button-download{background-image:url('data:image/svg+xml;utf8,<svg viewBox="0 0 110 110" style="stroke:%23fafafa;stroke-width:1.1em;" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg"><line x1="50" y1="0" x2="50" y2="100"/><line x1="10" y1="60" x2="50" y2="100"/><line x1="90" y1="60" x2="50" y2="100"/></svg>')}.control-element.svelte-vzu0vi .button-download:hover{background-color:var(--main-color1,#6eb8ff)}.control-element.svelte-vzu0vi .selector:focus-visible{outline:2px solid;outline-offset:2px;outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .selector>.option{color:var(--text-color-dark, #606570);background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .plot-selector>.option>svg{stroke:var(--main-color1, #606570)}.control-element.svelte-vzu0vi .plot-selector>.option.selected>svg{stroke:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .selector>.option.selected{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .selector>.option:not(.selected):hover{border:1px solid var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .selector>.option:not(.selected):hover>svg{stroke:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .file-selector:before{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .file-selector.selected:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .file-selector:focus-visible{outline-color:var(--outline-color, #ccc)}.control-element.svelte-vzu0vi .file-selector:focus-visible:before{outline-color:var(--outline-color, #ccc);color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .file-selector:hover:before{color:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .textinput>input{background-color:var(--main-color1, #6eb8ff);color:var(--text-color-light, #fefefe)}.control-element.svelte-vzu0vi .textinput>input:placeholder-shown{color:var(--text-color-dark, #a0a0a0);background-color:var(--bg-color-light, #f0f0f0);border-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .textinput>input::placeholder{color:#a0a0a0}.control-element.svelte-vzu0vi .textinput>input:active::placeholder,.control-element.svelte-vzu0vi .textinput>input:focus::placeholder{color:transparent}.control-element.svelte-vzu0vi .textinput>input:focus,.control-element.svelte-vzu0vi .textinput>input:active{border-color:var(--main-color1, #6eb8ff);background-color:var(--main-color1-light, #6eb8ff20);color:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .textinput.error>input,.control-element.svelte-vzu0vi .textinput.error>input:focus,.control-element.svelte-vzu0vi .textinput.error>input:active{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce);border-color:var(--warning-color, crimson)}.control-element.svelte-vzu0vi .textinput.error>.error-message{color:var(--warning-color, crimson);background-color:var(--warning-color-light, #ffd5ce)}.control-element.svelte-vzu0vi .spinner:after{border-color:var(--main-color1, #6eb8ff) transparent var(--main-color1, #6eb8ff) transparent}.control-element.svelte-vzu0vi .number-container{background-color:var(--bg-color-light, #f0f0f0)}.control-element.svelte-vzu0vi .number-container>.value{color:var(--text-color-dark, #606570)}.control-element.svelte-vzu0vi .number-container>.button-small>svg>polygon{fill:var(--main-color2, #4777a4)}.control-element.svelte-vzu0vi .number-container>.button-small:hover>svg>polygon{fill:var(--main-color1, #6eb8ff)}.control-element.svelte-vzu0vi .number-container:focus-visible{outline-color:var(--outline-color, #ccc)}.range-slider-container.svelte-vhx0r0{position:relative;box-sizing:border-box;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-vhx0r0:focus-visible{outline:solid 2px #ccc;outline-offset:2px}.range-slider.svelte-vhx0r0{position:relative;display:flex;justify-content:right;align-items:center;box-sizing:border-box;border-radius:2px;border-right:solid 5px;text-align:right;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_right.svelte-vhx0r0{justify-content:left}.range-value.svelte-vhx0r0{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;position:relative;user-select:none;-webkit-user-select:none;-moz-user-select:none;right:.25em}.range-value_right.svelte-vhx0r0{left:calc(100% + 5px + .25em)}.range-slider-container.svelte-xdlm7u{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;cursor:default;display:flex;align-items:center;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider-container.svelte-xdlm7u:focus-visible{outline:solid 2px;outline-offset:2px}.range-slider.svelte-xdlm7u{position:relative;display:flex;justify-content:center;align-items:center;box-sizing:border-box;border-radius:2px;text-align:center;margin:0;padding:0;height:100%;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-slider_left.svelte-xdlm7u{justify-content:left}.range-slider_right.svelte-xdlm7u{justify-content:right}.range-value.svelte-xdlm7u{display:inline-block;margin:0;padding:0;cursor:default;font-size:.85em;user-select:none;-webkit-user-select:none;-moz-user-select:none}.range-value_left.svelte-xdlm7u{position:relative;left:calc(100% + .25em)}.range-value_right.svelte-xdlm7u{position:relative;right:calc(100% + .25em)}input.svelte-1i17tox{display:none}.selector.svelte-1i17tox{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.selector.svelte-1i17tox:focus-visible{outline:solid 2px;outline-offset:2px}.option.svelte-1i17tox{cursor:default;padding:.25em .5em;margin:0 .3em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em}.option.svelte-1i17tox:not(.selected):hover{border:1px solid}.file-selector.svelte-1k0x7uv>input:where(.svelte-1k0x7uv){display:none}.file-selector.svelte-1k0x7uv{display:flex;align-items:baseline;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;flex:1 1;min-width:0;border-radius:2px;cursor:default}.file-selector.svelte-1k0x7uv:focus-visible{outline:solid 2px;outline-offset:2px}.file-selector.svelte-1k0x7uv:before{display:inline-block;content:"⇪";font-size:1.1em;margin:0 .5em 0 0;padding:0}.file-selector.selected.svelte-1k0x7uv:before{content:"☷";font-size:1.3em;letter-spacing:-.2em;font-weight:700}.textinput.svelte-1qtiwcs{box-sizing:border-box;flex:1 1 auto;font-size:1em;line-height:1.5em;margin:0;padding:.15em 0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex;position:relative}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs){flex:1 1 auto;font-size:.9em;width:100%;cursor:default;padding:.25em .5em;border:1px solid;border-radius:.3em;outline:none}.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):focus,.textinput.svelte-1qtiwcs>input:where(.svelte-1qtiwcs):active{border:1px solid}.error-message.svelte-1qtiwcs{position:absolute;left:0;bottom:calc(100% + 2px);border-radius:.3em;line-height:1em;font-size:.75em;padding:.5em}.spinner.svelte-n48urb{display:inline-block;height:1.5em;line-height:1.5em;width:1.5em;margin:0 .5em}.spinner.svelte-n48urb:after{content:" ";display:block;width:.8em;height:.8em;margin:.1em;border-radius:50%;border:.2em solid;animation:svelte-n48urb-spinner 1.2s linear infinite}@keyframes svelte-n48urb-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input.svelte-yf64an{display:none}.selector.svelte-yf64an{position:relative;box-sizing:border-box;flex:1 1 auto;font-size:1em;margin:0;padding:0;width:auto;border-radius:2px;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:flex}.option.svelte-yf64an{cursor:default;padding:0;padding-inline:0;padding-block:0;margin:0 .2em 0 0;border:1px solid transparent;border-radius:.3em;font-size:.85em;height:auto;display:flex;justify-content:center}.option.svelte-yf64an:not(.selected):hover{border:1px solid}.number-container.svelte-giqvuu{box-sizing:border-box;flex:0 1 auto;height:1.5em;margin:0 5px 0 0;padding:0;width:auto;border-radius:2px;cursor:default;user-select:none;-webkit-user-select:none;-moz-user-select:none;display:grid;grid-template-areas:"value up" "value down";grid-template-columns:1fr 1em;grid-template-rows:1fr 1fr;justify-items:center;align-items:center}.number-container.svelte-giqvuu:focus-visible{outline:solid 2px;outline-offset:2px}.value.svelte-giqvuu{grid-area:value;box-sizing:border-box;height:100%;display:block;padding:.1em .1em .1em .3em;text-align:right}.button-small.svelte-giqvuu{padding:0;margin:0;border:none;background:none;outline:none;width:.6em;height:.6em;box-sizing:border-box;font-size:inherit;display:flex;align-items:center;justify-content:center}.button-small.svelte-giqvuu>svg:where(.svelte-giqvuu){font-size:inherit;width:.6em;height:.6em}.button-up.svelte-giqvuu{grid-area:up}.button-down.svelte-giqvuu{grid-area:down}.color-picker.svelte-1ajmk4v{width:3em;height:1.25em;margin-right:2px;background:#000;border:3px solid #f0f0f0;border-radius:2px}input[type=color i].svelte-1ajmk4v{width:0;height:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent}.dataset-info.svelte-gdjwex{line-height:1.5em}.dataset-info.svelte-gdjwex>span{vertical-align:middle;color:#a0a0a0}.dataset-info.svelte-gdjwex>.file-name:where(.svelte-gdjwex),.dataset-info.svelte-gdjwex>.file-size:where(.svelte-gdjwex){display:inline-block;padding:0;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:25ch;color:#222}.buttons.svelte-t7v4gx{position:relative;box-sizing:border-box;display:inline-block;flex:1 1 auto;margin:0;padding:2px 0;width:auto;border-radius:2px;cursor:default;white-space:nowrap}table.svelte-16n1t3l{width:100%;border-collapse:collapse;font-size:.85em;margin-top:1em}tr.svelte-16n1t3l{width:100%}th.svelte-16n1t3l{border-bottom:1px solid #a0a0a0}th.svelte-16n1t3l,td.svelte-16n1t3l{text-align:right;padding:.35em .5em .35em .1em;color:#404040;margin:0}td.svelte-16n1t3l{color:#a0a0a0}tr.global.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#404040}tr.current.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#2679b2}tr.selected.svelte-16n1t3l td:where(.svelte-16n1t3l){color:#d22c2f}.show-download-links-none.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){display:none}.show-download-links-hover.svelte-1jtdxd0:hover>.download-links:where(.svelte-1jtdxd0){bottom:0}.show-download-links-fixed.svelte-1jtdxd0>.download-links:where(.svelte-1jtdxd0){bottom:0}.download-links.svelte-1jtdxd0{position:absolute;font-size:.8em;bottom:-50%;right:0;z-index:10;padding:.5em 1em;background:#fefefe;border-radius:.5em;transition:bottom .35s ease;box-shadow:0 0 .75em #00000060;margin:.6em;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0){box-sizing:border-box;color:#606060;border:none;box-shadow:none;background:#fafafa;border-radius:.35em;padding:.25em .5em}.download-links.svelte-1jtdxd0>button:where(.svelte-1jtdxd0):hover{background:#433;color:#fafafa}.download-links.svelte-1jtdxd0>button.error{background:#e43}.download-links.svelte-1jtdxd0>button.copied{background:#48e}.plot-container.svelte-1jtdxd0{font-family:Arial,Helvetica,sans-serif;box-sizing:border-box;position:relative;min-width:100px;min-height:50px;width:100%;height:100%;padding:0;margin:0;overflow:hidden;background:#fff}.plot-error.svelte-1jtdxd0{display:flex;justify-content:center;align-items:center}.message-error.svelte-1jtdxd0{font-size:1.2em;color:#dc143c;padding:1em;box-sizing:border-box;text-align:center}.plot.svelte-1jtdxd0{display:block;box-sizing:border-box;position:absolute;padding:0;margin:0;left:0;top:0;bottom:0;right:0;width:100%;height:100%}.axes-content.svelte-1jtdxd0{padding:0;margin:0;height:100%;width:100%;max-height:100%;max-width:100%;min-height:100%;min-width:100%}.selected-buttons.svelte-8mh2yv>.control-element{background:#fff0c8}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type{color:#fff;border-color:#dc143c;background:#dc143c;margin-left:5px}.selected-buttons.svelte-8mh2yv>.control-element button:last-of-type:hover{background:#dc143c20;border-color:#dc143c80;color:#dc143c}.plot-panel.svelte-8mh2yv{width:100%;height:100%;box-sizing:border-box;padding:0;display:grid;grid-template-rows:1fr;grid-template-columns:1fr minmax(270px,30%)}.plot-area.svelte-8mh2yv{padding:1em;margin-top:.25rem;border-radius:.25em;background:#fefefe}.plot-controls-area.svelte-8mh2yv{padding:0 .25em 0 .5em}.plot-selector.svelte-8mh2yv{cursor:pointer;color:#606060;background:#fffef480;box-sizing:border-box;padding:.5em 1em;margin:.25em 0;border-radius:.25rem;box-shadow:none;border:none;width:100%;text-align:left;font-size:1rem}.plot-selector.svelte-8mh2yv:hover{background:#e0e0e0;color:#403020}div.plot-container.off-screen{position:absolute;top:0;left:50%;width:650px;height:600px;background:#fff;z-index:999}.plot.svelte-8mh2yv{width:100%;height:calc(100% - 15px)}.plot-select-msg.svelte-8mh2yv{height:15px;font-size:12px;color:#aaa;text-align:center}@media (min-width:1100px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr minmax(285px,30%)}}@media (min-width:1300px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr max(300px,30%)}}@media (min-width:1600px){.plot-panel.svelte-8mh2yv{grid-template-columns:1fr 400px}}.app-container.svelte-vtn33g{font-family:Helvetica,Arial,sans-serif;font-size:1rem;color:#404040;box-sizing:border-box;margin:0 auto;padding:.35em .25em;width:100%;height:100%;display:grid;grid-template-areas:"controls content";grid-template-rows:100%;grid-template-columns:min(310px,30%) 1fr}.app-controls.svelte-vtn33g{box-sizing:border-box;padding:.25em .5em}.app-content.svelte-vtn33g{box-sizing:border-box;padding:.25em;height:100%}.app-controls.svelte-vtn33g>div:where(.svelte-vtn33g){background:#e8e8e8;border-radius:.25rem}.help-text.svelte-vtn33g{margin-top:.25rem}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g),.help-text.svelte-vtn33g>div:where(.svelte-vtn33g){background:#fafafa;padding:0 1.5em .5em;color:#606060;line-height:1.5em;margin:0 1em 0 0}.help-text.svelte-vtn33g table:where(.svelte-vtn33g){border-collapse:collapse}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g){padding:.25em .5em;background:#e0f0fa;text-align:right;border:1px solid white}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) tr:where(.svelte-vtn33g):first-child td:where(.svelte-vtn33g){font-weight:700;background:#f8f4e0}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g):first-child{font-weight:700;background:#f8f4e0;padding-right:1em}.help-text.svelte-vtn33g table:where(.svelte-vtn33g) td:where(.svelte-vtn33g):nth-child(2){background:#e0e8f0;padding-right:1em}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g):first-child{border-top-left-radius:.25rem;border-top-right-radius:.25rem;padding-top:1.5em}.help-text.svelte-vtn33g>p:where(.svelte-vtn33g):last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;padding-bottom:1.5em}.app-controls.svelte-vtn33g>.downloads-widget:where(.svelte-vtn33g){background:#d0d0d0}.downloads-widget.svelte-vtn33g>div{background:#f0f0f0}.select-tarset-type button{margin-right:5px}@media (min-width:1300px){.app-container.svelte-vtn33g{grid-template-columns:min(340px,30%) 1fr}}@media (min-width:1100px){.app-container.svelte-vtn33g{grid-template-columns:min(320px,30%) 1fr}}
/*$vite$:1*/`,document.head.appendChild(Oe);var pe=typeof document<"u"?document.currentScript:null;const $e=!1;var Mn=Array.isArray,ca=Array.prototype.indexOf,rs=Array.from,ua=Object.defineProperty,cn=Object.getOwnPropertyDescriptor,co=Object.getOwnPropertyDescriptors,fa=Object.prototype,va=Array.prototype,ss=Object.getPrototypeOf,uo=Object.isExtensible;function Nn(t){return typeof t=="function"}const gt=()=>{};function da(t){return typeof(t==null?void 0:t.then)=="function"}function ma(t){return t()}function mr(t){for(var e=0;e<t.length;e++)t[e]()}const Ht=2,fo=4,hr=8,gr=16,tn=32,Pn=64,br=128,Tt=256,pr=512,qt=1024,nn=2048,Tn=4096,rn=8192,wr=16384,vo=32768,Rn=65536,ha=1<<17,ga=1<<19,mo=1<<20,os=1<<21,un=Symbol("$state"),ho=Symbol("legacy props"),ba=Symbol("");function go(t){return t===this.v}function bo(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function pa(t,e){return t!==e}function ls(t){return!bo(t,this.v)}function wa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function _a(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function xa(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ya(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ea(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function ka(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ca(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Aa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ln=!1,qa=!1;function Sa(){Ln=!0}const as=1,is=2,po=4,Ma=8,Na=16,Pa=1,Ta=2,Ra=4,La=8,ja=16,Ia=4,wo=1,za=2,ct=Symbol(),Fa="http://www.w3.org/1999/xhtml";function _o(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Le=null;function _r(t){Le=t}function Vt(t){return xo().get(t)}function Va(t,e){return xo().set(t,e),e}function de(t,e=!1,r){var s=Le={p:Le,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ln&&!e&&(Le.l={s:null,u:null,r1:[],r2:_n(!1)}),Po(()=>{s.d=!0})}function me(t){const e=Le;if(e!==null){const c=e.e;if(c!==null){var r=je,s=Ne;e.e=null;try{for(var l=0;l<c.length;l++){var a=c[l];Rt(a.effect),_t(a.reaction),Kn(a.fn)}}finally{Rt(r),_t(s)}}Le=e.p,e.m=!0}return{}}function wn(){return!Ln||Le!==null&&Le.l===null}function xo(t){return Le===null&&_o(),Le.c??(Le.c=new Map(Oa(Le)||void 0))}function Oa(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}function Ge(t,e){if(typeof t!="object"||t===null||un in t)return t;const r=ss(t);if(r!==fa&&r!==va)return t;var s=new Map,l=Mn(t),a=ae(0),c=Ne,v=u=>{var f=Ne;_t(c);var m;return m=u(),_t(f),m};return l&&s.set("length",ae(t.length)),new Proxy(t,{defineProperty(u,f,m){(!("value"in m)||m.configurable===!1||m.enumerable===!1||m.writable===!1)&&ka();var d=s.get(f);return d===void 0?(d=v(()=>ae(m.value)),s.set(f,d)):H(d,v(()=>Ge(m.value))),!0},deleteProperty(u,f){var m=s.get(f);if(m===void 0)f in u&&s.set(f,v(()=>ae(ct)));else{if(l&&typeof f=="string"){var d=s.get("length"),h=Number(f);Number.isInteger(h)&&h<d.v&&H(d,h)}H(m,ct),yo(a)}return!0},get(u,f,m){var p;if(f===un)return t;var d=s.get(f),h=f in u;if(d===void 0&&(!h||(p=cn(u,f))!=null&&p.writable)&&(d=v(()=>ae(Ge(h?u[f]:ct))),s.set(f,d)),d!==void 0){var g=o(d);return g===ct?void 0:g}return Reflect.get(u,f,m)},getOwnPropertyDescriptor(u,f){var m=Reflect.getOwnPropertyDescriptor(u,f);if(m&&"value"in m){var d=s.get(f);d&&(m.value=o(d))}else if(m===void 0){var h=s.get(f),g=h==null?void 0:h.v;if(h!==void 0&&g!==ct)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return m},has(u,f){var g;if(f===un)return!0;var m=s.get(f),d=m!==void 0&&m.v!==ct||Reflect.has(u,f);if(m!==void 0||je!==null&&(!d||(g=cn(u,f))!=null&&g.writable)){m===void 0&&(m=v(()=>ae(d?Ge(u[f]):ct)),s.set(f,m));var h=o(m);if(h===ct)return!1}return d},set(u,f,m,d){var M;var h=s.get(f),g=f in u;if(l&&f==="length")for(var p=m;p<h.v;p+=1){var w=s.get(p+"");w!==void 0?H(w,ct):p in u&&(w=v(()=>ae(ct)),s.set(p+"",w))}h===void 0?(!g||(M=cn(u,f))!=null&&M.writable)&&(h=v(()=>ae(void 0)),H(h,v(()=>Ge(m))),s.set(f,h)):(g=h.v!==ct,H(h,v(()=>Ge(m))));var b=Reflect.getOwnPropertyDescriptor(u,f);if(b!=null&&b.set&&b.set.call(d,m),!g){if(l&&typeof f=="string"){var y=s.get("length"),C=Number(f);Number.isInteger(C)&&C>=y.v&&H(y,C+1)}yo(a)}return!0},ownKeys(u){o(a);var f=Reflect.ownKeys(u).filter(h=>{var g=s.get(h);return g===void 0||g.v!==ct});for(var[m,d]of s)d.v!==ct&&!(m in u)&&f.push(m);return f},setPrototypeOf(){Ca()}})}function yo(t,e=1){H(t,t.v+e)}const Hn=new Map;function _n(t,e){var r={f:0,v:t,reactions:null,equals:go,rv:0,wv:0};return r}function ae(t,e){const r=_n(t);return Oo(r),r}function xr(t,e=!1){var s;const r=_n(t);return e||(r.equals=ls),Ln&&Le!==null&&Le.l!==null&&((s=Le.l).s??(s.s=[])).push(r),r}function H(t,e,r=!1){Ne!==null&&!Xt&&wn()&&(Ne.f&(Ht|gr))!==0&&!(bt!=null&&bt.includes(t))&&Aa();let s=r?Ge(e):e;return jn(t,s)}function jn(t,e){if(!t.equals(e)){var r=t.v;Jn?Hn.set(t,e):Hn.set(t,r),t.v=e,t.wv=Bo(),Eo(t,nn),wn()&&je!==null&&(je.f&qt)!==0&&(je.f&(tn|Pn))===0&&(Lt===null?Za([t]):Lt.push(t))}return e}function Eo(t,e){var r=t.reactions;if(r!==null)for(var s=wn(),l=r.length,a=0;a<l;a++){var c=r[a],v=c.f;(v&nn)===0&&(!s&&c===je||(Jt(c,e),(v&(qt|Tt))!==0&&((v&Ht)!==0?Eo(c,Tn):Mr(c))))}}let Da=!1;var cs,ko,Co,Ao;function Ba(){if(cs===void 0){cs=window,ko=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;Co=cn(e,"firstChild").get,Ao=cn(e,"nextSibling").get,uo(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),uo(r)&&(r.__t=void 0)}}function us(t=""){return document.createTextNode(t)}function St(t){return Co.call(t)}function yr(t){return Ao.call(t)}function B(t,e){return St(t)}function $(t,e){{var r=St(t);return r instanceof Comment&&r.data===""?yr(r):r}}function I(t,e=1,r=!1){let s=t;for(;e--;)s=yr(s);return s}function Wa(t){t.textContent=""}function In(t){var e=Ht|nn,r=Ne!==null&&(Ne.f&Ht)!==0?Ne:null;return je===null||r!==null&&(r.f&Tt)!==0?e|=Tt:je.f|=mo,{ctx:Le,deps:null,effects:null,equals:go,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??je}}function T(t){const e=In(t);return Oo(e),e}function qo(t){const e=In(t);return e.equals=ls,e}function So(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Kt(e[r])}}function Ua(t){for(var e=t.parent;e!==null;){if((e.f&Ht)===0)return e;e=e.parent}return null}function Ya(t){var e,r=je;Rt(Ua(t));try{So(t),e=Uo(t)}finally{Rt(r)}return e}function Mo(t){var e=Ya(t),r=(vn||(t.f&Tt)!==0)&&t.deps!==null?Tn:qt;Jt(t,r),t.equals(e)||(t.v=e,t.wv=Bo())}function No(t){je===null&&Ne===null&&xa(),Ne!==null&&(Ne.f&Tt)!==0&&je===null&&_a(),Jn&&wa()}function Ga(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function zn(t,e,r,s=!0){var l=je,a={ctx:Le,deps:null,nodes_start:null,nodes_end:null,f:t|nn,first:null,fn:e,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(r)try{ms(a),a.f|=vo}catch(u){throw Kt(a),u}else e!==null&&Mr(a);var c=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(mo|br))===0;if(!c&&s&&(l!==null&&Ga(a,l),Ne!==null&&(Ne.f&Ht)!==0)){var v=Ne;(v.effects??(v.effects=[])).push(a)}return a}function Po(t){const e=zn(hr,null,!1);return Jt(e,qt),e.teardown=t,e}function he(t){No();var e=je!==null&&(je.f&tn)!==0&&Le!==null&&!Le.m;if(e){var r=Le;(r.e??(r.e=[])).push({fn:t,effect:je,reaction:Ne})}else{var s=Kn(t);return s}}function Ha(t){return No(),fs(t)}function Ka(t){const e=zn(Pn,t,!0);return(r={})=>new Promise(s=>{r.outro?sn(e,()=>{Kt(e),s(void 0)}):(Kt(e),s(void 0))})}function Kn(t){return zn(fo,t,!1)}function fs(t){return zn(hr,t,!0)}function re(t,e=[],r=In){const s=e.map(r);return fn(()=>t(...s.map(o)))}function fn(t,e=0){return zn(hr|gr|e,t,!0)}function Ot(t,e=!0){return zn(hr|tn,t,!0,e)}function To(t){var e=t.teardown;if(e!==null){const r=Jn,s=Ne;Vo(!0),_t(null);try{e.call(null)}finally{Vo(r),_t(s)}}}function Ro(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var s=r.next;(r.f&Pn)!==0?r.parent=null:Kt(r,e),r=s}}function Xa(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&tn)===0&&Kt(e),e=r}}function Kt(t,e=!0){var r=!1;if((e||(t.f&ga)!==0)&&t.nodes_start!==null){for(var s=t.nodes_start,l=t.nodes_end;s!==null;){var a=s===l?null:yr(s);s.remove(),s=a}r=!0}Ro(t,e&&!r),Sr(t,0),Jt(t,wr);var c=t.transitions;if(c!==null)for(const u of c)u.stop();To(t);var v=t.parent;v!==null&&v.first!==null&&Lo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Lo(t){var e=t.parent,r=t.prev,s=t.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),e!==null&&(e.first===t&&(e.first=s),e.last===t&&(e.last=r))}function sn(t,e){var r=[];vs(t,r,!0),jo(r,()=>{Kt(t),e&&e()})}function jo(t,e){var r=t.length;if(r>0){var s=()=>--r||e();for(var l of t)l.out(s)}else e()}function vs(t,e,r){if((t.f&rn)===0){if(t.f^=rn,t.transitions!==null)for(const c of t.transitions)(c.is_global||r)&&e.push(c);for(var s=t.first;s!==null;){var l=s.next,a=(s.f&Rn)!==0||(s.f&tn)!==0;vs(s,e,a?r:!1),s=l}}}function Fn(t){Io(t,!0)}function Io(t,e){if((t.f&rn)!==0){t.f^=rn,(t.f&qt)===0&&(t.f^=qt),$n(t)&&(Jt(t,nn),Mr(t));for(var r=t.first;r!==null;){var s=r.next,l=(r.f&Rn)!==0||(r.f&tn)!==0;Io(r,l?e:!1),r=s}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}let Xn=[],ds=[];function zo(){var t=Xn;Xn=[],mr(t)}function Qa(){var t=ds;ds=[],mr(t)}function Qn(t){Xn.length===0&&queueMicrotask(zo),Xn.push(t)}function Fo(){Xn.length>0&&zo(),ds.length>0&&Qa()}let Er=!1,kr=!1,Cr=null,xn=!1,Jn=!1;function Vo(t){Jn=t}let Zn=[],jd=[],Ne=null,Xt=!1;function _t(t){Ne=t}let je=null;function Rt(t){je=t}let bt=null;function Ja(t){bt=t}function Oo(t){Ne!==null&&Ne.f&os&&(bt===null?Ja([t]):bt.push(t))}let pt=null,Mt=0,Lt=null;function Za(t){Lt=t}let Do=1,Ar=0,vn=!1;function Bo(){return++Do}function $n(t){var d;var e=t.f;if((e&nn)!==0)return!0;if((e&Tn)!==0){var r=t.deps,s=(e&Tt)!==0;if(r!==null){var l,a,c=(e&pr)!==0,v=s&&je!==null&&!vn,u=r.length;if(c||v){var f=t,m=f.parent;for(l=0;l<u;l++)a=r[l],(c||!((d=a==null?void 0:a.reactions)!=null&&d.includes(f)))&&(a.reactions??(a.reactions=[])).push(f);c&&(f.f^=pr),v&&m!==null&&(m.f&Tt)===0&&(f.f^=Tt)}for(l=0;l<u;l++)if(a=r[l],$n(a)&&Mo(a),a.wv>t.wv)return!0}(!s||je!==null&&!vn)&&Jt(t,qt)}return!1}function $a(t,e){for(var r=e;r!==null;){if((r.f&br)!==0)try{r.fn(t);return}catch{r.f^=br}r=r.parent}throw Er=!1,t}function ei(t){return(t.f&wr)===0&&(t.parent===null||(t.parent.f&br)===0)}function qr(t,e,r,s){if(Er){if(r===null&&(Er=!1),ei(e))throw t;return}r!==null&&(Er=!0);{$a(t,e);return}}function Wo(t,e,r=!0){var s=t.reactions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];bt!=null&&bt.includes(t)||((a.f&Ht)!==0?Wo(a,e,!1):e===a&&(r?Jt(a,nn):(a.f&qt)!==0&&Jt(a,Tn),Mr(a)))}}function Uo(t){var g;var e=pt,r=Mt,s=Lt,l=Ne,a=vn,c=bt,v=Le,u=Xt,f=t.f;pt=null,Mt=0,Lt=null,vn=(f&Tt)!==0&&(Xt||!xn||Ne===null),Ne=(f&(tn|Pn))===0?t:null,bt=null,_r(t.ctx),Xt=!1,Ar++,t.f|=os;try{var m=(0,t.fn)(),d=t.deps;if(pt!==null){var h;if(Sr(t,Mt),d!==null&&Mt>0)for(d.length=Mt+pt.length,h=0;h<pt.length;h++)d[Mt+h]=pt[h];else t.deps=d=pt;if(!vn)for(h=Mt;h<d.length;h++)((g=d[h]).reactions??(g.reactions=[])).push(t)}else d!==null&&Mt<d.length&&(Sr(t,Mt),d.length=Mt);if(wn()&&Lt!==null&&!Xt&&d!==null&&(t.f&(Ht|Tn|nn))===0)for(h=0;h<Lt.length;h++)Wo(Lt[h],t);return l!==null&&(Ar++,Lt!==null&&(s===null?s=Lt:s.push(...Lt))),m}finally{pt=e,Mt=r,Lt=s,Ne=l,vn=a,bt=c,_r(v),Xt=u,t.f^=os}}function ti(t,e){let r=e.reactions;if(r!==null){var s=ca.call(r,t);if(s!==-1){var l=r.length-1;l===0?r=e.reactions=null:(r[s]=r[l],r.pop())}}r===null&&(e.f&Ht)!==0&&(pt===null||!pt.includes(e))&&(Jt(e,Tn),(e.f&(Tt|pr))===0&&(e.f^=pr),So(e),Sr(e,0))}function Sr(t,e){var r=t.deps;if(r!==null)for(var s=e;s<r.length;s++)ti(t,r[s])}function ms(t){var e=t.f;if((e&wr)===0){Jt(t,qt);var r=je,s=Le,l=xn;je=t,xn=!0;try{(e&gr)!==0?Xa(t):Ro(t),To(t);var a=Uo(t);t.teardown=typeof a=="function"?a:null,t.wv=Do;var c=t.deps,v;$e&&qa&&t.f&nn}catch(u){qr(u,t,r,s||t.ctx)}finally{xn=l,je=r}}}function ni(){try{ya()}catch(t){if(Cr!==null)qr(t,Cr,null);else throw t}}function Yo(){var t=xn;try{var e=0;for(xn=!0;Zn.length>0;){e++>1e3&&ni();var r=Zn,s=r.length;Zn=[];for(var l=0;l<s;l++){var a=si(r[l]);ri(a)}}}finally{kr=!1,xn=t,Cr=null,Hn.clear()}}function ri(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var s=t[r];if((s.f&(wr|rn))===0)try{$n(s)&&(ms(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null?Lo(s):s.fn=null))}catch(l){qr(l,s,null,s.ctx)}}}function Mr(t){kr||(kr=!0,queueMicrotask(Yo));for(var e=Cr=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Pn|tn))!==0){if((r&qt)===0)return;e.f^=qt}}Zn.push(e)}function si(t){for(var e=[],r=t;r!==null;){var s=r.f,l=(s&(tn|Pn))!==0,a=l&&(s&qt)!==0;if(!a&&(s&rn)===0){if((s&fo)!==0)e.push(r);else if(l)r.f^=qt;else{var c=Ne;try{Ne=r,$n(r)&&ms(r)}catch(f){qr(f,r,null,r.ctx)}finally{Ne=c}}var v=r.first;if(v!==null){r=v;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function oi(t){var e;for(Fo();Zn.length>0;)kr=!0,Yo(),Fo();return e}function o(t){var e=t.f,r=(e&Ht)!==0;if(Ne!==null&&!Xt){if(!(bt!=null&&bt.includes(t))){var s=Ne.deps;t.rv<Ar&&(t.rv=Ar,pt===null&&s!==null&&s[Mt]===t?Mt++:pt===null?pt=[t]:(!vn||!pt.includes(t))&&pt.push(t))}}else if(r&&t.deps===null&&t.effects===null){var l=t,a=l.parent;a!==null&&(a.f&Tt)===0&&(l.f^=Tt)}return r&&(l=t,$n(l)&&Mo(l)),Jn&&Hn.has(t)?Hn.get(t):t.v}function Qt(t){var e=Xt;try{return Xt=!0,t()}finally{Xt=e}}const li=-7169;function Jt(t,e){t.f=t.f&li|e}function ai(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(un in t)hs(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&un in r&&hs(r)}}}function hs(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let s in t)try{hs(t[s],e)}catch{}const r=ss(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=co(r);for(let l in s){const a=s[l].get;if(a)try{a.call(t)}catch{}}}}}const ii=["touchstart","touchmove"];function ci(t){return ii.includes(t)}let Go=!1;function ui(){Go||(Go=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function gs(t){var e=Ne,r=je;_t(null),Rt(null);try{return t()}finally{_t(e),Rt(r)}}function fi(t,e,r,s=r){t.addEventListener(e,()=>gs(r));const l=t.__on_r;l?t.__on_r=()=>{l(),s(!0)}:t.__on_r=()=>s(!0),ui()}const Ho=new Set,bs=new Set;function vi(t,e,r,s={}){function l(a){if(s.capture||er.call(e,a),!a.cancelBubble)return gs(()=>r==null?void 0:r.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Qn(()=>{e.addEventListener(t,l,s)}):e.addEventListener(t,l,s),l}function Nr(t,e,r,s,l){var a={capture:s,passive:l},c=vi(t,e,r,a);(e===document.body||e===window||e===document)&&Po(()=>{e.removeEventListener(t,c,a)})}function et(t){for(var e=0;e<t.length;e++)Ho.add(t[e]);for(var r of bs)r(t)}function er(t){var C;var e=this,r=e.ownerDocument,s=t.type,l=((C=t.composedPath)==null?void 0:C.call(t))||[],a=l[0]||t.target,c=0,v=t.__root;if(v){var u=l.indexOf(v);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var f=l.indexOf(e);if(f===-1)return;u<=f&&(c=u)}if(a=l[c]||t.target,a!==e){ua(t,"currentTarget",{configurable:!0,get(){return a||r}});var m=Ne,d=je;_t(null),Rt(null);try{for(var h,g=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var w=a["__"+s];if(w!=null&&(!a.disabled||t.target===a))if(Mn(w)){var[b,...y]=w;b.apply(a,[t,...y])}else w.call(a,t)}catch(M){h?g.push(M):h=M}if(t.cancelBubble||p===e||p===null)break;a=p}if(h){for(let M of g)queueMicrotask(()=>{throw M});throw h}}finally{t.__root=e,delete t.currentTarget,_t(m),Rt(d)}}}function ps(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Vn(t,e){var r=je;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function X(t,e){var r=(e&wo)!==0,s=(e&za)!==0,l,a=!t.startsWith("<!>");return()=>{l===void 0&&(l=ps(a?t:"<!>"+t),r||(l=St(l)));var c=s||ko?document.importNode(l,!0):l.cloneNode(!0);if(r){var v=St(c),u=c.lastChild;Vn(v,u)}else Vn(c,c);return c}}function ge(t,e,r="svg"){var s=!t.startsWith("<!>"),l=(e&wo)!==0,a=`<${r}>${s?t:"<!>"+t}</${r}>`,c;return()=>{if(!c){var v=ps(a),u=St(v);if(l)for(c=document.createDocumentFragment();St(u);)c.appendChild(St(u));else c=St(u)}var f=c.cloneNode(!0);if(l){var m=St(f),d=f.lastChild;Vn(m,d)}else Vn(f,f);return f}}function ue(){var t=document.createDocumentFragment(),e=document.createComment(""),r=us();return t.append(e,r),Vn(e,r),t}function R(t,e){t!==null&&t.before(e)}let ws=!0;function le(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function di(t,e){return mi(t,e)}const On=new Map;function mi(t,{target:e,anchor:r,props:s={},events:l,context:a,intro:c=!0}){Ba();var v=new Set,u=d=>{for(var h=0;h<d.length;h++){var g=d[h];if(!v.has(g)){v.add(g);var p=ci(g);e.addEventListener(g,er,{passive:p});var w=On.get(g);w===void 0?(document.addEventListener(g,er,{passive:p}),On.set(g,1)):On.set(g,w+1)}}};u(rs(Ho)),bs.add(u);var f=void 0,m=Ka(()=>{var d=r??e.appendChild(us());return Ot(()=>{if(a){de({});var h=Le;h.c=a}l&&(s.$$events=l),ws=c,f=t(d,s)||{},ws=!0,a&&me()}),()=>{var p;for(var h of v){e.removeEventListener(h,er);var g=On.get(h);--g===0?(document.removeEventListener(h,er),On.delete(h)):On.set(h,g)}bs.delete(u),d!==r&&((p=d.parentNode)==null||p.removeChild(d))}});return hi.set(f,m),f}let hi=new WeakMap;const _s=0,Pr=1,xs=2;function ys(t,e,r,s,l){var a=t,c=wn(),v=Le,u=ct,f,m,d,h=(c?_n:xr)(void 0),g=(c?_n:xr)(void 0),p=!1;function w(y,C){p=!0,C&&(Rt(b),_t(b),_r(v));try{y===_s&&r&&(f?Fn(f):f=Ot(()=>r(a))),y===xs&&l&&(d?Fn(d):d=Ot(()=>l(a,g))),y!==_s&&f&&sn(f,()=>f=null),y!==Pr&&m&&sn(m,()=>m=null),y!==xs&&d&&sn(d,()=>d=null)}finally{C&&(_r(null),_t(null),Rt(null),oi())}}var b=fn(()=>{if(u!==(u=e())){if(da(u)){var y=u;p=!1,y.then(C=>{y===u&&(jn(h,C),w(Pr,!0))},C=>{if(y===u&&(jn(g,C),w(xs,!0),!l))throw g.v}),Qn(()=>{p||w(_s,!0)})}else jn(h,u),w(Pr,!1);return()=>u=ct}})}function U(t,e,[r,s]=[0,0]){var l=t,a=null,c=null,v=ct,u=r>0?Rn:0,f=!1;const m=(h,g=!0)=>{f=!0,d(g,h)},d=(h,g)=>{v!==(v=h)&&(v?(a?Fn(a):g&&(a=Ot(()=>g(l))),c&&sn(c,()=>{c=null})):(c?Fn(c):g&&(c=Ot(()=>g(l,[r+1,s]))),a&&sn(a,()=>{a=null})))};fn(()=>{f=!1,e(m),f||d(null,null)},u)}function Ko(t,e,r){var s=t,l=ct,a,c=wn()?pa:bo;fn(()=>{c(l,l=e())&&(a&&sn(a),a=Ot(()=>r(s)))})}function Xe(t,e){return e}function gi(t,e,r,s){for(var l=[],a=e.length,c=0;c<a;c++)vs(e[c].e,l,!0);var v=a>0&&l.length===0&&r!==null;if(v){var u=r.parentNode;Wa(u),u.append(r),s.clear(),dn(t,e[0].prev,e[a-1].next)}jo(l,()=>{for(var f=0;f<a;f++){var m=e[f];v||(s.delete(m.k),dn(t,m.prev,m.next)),Kt(m.e,!v)}})}function He(t,e,r,s,l,a=null){var c=t,v={flags:e,items:new Map,first:null},u=(e&po)!==0;if(u){var f=t;c=f.appendChild(us())}var m=null,d=!1,h=qo(()=>{var g=r();return Mn(g)?g:g==null?[]:rs(g)});fn(()=>{var g=o(h),p=g.length;d&&p===0||(d=p===0,bi(g,v,c,l,e,s,r),a!==null&&(p===0?m?Fn(m):m=Ot(()=>a(c)):m!==null&&sn(m,()=>{m=null})),o(h))})}function bi(t,e,r,s,l,a,c){var F,D,z,Q;var v=(l&Ma)!==0,u=(l&(as|is))!==0,f=t.length,m=e.items,d=e.first,h=d,g,p=null,w,b=[],y=[],C,M,E,_;if(v)for(_=0;_<f;_+=1)C=t[_],M=a(C,_),E=m.get(M),E!==void 0&&((F=E.a)==null||F.measure(),(w??(w=new Set)).add(E));for(_=0;_<f;_+=1){if(C=t[_],M=a(C,_),E=m.get(M),E===void 0){var S=h?h.e.nodes_start:r;p=wi(S,e,p,p===null?e.first:p.next,C,M,_,s,l,c),m.set(M,p),b=[],y=[],h=p.next;continue}if(u&&pi(E,C,_,l),(E.e.f&rn)!==0&&(Fn(E.e),v&&((D=E.a)==null||D.unfix(),(w??(w=new Set)).delete(E))),E!==h){if(g!==void 0&&g.has(E)){if(b.length<y.length){var k=y[0],A;p=k.prev;var N=b[0],L=b[b.length-1];for(A=0;A<b.length;A+=1)Xo(b[A],k,r);for(A=0;A<y.length;A+=1)g.delete(y[A]);dn(e,N.prev,L.next),dn(e,p,N),dn(e,L,k),h=k,p=L,_-=1,b=[],y=[]}else g.delete(E),Xo(E,h,r),dn(e,E.prev,E.next),dn(e,E,p===null?e.first:p.next),dn(e,p,E),p=E;continue}for(b=[],y=[];h!==null&&h.k!==M;)(h.e.f&rn)===0&&(g??(g=new Set)).add(h),y.push(h),h=h.next;if(h===null)continue;E=h}b.push(E),p=E,h=E.next}if(h!==null||g!==void 0){for(var q=g===void 0?[]:rs(g);h!==null;)(h.e.f&rn)===0&&q.push(h),h=h.next;var P=q.length;if(P>0){var j=(l&po)!==0&&f===0?r:null;if(v){for(_=0;_<P;_+=1)(z=q[_].a)==null||z.measure();for(_=0;_<P;_+=1)(Q=q[_].a)==null||Q.fix()}gi(e,q,j,m)}}v&&Qn(()=>{var G;if(w!==void 0)for(E of w)(G=E.a)==null||G.apply()}),je.first=e.first&&e.first.e,je.last=p&&p.e}function pi(t,e,r,s){(s&as)!==0&&jn(t.v,e),(s&is)!==0?jn(t.i,r):t.i=r}function wi(t,e,r,s,l,a,c,v,u,f){var m=(u&as)!==0,d=(u&Na)===0,h=m?d?xr(l):_n(l):l,g=(u&is)===0?c:_n(c),p={i:g,v:h,k:a,a:null,e:null,prev:r,next:s};try{return p.e=Ot(()=>v(t,h,g,f),Da),p.e.prev=r&&r.e,p.e.next=s&&s.e,r===null?e.first=p:(r.next=p,r.e.next=p.e),s!==null&&(s.prev=p,s.e.prev=p.e),p}finally{}}function Xo(t,e,r){for(var s=t.next?t.next.e.nodes_start:r,l=e?e.e.nodes_start:r,a=t.e.nodes_start;a!==s;){var c=yr(a);l.before(a),a=c}}function dn(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function xt(t,e,r,s,l){var a=t,c="",v;fn(()=>{c!==(c=e()??"")&&(v!==void 0&&(Kt(v),v=void 0),c!==""&&(v=Ot(()=>{var u=c+"";r&&(u=`<svg>${u}</svg>`);var f=ps(u);if((r||s)&&(f=St(f)),Vn(St(f),f.lastChild),r||s)for(;St(f);)a.before(St(f));else a.before(f)})))})}function yn(t,e,...r){var s=t,l=gt,a;fn(()=>{l!==(l=e())&&(a&&(Kt(a),a=null),a=Ot(()=>l(s,...r)))},Rn)}function Es(t,e,r){var s=t,l,a;fn(()=>{l!==(l=e())&&(a&&(sn(a),a=null),l&&(a=Ot(()=>r(s,l))))},Rn)}function Qo(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(r=Qo(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function _i(){for(var t,e,r=0,s="",l=arguments.length;r<l;r++)(t=arguments[r])&&(e=Qo(t))&&(s&&(s+=" "),s+=e);return s}function xi(t){return typeof t=="object"?_i(t):t??""}const Jo=[...`
\r\f \v\uFEFF`];function yi(t,e,r){var s=t==null?"":""+t;if(e&&(s=s?s+" "+e:e),r){for(var l in r)if(r[l])s=s?s+" "+l:l;else if(s.length)for(var a=l.length,c=0;(c=s.indexOf(l,c))>=0;){var v=c+a;(c===0||Jo.includes(s[c-1]))&&(v===s.length||Jo.includes(s[v]))?s=(c===0?"":s.substring(0,c))+s.substring(v+1):c=v}}return s===""?null:s}function Ei(t,e){return t==null?null:String(t)}function vt(t,e,r,s,l,a){var c=t.__className;if(c!==r||c===void 0){var v=yi(r,s,a);v==null?t.removeAttribute("class"):e?t.className=v:t.setAttribute("class",v),t.__className=r}else if(a&&l!==a)for(var u in a){var f=!!a[u];(l==null||f!==!!l[u])&&t.classList.toggle(u,f)}return a}function Dt(t,e,r,s){var l=t.__style;if(l!==e){var a=Ei(e);a==null?t.removeAttribute("style"):t.style.cssText=a,t.__style=e}return s}const ki=Symbol("is custom element"),Ci=Symbol("is html");function O(t,e,r,s){var l=Ai(t);l[e]!==(l[e]=r)&&(e==="loading"&&(t[ba]=r),r==null?t.removeAttribute(e):typeof r!="string"&&qi(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Ai(t){return t.__attributes??(t.__attributes={[ki]:t.nodeName.includes("-"),[Ci]:t.namespaceURI===Fa})}var Zo=new Map;function qi(t){var e=Zo.get(t.nodeName);if(e)return e;Zo.set(t.nodeName,e=[]);for(var r,s=t,l=Element.prototype;l!==s;){r=co(s);for(var a in r)r[a].set&&e.push(a);s=ss(s)}return e}const Si=()=>performance.now(),on={tick:t=>requestAnimationFrame(t),now:()=>Si(),tasks:new Set};function $o(){const t=on.now();on.tasks.forEach(e=>{e.c(t)||(on.tasks.delete(e),e.f())}),on.tasks.size!==0&&on.tick($o)}function Mi(t){let e;return on.tasks.size===0&&on.tick($o),{promise:new Promise(r=>{on.tasks.add(e={c:t,f:r})}),abort(){on.tasks.delete(e)}}}function Tr(t,e){gs(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ni(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function el(t){const e={},r=t.split(";");for(const s of r){const[l,a]=s.split(":");if(!l||a===void 0)break;const c=Ni(l.trim());e[c]=a.trim()}return e}const Pi=t=>t;function Ti(t,e,r,s){var l=(t&Ia)!==0,a="both",c,v=e.inert,u=e.style.overflow,f,m;function d(){var b=Ne,y=je;_t(null),Rt(null);try{return c??(c=r()(e,(s==null?void 0:s())??{},{direction:a}))}finally{_t(b),Rt(y)}}var h={is_global:l,in(){e.inert=v,Tr(e,"introstart"),f=ks(e,d(),m,1,()=>{Tr(e,"introend"),f==null||f.abort(),f=c=void 0,e.style.overflow=u})},out(b){e.inert=!0,Tr(e,"outrostart"),m=ks(e,d(),f,0,()=>{Tr(e,"outroend"),b==null||b()})},stop:()=>{f==null||f.abort(),m==null||m.abort()}},g=je;if((g.transitions??(g.transitions=[])).push(h),ws){var p=l;if(!p){for(var w=g.parent;w&&(w.f&Rn)!==0;)for(;(w=w.parent)&&(w.f&gr)===0;);p=!w||(w.f&vo)!==0}p&&Kn(()=>{Qt(()=>h.in())})}}function ks(t,e,r,s,l){var a=s===1;if(Nn(e)){var c,v=!1;return Qn(()=>{if(!v){var b=e({direction:a?"in":"out"});c=ks(t,b,r,s,l)}}),{abort:()=>{v=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return l(),{abort:gt,deactivate:gt,reset:gt,t:()=>s};const{delay:u=0,css:f,tick:m,easing:d=Pi}=e;var h=[];if(a&&r===void 0&&(m&&m(0,1),f)){var g=el(f(0,1));h.push(g,g)}var p=()=>1-s,w=t.animate(h,{duration:u});return w.onfinish=()=>{var b=(r==null?void 0:r.t())??1-s;r==null||r.abort();var y=s-b,C=e.duration*Math.abs(y),M=[];if(C>0){var E=!1;if(f)for(var _=Math.ceil(C/16.666666666666668),S=0;S<=_;S+=1){var k=b+y*d(S/_),A=el(f(k,1-k));M.push(A),E||(E=A.overflow==="hidden")}E&&(t.style.overflow="hidden"),p=()=>{var N=w.currentTime;return b+y*d(N/C)},m&&Mi(()=>{if(w.playState!=="running")return!1;var N=p();return m(N,1-N),!0})}w=t.animate(M,{duration:C,fill:"forwards"}),w.onfinish=()=>{p=()=>s,m==null||m(s,1-s),l()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=gt)},deactivate:()=>{l=gt},reset:()=>{s===0&&(m==null||m(1,0))},t:()=>p()}}function tl(t,e,r=e){var s=wn();fi(t,"input",l=>{var a=l?t.defaultValue:t.value;if(a=Cs(t)?As(a):a,r(a),s&&a!==(a=e())){var c=t.selectionStart,v=t.selectionEnd;t.value=a??"",v!==null&&(t.selectionStart=c,t.selectionEnd=Math.min(v,t.value.length))}}),Qt(e)==null&&t.value&&r(Cs(t)?As(t.value):t.value),fs(()=>{var l=e();Cs(t)&&l===As(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function Cs(t){var e=t.type;return e==="number"||e==="range"}function As(t){return t===""?null:+t}const $r=class $r{constructor(e){dr(this,Zr);dr(this,bn,new WeakMap);dr(this,Un);dr(this,ur);io(this,ur,e)}observe(e,r){var s=an(this,bn).get(e)||new Set;return s.add(r),an(this,bn).set(e,s),aa(this,Zr,ia).call(this).observe(e,an(this,ur)),()=>{var l=an(this,bn).get(e);l.delete(r),l.size===0&&(an(this,bn).delete(e),an(this,Un).unobserve(e))}}};bn=new WeakMap,Un=new WeakMap,ur=new WeakMap,Zr=new WeakSet,ia=function(){return an(this,Un)??io(this,Un,new ResizeObserver(e=>{for(var r of e){$r.entries.set(r.target,r);for(var s of an(this,bn).get(r.target)||[])s(r)}}))},Sn($r,"entries",new WeakMap);let qs=$r;var Ri=new qs({box:"border-box"});function nl(t,e,r){var s=Ri.observe(t,()=>r(t[e]));Kn(()=>(Qt(()=>r(t[e])),s))}function rl(t,e){return t===e||(t==null?void 0:t[un])===e}function Rr(t={},e,r,s){return Kn(()=>{var l,a;return fs(()=>{l=a,a=[],Qt(()=>{t!==r(...a)&&(e(t,...a),l&&rl(r(...l),t)&&e(null,...l))})}),()=>{Qn(()=>{a&&rl(r(...a),t)&&e(null,...a)})}}),t}function Li(t=!1){const e=Le,r=e.l.u;if(!r)return;let s=()=>ai(e.s);if(t){let l=0,a={};const c=In(()=>{let v=!1;const u=e.s;for(const f in u)u[f]!==a[f]&&(a[f]=u[f],v=!0);return v&&l++,l});s=()=>o(c)}r.b.length&&Ha(()=>{sl(e,s),mr(r.b)}),he(()=>{const l=Qt(()=>r.m.map(ma));return()=>{for(const a of l)typeof a=="function"&&a()}}),r.a.length&&he(()=>{sl(e,s),mr(r.a)})}function sl(t,e){if(t.l.s)for(const r of t.l.s)o(r);e()}let Lr=!1;function ji(t){var e=Lr;try{return Lr=!1,[t(),Lr]}finally{Lr=e}}const Ii={get(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(Nn(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(t,e,r){let s=t.props.length;for(;s--;){let l=t.props[s];Nn(l)&&(l=l());const a=cn(l,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(t,e){let r=t.props.length;for(;r--;){let s=t.props[r];if(Nn(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const l=cn(s,e);return l&&!l.configurable&&(l.configurable=!0),l}}},has(t,e){if(e===un||e===ho)return!1;for(let r of t.props)if(Nn(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(t){const e=[];for(let r of t.props){Nn(r)&&(r=r());for(const s in r)e.includes(s)||e.push(s)}return e}};function ze(...t){return new Proxy({props:t},Ii)}function ol(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Y(t,e,r,s){var S;var l=(r&Pa)!==0,a=!Ln||(r&Ta)!==0,c=(r&La)!==0,v=(r&ja)!==0,u=!1,f;c?[f,u]=ji(()=>t[e]):f=t[e];var m=un in t||ho in t,d=c&&(((S=cn(t,e))==null?void 0:S.set)??(m&&e in t&&(k=>t[e]=k)))||void 0,h=s,g=!0,p=!1,w=()=>(p=!0,g&&(g=!1,v?h=Qt(s):h=s),h);f===void 0&&s!==void 0&&(d&&a&&Ea(),f=w(),d&&d(f));var b;if(a)b=()=>{var k=t[e];return k===void 0?w():(g=!0,p=!1,k)};else{var y=(l?In:qo)(()=>t[e]);y.f|=ha,b=()=>{var k=o(y);return k!==void 0&&(h=void 0),k===void 0?h:k}}if((r&Ra)===0)return b;if(d){var C=t.$$legacy;return function(k,A){return arguments.length>0?((!a||!A||C||u)&&d(A?b():k),k):b()}}var M=!1,E=xr(f),_=In(()=>{var k=b(),A=o(E);return M?(M=!1,A):E.v=k});return c&&o(_),l||(_.equals=ls),function(k,A){if(arguments.length>0){const N=A?o(_):a&&c?Ge(k):k;if(!_.equals(N)){if(M=!0,H(E,N),p&&h!==void 0&&(h=N),ol(_))return k;Qt(()=>o(_))}return k}return ol(_)?_.v:o(_)}}function zi(t){Le===null&&_o(),Ln&&Le.l!==null?Fi(Le).m.push(t):he(()=>{const e=Qt(t);if(typeof e=="function")return e})}function Fi(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Vi="5";typeof window<"u"&&((sa=window.__svelte??(window.__svelte={})).v??(sa.v=new Set)).add(Vi),Sa();function ll(t){if(Pe(t))return ll(t.v);const e=new Ae.valuesConstructor(t.length-1);for(let r=0;r<t.length-1;r++)e[r]=t[r+1]-t[r];return new Ae(e)}function Ss(t,e){return Pe(t)?Ss(t.v,e):Math.sqrt(jr(t,e))}function jr(t,e){if(e===void 0&&(e=!1),Pe(t))return jr(t.v);const r=Dn(t);let s=0;for(let l=0;l<t.length;l++){const a=t[l]-r;s=s+a*a}return s/(e?t.length:t.length-1)}function Dn(t){return Pe(t)?Dn(t.v):al(t)/t.length}function al(t){if(Pe(t))return al(t.v);let e=0;for(let r=0;r<t.length;r++)e=e+t[r];return e}function il(t){if(Pe(t))return il(t.v);let e=1;for(let r=0;r<t.length;r++)e=e*t[r];return e}function Bn(t){return Pe(t)||Wt(t)?t.v[Ms(t.v)-1]:t[Ms(t)-1]}function Ms(t){if(Pe(t)||Wt(t))return Ms(t.v);let e=1,r=t[0];for(let s=2;s<=t.length;s++)t[s-1]<r&&(e=s,r=t[s-1]);return e}function En(t){return Pe(t)||Wt(t)?t.v[Ns(t.v)-1]:t[Ns(t)-1]}function Ns(t){if(Pe(t)||Wt(t))return Ns(t.v);let e=1,r=t[0];for(let s=2;s<=t.length;s++)t[s-1]>r&&(e=s,r=t[s-1]);return e}const Ps=30,Oi=1e-7,Di=1e-7,cl=1e-13,ul=1e3,Bi=100;function fl(t,e,r,s,l){s===void 0&&(s=ul),r===void 0&&(r=cl),l===void 0&&(l=Bi);let a=r,c=s,v=(c-a)/l;for(let u=0;u<l;u++){let f,m;for(let g=0;g<l;g++){f=a+g*v,m=a+(g+1)*v;const p=e(f),w=e(m);if(p<=t&&w>=t)break}const d=(f+m)/2,h=e(d);if(Math.abs(h-t)<Oi||(a=f,c=m,v=(c-a)/l,v/c<Di))return d}return(a+c)/2}function vl(t,e=0,r=1){let s=Ae.zeros(t);for(let l=0;l<t;l++)s.v[l]=e+Math.random()*(r-e);return s}function dl(t,e=0,r=1){let s=Ae.zeros(t);for(let l=0;l<t;l++){const a=Math.sqrt(-2*Math.log(Math.random())),c=2*Math.PI*Math.random();s.v[l]=a*Math.sin(c)*r+e}return s}function Ir(t,e=0,r=1){if(Pe(t))return t.apply(l=>Ir(l,e,r));const s=1/(Math.sqrt(2)*r);return .5*(1+Ui((t-e)*s))}function Ts(t,e=0,r=1){if(Pe(t))return t.apply(j=>Ts(j,e,r));if(e!==0||r!==1)return Ts(t)*r+e;if(t<0||t>1)throw Error('Parameter "p" must be between 0 and 1.');if(t<1e-10)return-1/0;if(t>.9999999999)return 1/0;const s=.425,l=5,a=.180625,c=1.6,v=3.3871327179,u=5.0434271938*10,f=1.5929113202*100,m=5.910937472*10,d=1.7895169469*10,h=7.8757757664*10,g=6.71875636*10,p=1.4234372777,w=2.75681539,b=1.3067284816,y=1.7023821103*.1,C=7.370016425*.1,M=1.2021132975*.1,E=6.657905115,_=3.081226386,S=4.2868294337*.1,k=1.7337203997*.01,A=2.4197894225*.1,N=1.2258202635*.01,L=t-.5;let q;if(Math.abs(L)<=s)return q=a-L*L,L*(((m*q+f)*q+u)*q+v)/(((g*q+h)*q+d)*q+1);q=L<0?t:1-t,q=Math.sqrt(-Math.log(q));let P;return q<=l?(q=q-c,P=(((y*q+b)*q+w)*q+p)/((M*q+C)*q+1)):(q=q-l,P=((k*q+S)*q+_+E)/((N*q+A)*q+1)),L<0?-P:P}function Rs(t,e,r){if(r<=0)throw new Error('pf: parameters "df1" and "df2" must be positive numbers.');if(Array.isArray(t))return Rs(Qe(t),e,r);if(Pe(t))return t.apply(s=>Rs(s,e,r));if(t<=0)return 0;if(r<=0&&ML_ERR_return_NAN,r==Number.POSITIVE_INFINITY){if(e==Number.POSITIVE_INFINITY){if(t<1)return 0;if(t==1)return .5;if(t>1)return 1}return zr(t*e,e)}return e==Number.POSITIVE_INFINITY?1-zr(r/t,r):e*t>r?1-Vr(r/(r+e*t),r/2,e/2):Vr(e*t/(r+e*t),e/2,r/2)}function ml(t,e,r){if(t===0)return 0;if(t===1)return Inf;if(r<=0)return NaN;let s=ul,l=cl;if(t>.9997&&r===1?(s=1e7,l=6e5,t=.9997):t>.9992&&r===1?(s=1e7,l=6e5):t>.997&&r===1?(s=1e6,l=45e3):t>.992&&r===1?(s=1e5,l=5e3):t>.97&&r===1&&(s=1e4,l=400),Array.isArray(t))return ml(Qe(t),e,r);const a=v=>Rs(v,e,r);function c(v,u,f){return v===0?0:v===1?Inf:u===0?NaN:f===0?NaN:fl(v,a,l,s)}return Pe(t)?t.apply(c,e,r):c(t,e,r)}function zr(t,e){if(Array.isArray(t))return zr(Qe(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),s=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(s);function a(u){if(u===0)return 0;if(e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30)return 1;const f=u/e,m=Math.pow(f,1/6)-.5*Math.pow(f,1/3)+1/3*Math.pow(f,1/2);return Ir(m,r,l)}function c(u){return u===0?0:e===0||e>100&&u>e*2||e>50&&u>e*3||e>10&&u>e*5||e>5&&u>e*8||u>e*30?1:Wi(u/2,e/2)/tr(e/2)}const v=e>Ps?a:c;return Pe(t)?t.apply(v):v(t)}function Fr(t,e){if(Array.isArray(t))return Fr(Qe(t),e);const r=5/6-1/(9*e)-7/(648*e*e)+25/(2187*e*e*e),s=1/(18*e)+1/(162*e*e)-37/(1164*e*e*e),l=Math.sqrt(s);function a(u){if(u===0)return 0;if(u===1)return Inf;if(e===0)return 0;const f=Ts(u,r,l),m=Math.pow(Math.sqrt(36*f*f-30*f+13)/4+(3*f-3/2)/2+1/8,1/3);return Math.pow(m-3/(4*m)+.5,6)*e}function c(u){return u===0?0:u===1?Inf:e===0?0:fl(u,m=>zr(m,e),0,Ps*10)}const v=e>Ps?a:c;return Pe(t)?t.apply(v):v(t)}function Vr(t,e,r){if(Array.isArray(t))return Vr(Qe(t),e,r);if(Pe(t))return t.apply(l=>Vr(l,e,r));if(t<=0)return 0;if(t>=1)return 1;if(e==0||r==0||!Number.isFinite(e)||!Number.isFinite(r))return e==0&&r==0?.5:e==0||e/r==0?1:r==0||r/e==0||t<.5?0:1;const s=.5-t+.5;return nc(e,r,t,s)}function tr(t){if(Pe(t))return t.apply(tr);if(t<=0)throw new Error("gamma: the function only works with arguments > 0.");const e=[676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(t<.5)return Math.PI/(Math.sin(Math.PI*t)+tr(1-t));t=t-1;let r=.9999999999998099;for(let l=0;l<e.length;l++)r=r+e[l]/(t+l+1);const s=t+e.length-.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*r}function Wi(t,e){let l=0;for(let a=0;a<1e4;a++){const c=Math.pow(t,a)/tr(e+a+1);if(isNaN(c)||c<1e-18)break;l+=c}return Math.pow(t,e)*tr(e)*Math.exp(-t)*l}function Ui(t){const e=t>=0?1:-1;t=Math.abs(t);const r=.254829592,s=-.284496736,l=1.421413741,a=-1.453152027,c=1.061405429,u=1/(1+.3275911*t),f=1-((((c*u+a)*u+l)*u+s)*u+r)*u*Math.exp(-t*t);return e*f}function hl(t,e){const r=.564189583547756,s=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],l=[.00301048631703895,.0538971687740286,.375795757275549],a=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],c=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],v=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],u=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let f,m,d,h,g=Math.abs(e);if(g<=.5)return m=e*e,h=(((s[0]*m+s[1])*m+s[2])*m+s[3])*m+s[4]+1,d=((l[0]*m+l[1])*m+l[2])*m+1,f=.5-e*(h/d)+.5,f=Math.exp(m)*f,f;if(g<=4)h=((((((a[0]*g+a[1])*g+a[2])*g+a[3])*g+a[4])*g+a[5])*g+a[6])*g+a[7],d=((((((c[0]*g+c[1])*g+c[2])*g+c[3])*g+c[4])*g+c[5])*g+c[6])*g+c[7],f=h/d;else{if(e<=-5.6)return f=2,f=Math.exp(e*e)*2,f;m=1/(e*e),h=(((v[0]*m+v[1])*m+v[2])*m+v[3])*m+v[4],d=(((u[0]*m+u[1])*m+u[2])*m+u[3])*m+1,f=(r-m*h/d)/g}return e<0&&(f=Math.exp(e*e)*2-f),f}function gl(t,e){let r=t+e-2;return r<=.25?jt(r+1):r<=1.25?jt(r)+hn(r):jt(r-1)+Math.log(r*(r+1))}function Or(t,e){const r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;let u,f,m,d,h,g,p,w,b,y,C,M,E,_,S;return m=Math.min(t,e),d=Math.max(t,e),g=m/d,h=g/(g+1),b=1/(g+1),M=b*b,y=b+M+1,C=b+M*y+1,E=b+M*C+1,_=b+M*E+1,S=b+M*_+1,f=1/d,p=f*f,w=((((v*S*p+c*_)*p+a*E)*p+l*C)*p+s*y)*p+r,w*=h/d,f=1/m,p=f*f,u=(((((v*p+c)*p+a)*p+l)*p+s)*p+r)/m+w,u}function Ue(t){let e,r,s,l,a;if(r=t,e=t-.5,e>0&&(r=e-.5),r<0){const c=[-.422784335098468,-.771330383816272,-.244757765222226,.118378989872749,.000930357293360349,-.0118290993445146,.00223047661158249,.000266505979058923,-.000132674909766242],v=.273076135303957,u=.0559398236957378;return a=(((((((c[8]*r+c[7])*r+c[6])*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],l=(u*r+v)*r+1,s=a/l,e>0?r*s/t:t*(s+.5+.5)}else{if(r==0)return 0;{const c=[.577215664901533,-.409078193005776,-.230975380857675,.0597275330452234,.0076696818164949,-.00514889771323592,.000589597428611429],v=[1,.427569613095214,.158451672430138,.0261132021441447,.00423244297896961];return a=(((((c[6]*r+c[5])*r+c[4])*r+c[3])*r+c[2])*r+c[1])*r+c[0],l=(((v[4]*r+v[3])*r+v[2])*r+v[1])*r+1,s=a/l,e>0?r/t*(s-.5-.5):t*s}}}function Yi(t,e,r){let s,l,a,c;if(t<-1.1||t>1.1)return Number.NaN;c=t*2,a=l=0,s=0;for(let v=1;v<=r;v++)a=l,l=s,s=c*l-a+e[r-v];return(s-a)*.5}function bl(t){const e=[1.037869356274377,-.13364301504908918,.019408249135520562,-.0030107551127535777,.0004869461479715485,-8105488189317536e-20,13778847799559525e-21,-2380221089435897e-21,41640416213865184e-23,-7359582837807599e-23,13117611876241675e-24,-23546709317742423e-25,42522773276035e-23,-771908941348408e-25,1407574648135907e-26,-25769072058024682e-28,4734240666629442e-28,-8724901267474264e-29,1612461490274055e-29,-29875652015665774e-31,5548070120908289e-31,-10324619158271569e-32,19250239203049852e-33,-3595507346526515e-33,6726454253787686e-34,-1260262416873522e-34,2364488440860621e-35,-44419377050807936e-37,8354659446403425e-37,-15731559416479563e-38,29653128740247425e-39,-5594958348181595e-39,1056635426883568e-39,-19972483680670205e-41,3778297781883936e-41,-7153158688908174e-42,13552488463674214e-43,-25694673048487566e-44,48747756066216946e-45,-9254211253084972e-45,1757859784176024e-45,-3341002667773101e-46,6353393618023618e-47],r=22,s=-.999999985;if(t==0)return 0;if(t==-1)return Number.NEGATIVE_INFINITY;if(t<-1)return Number.NaN;if(Math.abs(t)<=.375)return Math.abs(t)<.5*Number.EPSILON?t:0<t&&t<1e-8||-1e-9<t&&t<0?t*(1-.5*t):t*(1-t*Yi(t/.375,e,r));if(t<s)throw new Error("log1p: error evaluating the functio value.");return Math.log(1+t)}function mn(t,e){const r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;let u,f,m,d,h,g,p,w,b,y,C,M,E,_;return t>e?(m=e/t,u=1/(m+1),w=m/(m+1),f=t+(e-.5)):(m=t/e,u=m/(m+1),w=1/(m+1),f=e+(t-.5)),C=w*w,b=w+C+1,y=w+C*b+1,M=w+C*y+1,E=w+C*M+1,_=w+C*E+1,d=1/(e*e),p=((((v*_*d+c*E)*d+a*M)*d+l*y)*d+s*b)*d+r,p*=u/e,h=f*hn(t/e),g=t*(Math.log(e)-1),h>g?p-g-h:p-h-g}function jt(t){if(t<.6){const p=((((((-.00271935708322958*t+-.0673562214325671)*t+-.402055799310489)*t+-.780427615533591)*t+-.168860593646662)*t+.844203922187225)*t+.577215664901533)/((((((.000667465618796164*t+.0325038868253937)*t+.361951990101499)*t+1.56875193295039)*t+3.12755088914843)*t+2.88743195473681)*t+1);return-t*p}else{const e=.422784335098467,r=.848044614534529,s=.565221050691933,l=.156513060486551,a=.017050248402265,c=.000497958207639485,v=1.24313399877507,u=.548042109832463,f=.10155218743983,m=.00713309612391,d=.000116165475989616,h=t-.5-.5,g=(((((c*h+a)*h+l)*h+s)*h+r)*h+e)/(((((d*h+m)*h+f)*h+u)*h+v)*h+1);return h*g}}function Bt(t){const e=.418938533204673,r=.0833333333333333,s=-.00277777777760991,l=.00079365066682539,a=-.00059520293135187,c=.000837308034031215,v=-.00165322962780713;if(t<=.8)return jt(t)-Math.log(t);if(t<=2.25)return jt(t-.5-.5);if(t<10){let m=Math.round(t-1.25),d=t,h=1;for(let g=1;g<=m;++g)d+=-1,h*=d;return jt(d-1)+Math.log(h)}let u=1/(t*t),f=(((((v*u+c)*u+a)*u+l)*u+s)*u+r)/t;return e+f+(t-.5)*(Math.log(t)-1)}function Ls(t,e){const r=.918938533204673;let s=Math.min(t,e),l=Math.max(t,e);function a(c,v,u){let f=Math.round(u-1),m=1;for(let d=1;d<=f;++d)u+=-1,m*=u/(v+u);return c+Math.log(m)+(Bt(v)+(Bt(u)-gl(v,u)))}if(s<8){if(s<1)return l<8?Bt(s)+(Bt(l)-Bt(s+l)):Bt(s)+mn(s,l);let c;if(s<2)return l<=2?Bt(s)+Bt(l)-gl(s,l):l<8?(c=0,a(c,s,l)):Bt(s)+mn(s,l);if(l<=1e3){let v=Math.round(s-1);c=1;for(let u=1;u<=v;++u){s+=-1;let f=s/l;c*=f/(f+1)}return c=Math.log(c),l>=8?c+Bt(s)+mn(s,l):a(c,s,l)}else{let v=Math.round(s-1);c=1;for(let u=1;u<=v;++u)s+=-1,c*=s/(s/l+1);return log(c)-v*log(l)+(Bt(s)+mn(s,l))}}else{let c=Or(s,l),v=s/l,u=-(s-.5)*Math.log(v/(v+1)),f=l*hn(v);return u>f?Math.log(l)*-.5+r+c-f-u:Math.log(l)*-.5+r+c-u-f}}function pl(t){return(t==0?1024:-300)*.69314718055995*.99999}function Wn(t){const e=.0566749439387324,r=.0456512608815524,s=.333333333333333,l=-.224696413112536,a=.00620886815375787,c=-1.27408923933623,v=.354508718369557;let u,f,m,d,h;return t<-.39||t>.57?(d=t+.5+.5,t-Math.log(d)):(t<-.18?(u=t+.3,u/=.7,h=e-u*.3):t>.18?(u=t*.75-.25,h=r+u/3):(u=t,h=0),f=u/(u+2),m=f*f,d=((a*m+l)*m+s)/((v*m+c)*m+1),m*2*(1/(1-f)-f*d)+h)}function hn(t){if(Math.abs(t)>.375)return Math.log(1+t);const e=-1.29418923021993,r=.405303492862024,s=-.0178874546012214,l=-1.62752256355323,a=.747811014037616,c=-.0845104217945565;let v=t/(t+2),u=v*v,f=(((s*u+r)*u+e)*u+1)/(((c*u+a)*u+l)*u+1);return v*2*f}function Gi(t){const e=.564189583547756,r=[77105849500132e-18,-.00133733772997339,.0323076579225834,.0479137145607681,.128379167095513],s=[.00301048631703895,.0538971687740286,.375795757275549],l=[-136864857382717e-21,.564195517478974,7.21175825088309,43.1622272220567,152.98928504694,339.320816734344,451.918953711873,300.459261020162],a=[1,12.7827273196294,77.0001529352295,277.585444743988,638.980264465631,931.35409485061,790.950925327898,300.459260956983],c=[2.10144126479064,26.2370141675169,21.3688200555087,4.6580782871847,.282094791773523],v=[94.153775055546,187.11481179959,99.0191814623914,18.0124575948747];let u,f,m,d,h;if(m=Math.abs(t),m<=.5)return u=t*t,h=(((r[0]*u+r[1])*u+r[2])*u+r[3])*u+r[4]+1,d=((s[0]*u+s[1])*u+s[2])*u+1,t*(h/d);if(m<=4){h=((((((l[0]*m+l[1])*m+l[2])*m+l[3])*m+l[4])*m+l[5])*m+l[6])*m+l[7],d=((((((a[0]*m+a[1])*m+a[2])*m+a[3])*m+a[4])*m+a[5])*m+a[6])*m+a[7];let p=.5-Math.exp(-t*t)*h/d+.5;return t<0?-p:p}if(m>=5.8)return t>0?1:-1;f=t*t,u=1/f,h=(((c[0]*u+c[1])*u+c[2])*u+c[3])*u+c[4],d=(((v[0]*u+v[1])*u+v[2])*u+v[3])*u+1,u=(e-h/(f*d))/m;let g=.5-Math.exp(-f)*u+.5;return t<0?-g:g}function Hi(t){const e=914041914819518e-24,r=.0238082361044469,s=-.499999999085958,l=.107141568980644,a=-.0119041179760821,c=.000595130811860248;if(Math.abs(t)<=.15)return t*(((r*t+e)*t+1)/((((c*t+a)*t+l)*t+s)*t+1));{let v=Math.exp(t);return t>0?v*(.5-1/v+.5):v-.5-.5}}function nr(t,e){let r;if(e>0){if(t>0||(r=t+e,r<0))return Math.exp(t)*Math.exp(e)}else if(t<0||(r=t+e,r>0))return Math.exp(t)*Math.exp(e);return Math.exp(r)}function Ki(t){const e=.785398163397448,r=1.4616321449683622,s=[.0089538502298197,4.77762828042627,142.441585084029,1186.45200713425,3633.51846806499,4138.10161269013,1305.60269827897],l=[44.8452573429826,520.752771467162,2210.0079924783,3641.27349079381,1908.310765963,691091682714533e-20],a=[-2.12940445131011,-7.01677227766759,-4.48616543918019,-.648157123766197],c=[32.2703493791143,89.2920700481861,54.6117738103215,7.77788548522962];let v,u,f,m,d,h,g,p,w,b,y,C,M;if(y=Number.MAX_SAFE_INTEGER,m=.5/(.5*Number.EPSILON),y>m&&(y=m),M=1e-9,p=0,t<.5){if(fabs(t)<=M){if(t==0)return 0;p=-1/t}else{if(d=-t,w=e,d<=0&&(d=-d,w=-w),d>=y)return 0;if(f=Math.round(d),d-=f,f=Math.round(d*4),d=(d-f*.25)*4,u=f/2,u+u!=f&&(d=1-d),h=e*d,v=u/2,v+v!=u&&(w=-w),u=(f+1)/2,v=u/2,v+=v,v==u){if(h==0)return 0;p=w*(cos(h)/sin(h)*4)}else p=w*(sin(h)/cos(h)*4)}t=1-t}if(t<=3){g=t,C=s[0]*t;for(let E=1;E<=5;++E)g=(g+l[E-1])*t,C=(C+s[E])*t;return g=(C+s[6])/(g+l[5]),b=t-r,g*b+p}if(t<y){d=1/(t*t),g=d,C=a[0]*d;for(let E=1;E<=3;++E)g=(g+c[E-1])*d,C=(C+a[E])*d;p=C/(g+c[3])-.5/t+p}return p+log(t)}function Xi(t,e,r,s){let l,a,c,v,u,f;if(t>s*.001){if(v=t*Math.log(r),v<Math.exparg(1))return 0;l=Math.exp(v)}else l=1;for(l*=e/t,f=s/t,u=t+1,v=r,c=v/u,u+=1,v=r*v,a=v/u,c+=a;Math.abs(r)>f;)u+=1,v=r*v,a=v/u,c+=a;return l*=t*c+1,l}function Qi(t,e,r,s){const l=.577215664901533;let a,c,v,u,f,m,d=e*r;for(f=r-d,c=e*s<=.02?Math.log(r)+Ki(e)+l+f:Math.log(d)+l+f,a=s*5*Math.abs(c),v=1,u=0,v+=1,f*=r-d/v,m=f/v,u+=m;Math.abs(m)>a;)v+=1,f*=r-d/v,m=f/v,u+=m;return-t*(c+u)}function js(t,e,r,s){let l,a,c,v,u,f,m,d,h;if(r==0)return 0;if(m=Math.min(t,e),m>=1)f=t*Math.log(r)-Ls(t,e),a=Math.exp(f)/t;else if(d=Math.max(t,e),d<8)if(d<=1){if(a=Math.pow(r,t),a==0)return a;h=t+e,h>1?(u=t+e-1,f=(Ue(u)+1)/h):f=Ue(h)+1,c=(Ue(t)+1)*(Ue(e)+1)/f,a*=c*(e/h)}else{if(u=jt(m),l=Math.round(d-1),l>=1){c=1;for(let y=1;y<=l;++y)d+=-1,c*=d/(m+d);u+=Math.log(c)}f=t*Math.log(r)-u,d+=-1,h=m+d,h>1?(u=m+d-1,v=(Ue(u)+1)/h):v=Ue(h)+1,a=Math.exp(f)*(m/t)*(Ue(d)+1)/v}else u=jt(m)+mn(m,d),f=t*Math.log(r)-u,a=m/t*Math.exp(f);if(a==0||t<=s*.1)return a;let g=s/t,p=0,w=0,b;for(c=1,p+=1,c*=(.5-e/p+.5)*r,b=c/(t+p),w+=b;p<1e7&&Math.abs(b)>g;)p+=1,c*=(.5-e/p+.5)*r,b=c/(t+p),w+=b;return t*w>-1?a*=t*w+1:a=0,a}function Dr(t,e,r,s,l,a){let c,v,u,f,m,d=t+e,h=t+1;if(l>1&&t>=1&&d>=h*1.1?(u=Math.round(Math.abs(pl(1))),v=Math.round(pl(0)),u>v&&(u=v),f=Math.exp(-u)):(u=0,f=1),c=$i(u,t,e,r,s)/t,l==1||c==0)return c;let g=l-1,p=f;if(v=0,e>1){if(s>1e-4){let w=(e-1)*r/s-t;w>=1&&(v=w<g?Math.round(w):g)}else v=g;for(let w=0;w<v;++w)m=w,f*=(d+m)/(h+m)*r,p+=f}for(let w=v;w<g&&(m=w,f*=(d+m)/(h+m)*r,p+=f,!(f<=a*p));++w);return c*=p,c}function Ji(t,e,r,s,l,a){let c,v,u,f,m,d,h,g,p,w,b,y,C,M,E,_,S,k,A;if(!Number.isFinite(l)||(A=Zi(t,e,r,s),Number.isNaN(A)))return Number.NaN;if(A==0)return 0;for(c=l+1,p=e/t,w=1/t+1,M=s+1,u=0,f=1,d=t+1,y=0,C=1,E=1,_=c/w,m=w/c,u+=1,h=u/t,g=u*(e-u)*r,v=t/d,k=f*(f+p)*v*v*(g*r),v=(h+1)/(w+h+h),S=u+g/d+v*(c+u*M),f=h+1,d+=2,h=k*y+S*E,y=E,E=h,h=k*C+S*_,C=_,_=h,b=m,m=E/_,y/=_,C/=_,E=m,_=1;u<1e4&&(u+=1,h=u/t,g=u*(e-u)*r,v=t/d,k=f*(f+p)*v*v*(g*r),v=(h+1)/(w+h+h),S=u+g/d+v*(c+u*M),f=h+1,d+=2,h=k*y+S*E,y=E,E=h,h=k*C+S*_,C=_,_=h,b=m,m=E/_,!(Math.abs(m-b)<=a*m));)y/=_,C/=_,E=m,_=1;return A*m}function Zi(t,e,r,s){const l=.398942280401433;let a,c,v,u,f,m,d,h,g;if(r==0||s==0)return 0;if(d=Math.min(t,e),d<8){let p,w;if(r<=.375?(p=Math.log(r),w=hn(-r)):s>.375?(p=Math.log(r),w=Math.log(s)):(p=hn(-s),w=Math.log(s)),m=t*p+e*w,d>=1)return m-=Ls(t,e),Math.exp(m);if(h=Math.max(t,e),h>=8)return u=jt(d)+mn(d,h),d*Math.exp(m-u);if(h<=1){let y=Math.exp(m);return y==0?0:(g=t+e,g>1?(u=t+e-1,m=(Ue(u)+1)/g):m=Ue(g)+1,c=(Ue(t)+1)*(Ue(e)+1)/m,y*(d*c)/(d/h+1))}if(u=jt(d),a=Math.round(h-1),a>=1){c=1;for(let y=1;y<=a;++y)h+=-1,c*=h/(d+h);u=Math.log(c)+u}m-=u,h+=-1,g=d+h;let b;return g>1?(u=d+h-1,b=(Ue(u)+1)/g):b=Ue(g)+1,d*Math.exp(m)*(Ue(h)+1)/b}else{let p,w,b,y;return t<=e?(p=t/e,w=p/(p+1),b=1/(p+1),y=t-(t+e)*r):(p=e/t,w=1/(p+1),b=p/(p+1),y=(t+e)*s-e),v=-y/t,u=Math.abs(v)>.6?v-Math.log(r/w):Wn(v),v=y/e,f=Math.abs(v)<=.6?Wn(v):v-Math.log(s/b),m=Math.exp(-(t*u+e*f)),l*Math.sqrt(e*w)*m*Math.exp(-Or(t,e))}}function $i(t,e,r,s,l){const a=.398942280401433;let c,v,u,f,m,d,h,g;if(d=Math.min(e,r),d<8){let p,w;if(s<=.375?(p=Math.log(s),w=hn(-s)):l>.375?(p=Math.log(s),w=Math.log(l)):(p=hn(-l),w=Math.log(l)),m=e*p+r*w,d>=1)return m-=Ls(e,r),nr(t,m);if(h=Math.max(e,r),h>=8)return u=jt(d)+mn(d,h),d*nr(t,m-u);if(h<=1){let y=nr(t,m);return y==0?y:(g=e+r,g>1?(u=e+r-1,m=(Ue(u)+1)/g):m=Ue(g)+1,c=(Ue(e)+1)*(Ue(r)+1)/m,y*(d*c)/(d/h+1))}u=jt(d);let b=Math.round(h-1);if(b>=1){c=1;for(let y=1;y<=b;++y)h+=-1,c*=h/(d+h);u+=Math.log(c)}return m-=u,h+=-1,g=d+h,v=g>1?(Ue(g-1)+1)/g:Ue(g)+1,d*nr(t,m)*(Ue(h)+1)/v}else{let p,w,b,y;e>r?(p=r/e,w=1/(p+1),b=p/(p+1),y=(e+r)*l-r):(p=e/r,w=p/(p+1),b=1/(p+1),y=e-(e+r)*s),-bl(r/e);let C=-y/e;return u=Math.abs(C)>.6?C-Math.log(s/w):Wn(C),C=y/r,f=Math.abs(C)>.6?C-Math.log(l/b):Wn(C),m=nr(t,-(e*u+r*f)),a*Math.sqrt(r*w)*m*Math.exp(-Or(e,r))}}function Is(t,e,r,s,l,a){let v=Array(30),u=Array(30),f=e-.5-.5,m=t+f*.5,d=s>.375?Math.log(r):hn(-s),h=-m*d;if(e*h==0)throw new Error("bgrat: expansion can not be computed.");let g=Math.log(e)+bl(Ue(e))+e*Math.log(h)+m*d,p=g-(mn(e,t)+e*Math.log(m)),w=Math.exp(p);if(p==Number.NEGATIVE_INFINITY)throw new Error("bgrat: expansion can not be computed.");let b=w==0,y=l==0?0:Math.exp(Math.log(l)-p),C=ec(e,h,g,a),M=.25/(m*m),E=d*.25*d,_=C,S=_,k=1,A=1,N=0;for(let L=1;L<=30;++L){let q=e+N;_=(q*(q+1)*_+(h+q+1)*k)*M,N+=2,k*=E,A/=N*(N+1);let P=L-1;v[P]=A;let j=0;if(L>1){let D=e-L;for(let z=1;z<=P;++z)j+=D*v[z-1]*u[P-z],D+=e}u[P]=f*A+j/L;let F=u[P]*_;if(S+=F,S<=0)throw new Error("bgrat: expansion can not be computed.");if(Math.abs(F)<=a*(S+y))break}return l+=b?Math.exp(p+Math.log(S)):w*S,l}function ec(t,e,r,s){const l=1.772453850905516;if(t*e==0)return e<=t?Math.exp(-r):0;if(t==.5){if(e<.25)return(.5-Gi(Math.sqrt(e))+.5)*Math.exp(-r);{let a=Math.sqrt(e);return hl(1,a)/a*l}}else if(e<1.1){let a=3,c=e,v=e/(t+3),u=s*.1/(t+1),f;for(a+=1,c*=-(e/a),f=c/(t+a),v+=f;Math.abs(f)>u;)a+=1,c*=-(e/a),f=c/(t+a),v+=f;let m=t*e*((v/6-.5/(t+2))*e+1/(t+1)),d=t*Math.log(e),h=Ue(t),g=h+1;if(e>=.25&&t<e/2.59||d>-.13394){let p=Hi(d),w=((p+.5+.5)*m-p)*g-h;return w<=0?0:w*Math.exp(-r)}else return(.5-Math.exp(d)*g*(.5-m+.5)+.5)*Math.exp(-r)}else{let a=1,c=1,v=e,u=e+(1-t),f=1,m,d;a=e*c+f*a,v=e*u+f*v,m=a/v,f+=1;let h=f-t;for(c=a+h*c,u=v+h*u,d=c/u;Math.abs(d-m)>=s*d;)a=e*c+f*a,v=e*u+f*v,m=a/v,f+=1,h=f-t,c=a+h*c,u=v+h*u,d=c/u;return d}}function tc(t,e,r,s){const a=1.12837916709551,c=.353553390593274,v=Array(21),u=Array(21),f=Array(21),m=Array(21);let d=t*Wn(-r/t)+e*Wn(r/e),h;if(h=Math.exp(-d),h==0)return 0;let g=Math.sqrt(d),p=g/c*.5,w=d+d,b,y,C,M;t<e?(b=t/e,y=1/(b+1),C=(e-t)/e,M=1/Math.sqrt(t*(b+1))):(b=e/t,y=1/(b+1),C=(e-t)/t,M=1/Math.sqrt(e*(b+1))),v[0]=C*.6666666666666666,f[0]=v[0]*-.5,m[0]=-f[0];let E=.5/a*hl(1,g),_=c,S=E+m[0]*M*_,k=1,A=b*b,N=1,L=M,q=p,P=w;for(let F=2;F<=20;F+=2){N*=A,v[F-1]=y*2*(b*N+1)/(F+2);let D=F+1;k+=N,v[D-1]=C*2*k/(F+3);for(let G=F;G<=D;++G){let W=(G+1)*-.5;u[0]=W*v[0];for(let te=2;te<=G;++te){let ee=0;for(let Z=1;Z<=te-1;++Z){let ne=te-Z;ee+=(Z*W-ne)*v[Z-1]*u[ne-1]}u[te-1]=W*v[te-1]+ee/te}f[G-1]=u[G-1]/(G+1);let K=0;for(let te=1;te<=G-1;++te)K+=m[G-te-1]*f[te-1];m[G-1]=-(K+f[G-1])}E=c*q+(F-1)*E,_=c*P+F*_,q=w*q,P=w*P,L*=M;let z=m[F-1]*L*E;L*=M;let Q=m[D-1]*L*_;if(S+=z+Q,Math.abs(z)+Math.abs(Q)<=s*S)break}let j=Math.exp(-Or(t,e));return a*h*j*S}function nc(t,e,r,s){let a=0,c=0;function v(b,y,C,M){const E=js(b,y,C,1e-15);return M?.5-E+.5:E}function u(b,y,C,M){const E=js(y,b,C,1e-15);return M?E:.5-E+.5}function f(b,y,C,M,E,_){const S=Ji(b,y,C,M,E,15000000000000002e-30);return _?.5-S+.5:S}function m(b,y,C,M,E){let _=Math.round(y);y=y-_,y===0&&(_=_-1,y=1);let S=Dr(y,b,M,C,_,1e-15);return C<=.7?(S=S+js(b,y,C,1e-15),E?.5-S+.5:S):(b<=15&&(_=20,S=S+Dr(b,y,C,M,_,1e-15),b=b+_),S=Is(b,y,C,M,S,15*1e-15),E?.5-S+.5:S)}if(t<1e-15*.001&&e<1e-15*.001)return e/(t+e);let d,h,g,p,w;if(t<=1||e<=1){if(r>.5?(w=!0,d=e,g=s,h=t,p=r):(w=!1,d=t,g=r,h=e,p=s),h<Math.min(1e-15,1e-15*d))return a=Xi(d,h,g,1e-15),w?.5-a+.5:a;if(d<Math.min(1e-15,1e-15*h)&&h*g<=1)return c=Qi(d,h,g,1e-15),w?c:.5-c+.5;if(Math.max(d,h)>1){if(h<=1)return v(d,h,g,w);if(g>=.29)return u(d,h,p,w);if(g<.1&&Math.pow(g*h,d)<=.7)return v(d,h,g,w)}else{if(d>=Math.min(.2,h)||Math.pow(g,d)<=.9)return v(d,h,g,w);if(g>=.3)return u(d,h,p,w)}let b=!1;return Math.max(d,h)>1&&h>15?c=0:(b=!0,c=Dr(h,d,p,g,20,1e-15),h+=20),c=Is(h,d,p,g,c,15*1e-15),c==0||0<c&&c<Number.MIN_VALUE?(b?c=Dr(h-n,d,p,g,n,1e-15):c=Number.NEGATIVE_INFINITY,c=Is(h,d,p,g,c,15*1e-15),a=-expm1(c),w?.5-a+.5:a):(a=.5-c+.5,w?.5-a+.5:a)}else{let b=Number.isFinite(t+e)?t>e?(t+e)*s-e:t-(t+e)*r:t*s-e*r;const y=b<0;let C,M,E,_;if(y?(b=-b,C=e,E=s,M=t,_=r):(C=t,E=r,M=e,_=s),M<40)return M*E<=.7?v(C,M,E,y):m(C,M,E,_,y);if(C>M){if(M<=100||b>M*.03)return f(C,M,E,_,b,y)}else{if(C<=100)return f(C,M,E,_,b,y);if(b>C*.03)return f(C,M,E,_,b,y)}return a=tc(C,M,b,1e-15*100),y?.5-a+.5:a}}function wl(t){const e=t.nrows,r=t.ncols;if(e<r){const c=wl(t.subset([],yt.seq(1,e)));return{Q:c.Q,R:sc(c.Q,t)}}let s=lt.eye(e),l=t.t();for(let c=1;c<=r;c++)for(let v=e;v>=c+1;v--){const u=l.v.subarray((v-2)*r,v*r),f=s.v.subarray((v-2)*e,v*e),m=u.slice(),d=f.slice(),[h,g,p]=rc(m[c-1],m[c-1+r]);for(let w=0;w<r;w++)u[w]=m[w]*h+m[w+r]*g,u[w+r]=m[w]*-g+m[w+r]*h,f[w]=d[w]*h+d[w+e]*g,f[w+e]=d[w]*-g+d[w+e]*h;for(let w=r;w<e;w++)f[w]=d[w]*h+d[w+e]*g,f[w+e]=d[w]*-g+d[w+e]*h}const a=yt.seq(1,r);return{Q:e===r?s:s.subset([],a),R:e===r?l.t():l.subset([],a).t()}}function rc(t,e){if(t==0)return[0,1,e];if(Math.abs(t)>Math.abs(e)){const a=e/t,c=Math.sqrt(1+a*a),v=1/c;return[v,a*v,t*c]}const r=t/e,s=Math.sqrt(1+r*r),l=1/s;return[r*l,l,e*s]}function _l(t){return typeof t=="number"}function sc(t,e){if(e===void 0&&(e=t),!gn(t)||!gn(e))throw Error("crossprod: both X and Y must be instance of Matrix class.");const r=t.nrows,s=t.ncols,l=e.nrows,a=e.ncols,c=s,v=a,u=r,f=new Float64Array(c*v);for(let m=0;m<v;m++){const d=e.v.subarray(m*l,(m+1)*l),h=f.subarray(m*c,(m+1)*c);for(let g=0;g<c;g++){const p=t.v.subarray(g*r,(g+1)*r);let w=0;for(let b=0;b<u;b++)w+=p[b]*d[b];h[g]=w}}return new lt(f,c,v)}function xl(t,e,r){if(r===void 0){if(e!==t.v.length)throw Error("reshape: provided dimension does not match number of values in the object.");return new Ae(t.v)}if(t.v.length!==e*r)throw Error("reshape: provided dimension does not match number of values in the object.");return new lt(t.v,e,r)}function gn(t){return t&&t.constructor===lt}function oc(t,e,r){return new lt(new Float64Array(t),e,r)}const be=class be{constructor(e,r,s){if(!ArrayBuffer.isView(e)||e.constructor!==be.valuesConstructor)throw Error('Matrix: parameter "values" must be Float64Array.');if(r===0||s===0)throw Error("Matrix: can not create matrix with zero rows or columns.");if(e.length!==r*s)throw Error('Matrix: number elements in "values" is not equal to "nrows" x "ncols".');this.v=e,this.nrows=r,this.ncols=s}inv(){if(this.nrows!==this.ncols)throw Error("inv: only squared matrices can be inverted.");const e=this.ncols;if(this.isuppertriangular()){if(this.islowertriangular())return be.diagm(this.diag().apply(u=>Math.abs(u)>Number.EPSILON?1/u:x));const s=be.eye(e),l=be.eye(e),a=this.t(),c=a.v[(e-1)*e+(e-1)],v=e-1;for(let u=0;u<e;u++)l.v[v*e+u]=s.v[v*e+u]/c;for(let u=e-2;u>=0;u--){let f=s.getcolumn(u+1);const m=a.getcolref(u+1);for(let d=u+1;d<e;d++){const h=l.getcolumn(d+1);f=f.subtract(h.mult(m[d]))}l.v.set(f.divide(m[u]).v,u*e)}return l.t()}if(this.islowertriangular()){const s=this.diag();if(il(s)<Number.EPSILON)throw Error("inv: the matrix is not invertible.");const l=be.eye(e),a=be.eye(e),c=this.t(),v=0,u=c.v[0];for(let f=0;f<e;f++)a.v[v*e+f]=l.v[v*e+f]/u;for(let f=1;f<e;f++){let m=l.getcolumn(f+1);const d=c.getcolref(f+1);for(let h=0;h<f;h++){const g=a.getcolumn(h+1);m=m.subtract(g.mult(d[h]))}a.v.set(m.divide(d[f]).v,f*e)}return a.t()}const r=wl(this);if(!r.R.isuppertriangular())throw Error("inv: QR decomposition of the matrix returned incorrect result.");return r.R.inv().dot(r.Q.t())}islowertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=1;e<this.ncols;e++)for(let r=0;r<e;r++)if(Math.abs(this.v[e*this.nrows+r])>be.TOLERANCE)return!1;return!0}isuppertriangular(){if(this.nrows!==this.ncols)return!1;for(let e=0;e<this.ncols;e++)for(let r=e+1;r<this.nrows;r++)if(Math.abs(this.v[e*this.nrows+r])>be.TOLERANCE)return!1;return!0}diag(){const e=Math.min(this.nrows,this.ncols),r=new Float64Array(e);for(let s=0;s<e;s++)r[s]=this.getcolref(s+1)[s];return new Ae(r)}t(){const e=this.nrows,r=this.ncols,s=new be.valuesConstructor(this.v.length);if(this.ncols<this.nrows){for(let l=0;l<this.ncols;l++){const a=this.v.subarray(l*this.nrows,(l+1)*this.nrows);for(let c=0;c<this.nrows;c++)s[c*r+l]=a[c]}return new be(s,r,e)}for(let l=0;l<this.nrows;l++){const a=s.subarray(l*r,(l+1)*r);for(let c=0;c<this.ncols;c++)a[c]=this.v[c*this.nrows+l]}return new be(s,r,e)}dot(e){if(Pe(e))return new be(Vs(this.v,e.v,this.nrows,this.ncols,e.length,1),this.nrows,1);if(gn(e))return new be(Vs(this.v,e.v,this.nrows,this.ncols,e.nrows,e.ncols),this.nrows,e.ncols);throw Error("dot: argument 'X' must be a matrix or a vector.")}op(e,r,s){if(gn(e))return new be(zs(this.v,e.v,r),this.nrows,this.ncols);if(_l(e))return new be(Fs(this.v,e,r),this.nrows,this.ncols);if(!Pe(e))throw new Error('op: argument "x" must be a matrix, a vector or a number.');if(s===void 0&&(s=e.length===this.ncols?2:1),s===2&&e.length===this.ncols){const l=new be.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)l.set(Fs(this.getcolref(a+1),e.v[a],r),a*this.nrows);return new be(l,this.nrows,this.ncols)}if(s===1&&e.length===this.nrows){const l=new be.valuesConstructor(this.v.length);for(let a=0;a<this.ncols;a++)l.set(zs(this.getcolref(a+1),e.v,r),a*this.nrows);return new be(l,this.nrows,this.ncols)}throw new Error('op: length of vector "X" does not match number of rows nor number of columns of the maytrix.')}add(e){return this.op(e,(r,s)=>r+s)}subtract(e){return this.op(e,(r,s)=>r-s)}mult(e){return this.op(e,(r,s)=>r*s)}divide(e){return this.op(e,(r,s)=>r/s)}apply(e,r){if(r===void 0&&(r=2),r==2){const s=this.ncols,l=new be.valuesConstructor(s);for(let a=0;a<s;a++)l[a]=e(this.getcolref(a+1));return new Ae(l)}if(r==1)return this.t().apply(e,2);if(r==0){const s=this.v.length,l=new be.valuesConstructor(s);for(let a=0;a<s;a++)l[a]=e(this.v[a]);return new be(l,this.nrows,this.ncols)}}replace(e,r,s){typeof r=="number"&&(r=[r]),r.length===0&&(r=yt.seq(1,this.nrows)),Wt(r)||(r=Ut(r)),typeof s=="number"&&(s=[s]),s.length===0&&(s=yt.seq(1,this.ncols)),Wt(s)||(s=Ut(s));const l=r.length,a=s.length;if(Bn(r)<1||En(r)>this.nrows)throw Error("Matrix.replace: row indices do not match the dimension of matrix.");if(Bn(s)<1||En(s)>this.ncols)throw Error("Matrix.replace: column indices do not match the dimension of matrix.");if(e.nrows!==l||e.ncols!==a)throw Error('Matrix.replace: dimension of "X" does not match the indices.');for(let c=0;c<s.length;c++){const v=e.getcolref(c+1),u=(s.v[c]-1)*this.nrows;for(let f=0;f<r.length;f++){const m=r.v[f];this.v[u+m-1]=v[f]}}return this}copy(){return new be(this.v.slice(),this.nrows,this.ncols)}getrow(e){if(e<1||e>this.nrows)throw Error("getrow: wrong row index.");const r=new Ae.valuesConstructor(this.ncols);for(let s=0;s<this.ncols;s++)r[s]=this.getcolref(s+1)[e-1];return new Ae(r)}getcolumn(e){if(e<1||e>this.ncols)throw Error("getcolumn: wrong column index.");return new Ae(this.v.slice((e-1)*this.nrows,e*this.nrows))}getcolref(e){return this.v.subarray((e-1)*this.nrows,e*this.nrows)}subset(e,r){if(typeof e=="number"&&(e=Ut([e])),typeof r=="number"&&(r=Ut([r])),Array.isArray(e)&&(e=e.length===0?null:Ut(e)),Array.isArray(r)&&(r=r.length===0?null:Ut(r)),e!==null&&!Wt(e))throw Error('subset: parameter "rind" can be a number, null or instance of Index.');if(r!==null&&!Wt(r))throw Error('subset: parameter "cind" can be a number, null or instance of Index.');if(e!==null&&(Bn(e)<1||En(e)>this.nrows))throw Error('subset: parameter "rind" does not match size of the matrix.');if(r!==null&&(Bn(r)<1||En(r)>this.ncols))throw Error('subset: parameter "cind" does not match size of the matrix.');if(e===null){const v=r.length,u=this.nrows,f=new be.valuesConstructor(u*v);for(let m=0;m<r.length;m++)f.set(this.v.slice((r.v[m]-1)*this.nrows,r.v[m]*this.nrows),m*this.nrows);return new be(f,u,v)}if(r==null)return this.t().subset(r,e).t();const s=e.length,l=r.length,a=new be.valuesConstructor(s*l);let c=new be.valuesConstructor(s);for(let v=0;v<l;v++){const u=this.v.subarray((r.v[v]-1)*this.nrows,r.v[v]*this.nrows);for(let f=0;f<s;f++)c[f]=u[e.v[f]-1];a.set(c,v*s)}return new be(a,s,l)}toString(e){function r(c,v){return" ".repeat(v-c.length)+c}e===void 0&&(e=2),this.ncols;const s=Math.round(Math.abs(Math.log10(En(this.v))))+e+3;let l="";const a=this.t();for(let c=1;c<=a.ncols;c++)l+=Array.from(a.getcolref(c)).map(v=>r(v.toFixed(e),s)).join(" ")+`
`;return l}toCSV(e,r,s,l){e===void 0&&(e=","),r===void 0&&(r=e===";"?",":".");const a=l!=null&&l.length>0,c=s!=null&&s.length>0;if(a&&l.length!==this.nrows)throw Error("Matrix.toCSV: number of elements in labels array must match number of rows in the matrix.");if(c&&s.length!==this.ncols+(a?1:0))throw Error("Matrix.toCSV: number of elements in header must match number of columns in the matrix.");const v=this.t();let u=c?s.join(e)+`
`:"";for(let f=1;f<=v.ncols;f++)u=u+(a?l[f-1]+e:"")+v.getcolref(f).join(e)+`
`;return u=u.replace(/\./g,r),u}static randn(e,r,s,l){return xl(dl(e*r,s,l),e,r)}static rand(e,r,s,l){return xl(vl(e*r,s,l),e,r)}static eye(e,r){r===void 0&&(r=e);const s=new Float64Array(e*r);for(let l=0;l<Math.min(e,r);l++)s[l*e+l]=1;return new be(s,e,r)}static diagm(e){if(!Pe(e))throw Error('diagm: the argument "x" must be a Vector.');const r=e.length,s=new Float64Array(r*r);for(let l=0;l<r;l++)s[l*r+l]=e.v[l];return new be(s,r,r)}static zeros(e,r){return r===void 0&&(r=e),new be(new Float64Array(e*r),e,r)}static ones(e,r){return be.fill(1,e,r)}static fill(e,r,s){s===void 0&&(s=r);const l=new Float64Array(r*s);for(let a=0;a<l.length;a++)l[a]=e;return new be(l,r,s)}static outer(e,r,s){if(Array.isArray(e)&&(e=Qe(e)),Array.isArray(r)&&(r=Qe(r)),!Pe(e))throw Error('Matrix.outer: parameter "x" must be a vector or an array with numbers.');if(!Pe(r))throw Error('Matrix.outer: parameter "y" must be a vector or an array with numbers.');const l=be.zeros(e.length,r.length);for(let a=0;a<r.length;a++){const c=r.v[a],v=l.getcolref(a+1);for(let u=0;u<e.length;u++)v[u]=s(e.v[u],c)}return l}static parseCSV(e,r,s,l){function a(b){return b.some(y=>Number.isNaN(Number.parseFloat(y.trim())))}r===void 0&&(r=",");const c=r===";"?",":".";e=e.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,""),e=e.replace(/\r/gm,"");let v=e.split(/\n/),u=[],f=0;const m=v[0].split(r);(s||s===void 0&&a(m))&&(u=m,f=1),v=v.filter(b=>b.trim().length>1);let d=[],h=0;l&&(h=1);const g=v.length-f,p=m.length-h;if(g<1)throw Error("Data file should contain at least 1 row with values.");if(p<1)throw Error("Data file should contain at least 1 column with values.");const w=be.zeros(p,g);for(let b=f;b<g+f;b++){const y=v[b].split(r);let C;if(l?(d[b-f]=y[0],C=y.slice(1).map(M=>Number.parseFloat(M.trim().replace(c,".")))):C=y.map(M=>Number.parseFloat(M.trim().replace(c,"."))),C.some(M=>Number.isNaN(M)))throw Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(C.length!=p)throw Error("Wrong number of values in row #"+b);w.v.set(new Float64Array(C),(b-f)*p)}return{values:w.t(),header:u,labels:d,sep:r,dec:c}}};Sn(be,"valuesConstructor",Float64Array),Sn(be,"TOLERANCE",Math.pow(10,-9));let lt=be;function Pe(t){return t&&t.constructor===Ae}function Qe(t){return new Ae(new Float64Array(t))}const Ke=class Ke{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Float64Array)throw Error('Vector: parameter "values" must be Float64Array.');this.v=e,this.length=e.length}which(e){const r=new yt.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=l+1,s=s+1);return new yt(r.subarray(0,s))}filter(e){const r=new Ke.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=this.v[l],s=s+1);return new Ke(r.subarray(0,s))}shuffle(){return new Ke(Cl(this.v))}sort(e){return new Ke(Al(this.v,e))}sortind(e){return new yt(ql(this.v,e))}rep(e){return El(this,e)}repeach(e){return kl(this,e)}replace(e,r){typeof r=="number"&&(r=[r]),r.length===0&&(r=yt.seq(1,this.length)),Wt(r)||(r=Ut(r));const s=r.length;if(Bn(r)<1||En(r)>this.length)throw Error("Vector.replace: indices do not match the lenght of the vector.");if(e.length!==s)throw Error('Vector.replace: length of "x" does not match the indices.');for(let l=0;l<r.length;l++){const a=r.v[l];this.v[a-1]=e.v[l]}return this}subset(e){if(typeof e=="number"&&(e=Ut([e])),Array.isArray(e)&&(e=typeof e[0]=="boolean"?yt.bool2ind(e):Ut(e)),!Wt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,s=Ke.zeros(r);for(let l=0;l<r;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");s.v[l]=this.v[e.v[l]-1]}return s}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new Ke(this.v.slice(e-1,r))}copy(){return new Ke(this.v.slice())}dot(e){return e===void 0&&(e=this),Vs(this.v,e.v,1,this.length,e.length,1)[0]}op(e,r){if(Pe(e))return new Ke(zs(this.v,e.v,r));if(_l(e))return new Ke(Fs(this.v,e,r));throw new Error('op: argument "x" must be a vector or a number.')}add(e){return this.op(e,(r,s)=>r+s)}subtract(e){return this.op(e,(r,s)=>r-s)}mult(e){return this.op(e,(r,s)=>r*s)}divide(e){return this.op(e,(r,s)=>r/s)}apply(e){const r=this.v.length,s=Ke.zeros(r);for(let l=0;l<r;l++)s.v[l]=e(this.v[l]);return s}static c(...e){if(e.length===1)return e[0];const r=e.reduce((a,c)=>a+(typeof c=="number"?1:c.length),0),s=new Ke.valuesConstructor(r);let l=0;for(const a of e)typeof a=="number"?(s[l]=a,l+=1):(s.set(Pe(a)?a.v:new Ke.valuesConstructor(a),l),l+=typeof a=="number"?1:a.length);return new Ke(s)}static seq(e,r,s){return yl(e,r,s,Ke)}static randn(e,r,s){return dl(e,r,s)}static rand(e,r,s){return vl(e,r,s)}static zeros(e){return new Ke(new Ke.valuesConstructor(e))}static ones(e){return Ke.fill(1,e)}static fill(e,r){const s=new Ke.valuesConstructor(r);for(let l=0;l<s.length;l++)s[l]=e;return new Ke(s)}};Sn(Ke,"valuesConstructor",Float64Array);let Ae=Ke;function Wt(t){return t.constructor===yt}function Ut(t){return new yt(new Int32Array(t))}const st=class st{constructor(e){if(!ArrayBuffer.isView(e)||e.constructor!==Int32Array)throw Error('Index: parameter "values" must be Int32Array.');this.v=e,this.length=e.length}which(e){const r=new st.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=l+1,s=s+1);return new st(r.subarray(0,s))}filter(e){const r=new st.valuesConstructor(this.length);let s=0;for(let l=0;l<this.length;l++)e(this.v[l],l)&&(r[s]=this.v[l],s=s+1);return new st(r.subarray(0,s))}shuffle(){return new st(Cl(this.v))}sort(e){return new st(Al(this.v,e))}sortind(e){return new st(ql(this.v,e))}rep(e){return El(this,e)}repeach(e){return kl(this,e)}subset(e){if(typeof e=="number"&&(e=Ut([e])),Array.isArray(e)&&(e=Ut(e)),!Wt(e))throw Error('subset: parameter "ind" must be number, array of instance of class Index.');const r=e.length,s=new st.valuesConstructor(r);for(let l=0;l<r;l++){if(e.v[l]<1)throw Error("subset: indices must start with 1 (not 0).");if(e.v[l]>this.length)throw Error("subset: index exceeds the length of the vector.");s[l]=this.v[e.v[l]-1]}return new st(s)}slice(e,r){if(e===null&&(e=1),r==null&&(r=this.length),e<1)throw Error("slice: indices must start with 1 (not 0).");if(r>this.length)throw Error("slice: index exceeds the length of the vector.");if(r<e)throw Error('slice: "end" must not be smaller than "start".');return new st(this.v.slice(e-1,r))}static seq(e,r,s){return yl(e,r,s,st)}static ones(e){return st.fill(1,e)}static fill(e,r){const s=new st.valuesConstructor(r);for(let l=0;l<s.length;l++)s[l]=e;return new st(s)}static bool2ind(e){let r=0;const s=new st.valuesConstructor(e.length);for(let l=0;l<e.length;l++)e[l]&&(s[r]=l+1,r=r+1);return new st(s.subarray(0,r))}};Sn(st,"valuesConstructor",Int32Array);let yt=st;function yl(t,e,r,s){r===void 0&&(r=t<=e?1:-1);const l=Math.floor((e-t)/r)+1;if(l<1)throw Error("seq: wrong combination of parameters.");const a=new s.valuesConstructor(l);for(let c=0;c<l;c++)a[c]=t+c*r;return new s(a)}function El(t,e){const r=t.length*e,s=new t.constructor.valuesConstructor(r);for(let l=1;l<=e;l++)for(let a=0;a<t.length;a++)s[(l-1)*t.length+a]=t.v[a];return new t.constructor(s)}function kl(t,e){if(e<1||Math.round(e)!==e)throw Error('rep: parameter "n" must be an integer number > 1.');const r=t.length*e,s=new t.constructor.valuesConstructor(r);for(let l=0;l<t.length;l++)for(let a=0;a<e;a++)s[l*e+a]=t.v[l];return new t.constructor(s)}function zs(t,e,r){if(t.length!==e.length)throw new Error("_opvv: arrays sizes do not match.");if(t.constructor!==e.constructor)throw new Error("_opvv: array types do not match.");const s=new t.constructor(t.length);for(let l=0;l<t.length;l++)s[l]=r(t[l],e[l]);return s}function Fs(t,e,r){const s=new t.constructor(t.length);for(let l=0;l<t.length;l++)s[l]=r(t[l],e);return s}function Vs(t,e,r,s,l,a){if(s!==l)throw Error("_dot: matrix dimensions do not much.");const c=r,v=a,u=s,f=new t.constructor(c*v);for(let m=0;m<v;m++){const d=e.subarray(m*l,(m+1)*l),h=f.subarray(m*c,(m+1)*c);for(let g=0;g<u;g++){const p=d[g],w=t.subarray(g*r,(g+1)*r);for(let b=0;b<c;b++)h[b]+=w[b]*p}}return f}function Cl(t){let e=t.slice(),r=e.length,s,l;for(;r;)l=Math.floor(Math.random()*r--),s=e[r],e[r]=e[l],e[l]=s;return e}function Al(t,e=!1){return e?t.slice().sort((r,s)=>s-r):t.slice().sort((r,s)=>r-s)}function ql(t,e=!1){const r=yt.seq(1,t.length).v;return e?r.sort((s,l)=>t[l-1]-t[s-1]):r.sort((s,l)=>t[s-1]-t[l-1])}function lc(t,e,r){return 5*t*e+e+4*r*e}function ac(t,e){return 2+2*t+t*e+17*e}function rt(t,e,r){if(!t||!t.class||!t.class.includes("pcamodel"))throw new Error('pcamodel_get: parameter "m" must be JSON with PCA model.');const s=t.ncols,l=t.ncomp;let a,c;switch(e){case"mX":a=2,c=s;break;case"sX":a=2+s,c=s;break;case"loadings":case"xloadings":a=2+2*s+(r-1)*s,c=s;break;case"P":a=2+2*s,c=r*s;break;case"eigenvals":case"xeigenvals":a=2+2*s+s*l,c=l;break;case"cq0":a=2+2*s+s*l+l,c=l;break;case"cNq":a=2+2*s+s*l+2*l,c=l;break;case"rq0":a=2+2*s+s*l+3*l,c=l;break;case"rNq":a=2+2*s+s*l+4*l,c=l;break;case"ch0":a=2+2*s+s*l+5*l,c=l;break;case"cNh":a=2+2*s+s*l+6*l,c=l;break;case"rh0":a=2+2*s+s*l+7*l,c=l;break;case"rNh":a=2+2*s+s*l+8*l,c=l;break;case"cr0":a=2+2*s+s*l+9*l,c=l;break;case"cNr":a=2+2*s+s*l+10*l,c=l;break;case"rr0":a=2+2*s+s*l+11*l,c=l;break;case"rNr":a=2+2*s+s*l+12*l,c=l;break;case"cg0":a=2+2*s+s*l+13*l,c=l;break;case"cNg":a=2+2*s+s*l+14*l,c=l;break;case"rg0":a=2+2*s+s*l+15*l,c=l;break;case"rNg":a=2+2*s+s*l+16*l,c=l;break;default:throw Error("pcamodel_get: wrong outcome name.")}return t.v.subarray(a,a+c)}function Zt(t,e,r){if(!t||!t.class||!t.class.includes("pcares"))throw new Error('pcares_get: parameter "r" must be JSON with PCA results.');const s=t.ncols,l=t.nrows,a=t.ncomp;let c,v;switch(e){case"scores":case"xscores":c=(r-1)*l,v=l;break;case"hdist":c=l*a+(r-1)*l,v=l;break;case"qdist":c=2*l*a+(r-1)*l,v=l;break;case"xcumexpvar":case"cumexpvar":c=3*l*a,v=a;break;case"fdistc":c=3*l*a+a+(r-1)*l,v=l;break;case"fdistr":c=4*l*a+a+(r-1)*l,v=l;break;case"gdist":c=5*l*a+a+(r-1)*s,v=s;break;case"rdist":c=5*l*a+a+s*a+(r-1)*s,v=s;break;case"idistc":c=5*l*a+a+2*s*a+(r-1)*s,v=s;break;case"idistr":c=5*l*a+a+3*s*a+(r-1)*s,v=s;break;default:throw new Error("pcares_get: wrong outcome name.")}return t.v.subarray(c,c+v)}function Br(t,e,r){if(!Array.isArray(t))return!1;if(t.length===0)return!0;for(let s=0;s<t.length;s++){const l=t[s];if(l<e||l>r)return!1}return!0}function Os(t,e,r,s,l,a,c){if(!gn(e))throw new Error("pca_fit: X must be a matrix.");a||(a=[]);const v=a&&Array.isArray(a)?a.length:0;if(!Br(a,0,e.nrows-1))throw new Error('pca_fit: some indices in "outliers" array are outside the expected range.');c||(c=[]);const u=c&&Array.isArray(c)?c.length:0;if(!Br(c,0,e.ncols-1))throw new Error('pca_fit: some indices in "exclvars" array are outside the expected range.');const f=e.nrows-v,m=e.ncols-u;if(f<3||m<2)throw new Error("pca_fit: X must have at least 3 rows and 2 columns.");if(s===void 0&&(s=!0),l===void 0&&(l=!1),r===void 0&&(r=Math.min(e.nrows-v-1,e.ncols-u)),r<1||r>Math.min(f-1,m))throw new Error('pca_fit: the value of "ncomp" does not match the dimension of X.');const d=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);let h=null;if(v>0){const M=new Int32Array(a);h=t._malloc(M.length*M.BYTES_PER_ELEMENT),t.HEAP32.set(M,h/M.BYTES_PER_ELEMENT)}let g=null;if(u>0){const M=new Int32Array(c);g=t._malloc(M.length*M.BYTES_PER_ELEMENT),t.HEAP32.set(M,g/M.BYTES_PER_ELEMENT)}const p=ac(m,r),w=Float64Array,b=t._malloc(p*w.BYTES_PER_ELEMENT);if(t.ccall("pcafit_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number"],[d,e.nrows,e.ncols,r,s,l,b,h,v,g,u])!==1)throw new Error("pca_fit: PCA failed.");const C=t.HEAPF64.slice(b/w.BYTES_PER_ELEMENT,b/w.BYTES_PER_ELEMENT+p);return t._free(d),t._free(b),h&&t._free(h),g&&t._free(g),{class:["pcamodel"],v:C,ncomp:r,nrows:f,ncols:m,exclvars:c,center:s,scale:l}}function rr(t,e,r,s){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pca_predict: parameter "m" must be JSON with PCA model.');if(!gn(r))throw new Error("pca_predict: X must be a matrix.");s||(s=[]);const l=s&&Array.isArray(s)?s.length:0;if(!Br(s,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');let a=e.exclvars.length;e.exclvars;const c=r.nrows-l;r.ncols===e.ncols&&(a=0);const v=r.ncols-a;if(c<1)throw new Error("pca_predict: X must have at least 1 row.");if(v!==e.ncols)throw new Error("pca_predict: X must have the same number of columns (without excluded ones) as the training set.");const u=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,u/r.v.BYTES_PER_ELEMENT);let f=null;if(l>0){const A=new Int32Array(s);f=t._malloc(A.length*A.BYTES_PER_ELEMENT),t.HEAP32.set(A,f/A.BYTES_PER_ELEMENT)}let m=null;if(a>0){const A=new Int32Array(e.exclvars);m=t._malloc(A.length*A.BYTES_PER_ELEMENT),t.HEAP32.set(A,m/A.BYTES_PER_ELEMENT)}const d=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,d/e.v.BYTES_PER_ELEMENT);const h=lc(r.nrows-l,e.ncomp,r.ncols-a),g=Float64Array,p=t._malloc(h*g.BYTES_PER_ELEMENT);if(t.ccall("pcapredict_wasm",["number"],["number","number","number","number","number","number","number","number","number"],[u,r.nrows,r.ncols,d,p,f,l,m,a])!==1)throw new Error("pca_predict: PCA prediction failed.");const b=t.HEAPF64.slice(p/g.BYTES_PER_ELEMENT,p/g.BYTES_PER_ELEMENT+h);t._free(u),t._free(d),t._free(p),f&&t._free(f),m&&t._free(m);const y={class:["pcares"],v:b,ncomp:e.ncomp,nrows:c,ncols:v,outliers:s,exclvars:e.exclvars,center:e.center,scale:e.scale},C=new Array(e.ncomp),M=new Array(e.ncomp),E=new Array(e.ncomp),_=new Array(e.ncomp),S=new Array(e.ncomp),k=Zt(y,"xcumexpvar");S[0]=1,_[0]=k[0],E[0]=1-k[0],C[0]=k[0],M[0]=1-k[0];for(let A=1;A<e.ncomp;A++)S[A]=A+1,_[A]=k[A],E[A]=1-k[A],C[A]=k[A]-k[A-1],M[A]=1-C[A];return y.stat={components:S,resvar:M,expvar:C,cumexpvar:_,cumresvar:E},y}function ic(t,e,r,s,l,a,c,v){if(!e||!e.class||!e.class.includes("pcamodel"))throw new Error('pcapcv: parameter "m" must be JSON with PCA results.');if(!gn(r))throw new Error("pcapcv: X must be a matrix.");v||(v=[]);const u=v&&Array.isArray(v)?v.length:0;if(!Br(v,0,r.nrows-1))throw new Error('pca_predict: some indices in "outliers" array are outside the expected range.');const f=e.exclvars.length,m=r.nrows-u,d=r.ncols-f;if(m<3)throw new Error("pcapcv: X must have at least 3 rows.");if(d!==e.ncols)throw new Error("pcapcv: X must have the same number of columns as the training set.");if(!Number.isInteger(a)||![0,1,2].includes(a))throw new Error('pcapcv: parameter "cv_type" must be one of 0 ("loo"), 1 ("ven"), 2 ("rand).');if(!Number.isInteger(c)||![0,1].includes(c))throw new Error('pcapcv: parameter "cv_scope" must be 0 ("global") or 1 ("local").');if(a>0&&(!Number.isInteger(l)||l<2))throw new Error('pcapcv: parameter "cv_nseg" must be a number ≥ 2.');if(a>0&&l>m)throw new Error('pcapcv: the value of "cv_nseg" is too large for the given X.');if(!Number.isInteger(s)||s<1)throw new Error('pcapcv: the value of "ncomp" must be a number >= 1.');const h=Math.min(a===0?m-2:m-Math.ceil(m/l)-1,d,e.ncomp);if(s>h)throw new Error('pcapcv: the value of "ncomp" is too large.');const g=t._malloc(r.v.length*r.v.BYTES_PER_ELEMENT);t.HEAPF64.set(r.v,g/r.v.BYTES_PER_ELEMENT);let p=null;if(u>0){const S=new Int32Array(v);p=t._malloc(S.length*S.BYTES_PER_ELEMENT),t.HEAP32.set(S,p/S.BYTES_PER_ELEMENT)}let w=null;if(f>0){const S=new Int32Array(e.exclvars);w=t._malloc(S.length*S.BYTES_PER_ELEMENT),t.HEAP32.set(S,w/S.BYTES_PER_ELEMENT)}const b=t._malloc(e.v.length*e.v.BYTES_PER_ELEMENT);t.HEAPF64.set(e.v,b/e.v.BYTES_PER_ELEMENT);const y=m*d,C=r.v.constructor,M=t._malloc(y*C.BYTES_PER_ELEMENT);if(t.ccall("pcvpca_wasm",["number"],["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"],[g,r.nrows,r.ncols,s,e.center,e.scale,a,l,c,b,M,p,u,w,f])!==1)throw new Error("pcapcv: PCVPCA failed.");const _=t.HEAPF64.slice(M/C.BYTES_PER_ELEMENT,M/C.BYTES_PER_ELEMENT+y);return t._free(g),t._free(b),t._free(M),p&&t._free(p),w&&t._free(w),new lt(_,m,d)}function Wr(t,e,r=1){const s=Math.round((e-t+1)/r),l=Array(s);for(let a=0;a<s;a++)l[a]=t+a*r;return l}function cc(t,e){let r,s,l;if(e.length>0){const a=t.values.nrows,c=t.objindices,v=a-e.length;r=Array(v),s=Array(v),l=Array(v);let u=0;for(let f=0;f<a;f++)e.includes(f)||(r[u]=c[f],s[u]=t.classes[f],l[u]=t.objlabels[f],u=u+1)}else r=t.objindices,l=t.objlabels,s=t.classes;return[r,l,s]}function Ur(){const t=new Date;return`${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}${t.getMilliseconds().toString().padStart(3,"0")}`}function Ds(t,e,r,s){const[l,a,c]=cc(r,s),v=rr(t,e,r.values,s);v.hash=Ur(),v.objindices=l,v.objlabels=a,v.classes=c,v.classNames=r.classNames,v.varlabels=r.varlabels,v.eigenvals=rt(e,"eigenvals"),v.cNh=rt(e,"cNh"),v.cNq=rt(e,"cNq"),v.ch0=rt(e,"ch0"),v.cq0=rt(e,"cq0"),v.rNh=rt(e,"rNh"),v.rNq=rt(e,"rNq"),v.rh0=rt(e,"rh0"),v.rq0=rt(e,"rq0");const u=e.nrows;return v.T2lim=2*(u-1)/(u-2)*ml(.95,2,u-2),v}function uc(t,e="."){return Array.isArray(t)&&t.length>0?e==="."?t.map(r=>Number.parseFloat(r.trim())):t.map(r=>Number.parseFloat(r.trim().replace(e,"."))):e==="."?Number.parseFloat(t.trim()):Number.parseFloat(t.trim().replace(e,"."))}function sr(t){return t.some(e=>Number.isNaN(e))}function kn(t){return t.replace("	","").trim().replace(/^(['"])(.*)\1$/,"$2")}function Sl(t){let e=t.replace(/^\uFEFF/gm,"").replace(/^\u00EF?\u00BB\u00BF/gm,"");return e=e.replace(/\r/gm,""),e.split(/\n/).filter(r=>r.trim().length>1)}function fc(t,e,r,s,l,a,c,v=0){if(e===void 0&&(e=","),!(e===","||e===";"))throw new Error("Values separator can be either comma or semicolon.");const f=e===";"?",":".";let m=Sl(t);if(m.length<1)throw new Error("Could not find non-empty rows with values, check your CSV file and try again.");m=m.filter(z=>z.replaceAll(e,"").trim().length>0);const d=m[0].split(e);if(d.length<2)throw new Error("Found only one column, looks like your delimiter is not correct.");let h=0,g;const p=r!=="no";(p||p===void 0&&sr(firstRow))&&(g=d,h=1);const w=m.length-h;if(w<1)throw new Error("Data file should contain at least 1 row with values.");let b,y,C,M=Array(w);s?(b=p?kn(g[0]):"",C=Array(w),y=1):(b="",C=[],y=0);let E,_=[],S;l?(E=p?kn(g[y]):"",S=Array(w),y=y+1):(E="",S=[]);const k=d.length-y;if(k<1)throw new Error("Data file should contain at least 1 column with values.");const A=lt.zeros(k,w);for(let z=h;z<w+h;z++){const Q=z-h;M[Q]=Q;let G=m[z].split(e);if(s&&(C[Q]=G[0],G.shift()),l){const K=G[0];S[Q]=K,G.shift(),(_.length===0||_.indexOf(K)<0)&&_.push(K)}const W=f==="."?G.map(K=>Number.parseFloat(K.trim())):G.map(K=>Number.parseFloat(K.trim().replace(f,".")));if(W.some(K=>Number.isNaN(K)))throw new Error("Some of the values can not be converted to numbers, check your CSV file and try again.");if(W.length!=k)throw new Error("Wrong number of values in row #"+z);A.v.set(new Float64Array(W),(z-h)*k)}if(!s||C.length!==w){C=Array(w);for(let z=0;z<w;z++)C[z]="O"+(z+1)}C=C.map(z=>kn(z)),S=S.map(z=>kn(z)),_=_.map(z=>kn(z));let N,L=Array(k),q=Array(k);if(g&&g.length===k+y){N=g.map(z=>kn(z)).slice(y);for(let z=0;z<k;z++)L[z]=z,q[z]=z+1}else{N=Array(k);for(let z=0;z<k;z++)L[z]=z,N[z]="V"+(z+1),q[z]=z+1}let P;if(r==="values"){if(P=f==="."?N.map(z=>Number.parseFloat(z.trim())):N.map(z=>Number.parseFloat(z.trim().replace(f,"."))),P.some(z=>Number.isNaN(z)))throw new Error("Some of the header values can not be converted to numbers, check your CSV file and try again.")}else P=q;Array.isArray(P)||(P=[]),a||(a=""),c||(c=""),a=P.length>0&&a.length>0?a:"Variables",c=P.length>0&&c.length>0?c:"";const j=a+(c.length>0?", "+c:""),F=P[1]<P[0];return{values:A.t(),header:r,hasLabels:s,hasClassNames:l,labelsVarname:b,classLabelsVarname:E,objlabels:C,objindices:M,varlabels:N,varvalues:P,varindices:L,varrev:F,classes:S,responses:null,classNames:_,sep:e,dec:f,varvaluesName:a,varvaluesUnits:c,varAxisTitle:j}}function vc(t){if(sr(t[0].slice(2)))return!0;const e=t[0].length,r=[];for(let s=2;s<e;s++){let l=[];for(let f=1;f<t.length;f++)l.push(t[f][s]);const a=t[0][s],c=Dn(l),v=Ss(l),u=Math.abs((a-c)/v);r.push(u)}return r.every(s=>s>5)}function dc(t){const e=",",r=t[0].split(e),s=t[1].split(e),l=r.length,a=s.length,c=";",v=t[0].split(c),u=t[1].split(c),f=v.length,m=u.length;let d,h;if(l>1&&a>1&&l===a&&l>f)h=e,d=l;else if(f>1&&m>1&&f===m)h=c,d=a;else throw new Error("Values in the CSV file should be separated by coma or by semicolon.");return[h,h===","?".":",",d]}function mc(t){const e=Sl(t),r=e.length;if(r<3)throw new Error("It looks like the dataset has less then three rows, minimum three is needed, check your CSV file and try again.");const[s,l,a]=dc(e),c=Math.min(a,5),v=Math.min(r,5);let u=e.slice(0,v).map(k=>k.split(s).slice(0,c));u=u.map(k=>k.map(A=>kn(A)));const f=u.map(k=>uc(k.slice(),l));for(let k=1;k<v;k++)if(sr(f[k].slice(2)))throw new Error("Some of the data values expected to be numeric are not, check your CSV file.");const m=vc(f);let d=0;const h=m?1:0,g=h+1,p=u[h][0],w=u[g][0],b=f[h][0],y=f[g][0],C=f[h][1],M=f[g][1];let E=!1,_=!1;if(Number.isNaN(b)&&Number.isNaN(y)&&p!==w?(E=!0,d=d+1):Number.isNaN(C)&&Number.isNaN(M)&&p!==w&&(E=!0,_=!0,d=d+2),!_){const k=E?1:0,A=f[h][k],N=f[g][k];_=sr([A,N]),d=d+_}let S="no";if(m){d>0?u[0].slice(d):u[0];const k=d>0?f[0].slice(d):f[0];S=sr(k)?"labels":"values"}return[s,E,_,S]}function hc(t){const e=t.values.t(),r=t.sep,s=t.dec;let l=null;t.header!=="no"&&(l=t.header==="values"?t.varvalues.slice():t.varlabels.slice()),l&&t.hasClassNames&&(l=[t.classLabelsVarname,...l]),l&&t.hasLabels&&(l=[t.labelsVarname,...l]);const a=t.classes&&t.classes.length===e.ncols,c=t.objlabels&&t.objlabels.length===e.ncols;let v=l?l.join(r):"";for(let u=0;u<e.ncols;u++){let f=e.getcolref(u+1).join(r);s!=="."&&(f=f.replace(".",s)),a&&(f=t.classes[u]+t.sep+f),c&&(f=t.objlabels[u]+t.sep+f),v=v+`
`+f}return v=v+`
`,s!=="."&&(v=v.replace(/\./g,s)),v}function Bs(t,e){const r=hc(t),s=new Blob([r],{type:"text/csv"}),l=window.URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",l),a.setAttribute("download",`${e}.csv`),a.click()}function gc(t,e){const r=t.values,s=t.varvalues,l=t.varlabels,a=t.varindices,c=r.nrows,v=r.ncols,u=v-e.length,f=lt.zeros(c,u),m=Array(u),d=Array(u),h=Array(u);let g=0;for(let p=0;p<v;p++){if(e.includes(p))continue;const w=c*p,b=c*g;f.v.set(r.v.slice(w,w+c),b),m[g]=s[p],d[g]=l[p],h[g]=a[p],g=g+1}return{values:f,header:t.header,hasLabels:t.hasLabels,hasClassNames:t.hasClassNames,classNames:t.classNames,labelsVarname:t.labelsVarname,classLabelsVarname:t.classLabelsVarname,objlabels:t.objlabels,objindices:t.objindices,varlabels:d,varvalues:m,varindices:h,varrev:t.varrev,classes:t.classes,responses:t.responses,classNames:t.classNames,sep:t.sep,dec:t.dec,varvaluesName:t.varvaluesName,varvaluesUnits:t.varvaluesUnits,varAxisTitle:t.varAxisTitle,fileName:t.fileName}}function bc(t){if(!t.length)return"";t.sort((l,a)=>l-a);let e=[],r=t[0],s=r;for(let l=1;l<t.length;l++)t[l]===s+1?s=t[l]:(r===s?e.push(`${r}`):e.push(`${r}-${s}`),r=t[l],s=r);return r===s?e.push(`${r}`):e.push(`${r}-${s}`),e.join(" ")}function Yr(t,e){return gn(e)?{__type:"matrix",nrows:e.nrows,ncols:e.ncols,v:Array.from(e.v)}:Pe(e)?{__type:"vector",length:e.length,v:Array.from(e.v)}:ArrayBuffer.isView(e)?{__type:e.constructor.name,data:Array.from(e)}:e}function pc(t,e){if(e&&typeof e=="object"&&e.__type){if(e.__type==="matrix")return oc(e.v,e.nrows,e.ncols);if(e.__type==="vector")return Qe(e.v);const r=globalThis[e.__type];if(typeof r=="function")return new r(e.data)}return e}function Ws(t){const e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${e}${r}${s}${l}${a}${c}`}const wc=t=>t;function _c(t,{delay:e=0,duration:r=400,easing:s=wc}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:s,css:a=>`opacity: ${a*l}`}}var xc=X('<div class="drop svelte-1vipsv"><div class="modal svelte-1vipsv"><div class="header svelte-1vipsv"><button class="close-button svelte-1vipsv">✕</button></div> <div class="body svelte-1vipsv"><!></div></div></div>');function yc(t,e){de(e,!0);function r(f){f.key==="Escape"&&e.closeModal()}var s=xc();Nr("keydown",cs,r);var l=B(s),a=B(l),c=B(a);c.__click=function(...f){var m;(m=e.closeModal)==null||m.apply(this,f)};var v=I(a,2),u=B(v);yn(u,()=>e.children),Ti(7,s,()=>_c),R(t,s),me()}et(["click"]);function Ml(t,e){H(e,!0)}function Ec(t,e,r){const s=Ws(new Date),l=e.appID+"-session-"+s+".json";o(r).date=s;const a=JSON.stringify(o(r),Yr),c=new Blob([a],{type:"text/json"}),v=window.URL.createObjectURL(c),u=document.createElement("a");u.setAttribute("href",v),u.setAttribute("download",l),u.click()}function kc(t,e){confirm("Are you sure? All current results and models will be lost in all tabs.")&&e()}var Cc=X('<sup style="color:red">β</sup>'),Ac=X('<li><button class="svelte-sqmqfb"> </button></li>'),qc=X("<div><!></div>"),Sc=X('<div class="info-container svelte-sqmqfb"><!></div>'),Mc=X('<div class="page svelte-sqmqfb"><header class="page-header svelte-sqmqfb"><div class="header-group svelte-sqmqfb"><img class="logo svelte-sqmqfb" src="logo.svg"> <h1 class="svelte-sqmqfb"> <!></h1> <p class="svelte-sqmqfb"> </p></div> <ul class="nav svelte-sqmqfb"></ul></header> <main class="svelte-sqmqfb"></main> <footer class="svelte-sqmqfb"><div><span class="session-message svelte-sqmqfb"> </span> <label title="load session from file" class="upload-button svelte-sqmqfb"><input type="file" class="svelte-sqmqfb"> <svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-sqmqfb"><line x1="50" y1="25" x2="50" y2="75"></line><line x1="30" y1="40" x2="50" y2="25"></line><line x1="70" y1="40" x2="50" y2="25"></line></svg></label> <button title="download session as a file" class="download-button svelte-sqmqfb"><svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-sqmqfb"><line x1="50" y1="25" x2="50" y2="75"></line><line x1="30" y1="60" x2="50" y2="75"></line><line x1="70" y1="60" x2="50" y2="75"></line></svg></button> <button title="reset all sessions" class="clear-button svelte-sqmqfb"><svg xmlns="http://www.w3.org/2000/svg" version="2.0" width="20px" height="20px" viewBox="0 0 100 100" class="svelte-sqmqfb"><line x1="25" y1="25" x2="75" y2="75"></line><line x1="25" y1="75" x2="75" y2="25"></line></svg></button></div> <div class="info svelte-sqmqfb"><button class="button-info svelte-sqmqfb">info</button> <!></div></footer> <!></div>');function Nc(t,e){de(e,!0);let r=Y(e,"tabs",19,()=>[]),s=Y(e,"isBeta",3,!1);const l="mdatools-"+e.appID;let a=ae(!1),c=ae(void 0),v=ae("Current session "),u=ae(!1);function f(E){H(v,E,!0),H(u,!0),setTimeout(()=>{H(v,"Current session "),H(u,!1)},1e3)}function m(){H(a,!1)}function d(E){o(c).tab=E}function h(){const E=indexedDB.open(l,1);E.onsuccess=_=>{const k=_.target.result.transaction(e.appID,"readwrite");k.objectStore(e.appID).delete("session"),k.oncomplete=()=>{H(c,e.initSession(),!0),f("Session was reinitialzed.")},k.onerror=()=>console.error("Failed to session from DB.")}}function g(E,_){console.log("backing up"),window.localStorage.removeItem(e.appID+"-blocked");const S=indexedDB.open(l,1);S.onsuccess=k=>{const L=k.target.result.transaction(e.appID,"readwrite").objectStore(e.appID);L.put(E,"session"),L.put(Ws(new Date),"session-update")}}function p(){new Promise((E,_)=>{const S=indexedDB.open(l,1);S.onsuccess=k=>{const q=k.target.result.transaction(e.appID,"readonly").objectStore(e.appID).get("session");q.onsuccess=()=>E(q.result),q.onerror=()=>_(q.error)}}).then(E=>{w(E),H(v,"Last session is restored "),H(u,!0),setTimeout(()=>{H(v,"Current session "),H(u,!1)},1500)}).catch(E=>{console.error(E),H(c,e.initSession(),!0)})}function w(E){if(!E||E==="undefined"){H(c,e.initSession(),!0);return}const _=JSON.parse(E,pc);H(c,e.checkSession(_)?_:e.initSession(e.appID),!0)}function b(E){e.resetSession(o(c));const _=new FileReader;_.onload=()=>{w(_.result),E.target.value=""},_.readAsText(E.target.files[0])}zi(()=>{const E=e.appID,_=indexedDB.open(l,1);_.onupgradeneeded=S=>{const k=S.target.result;k.objectStoreNames.contains(E)||k.createObjectStore(E)},_.onsuccess=S=>{p()}});var y=ue(),C=$(y);{var M=E=>{var _=Mc(),S=B(_),k=B(S),A=B(k),N=I(A,2),L=B(N),q=I(L);{var P=Se=>{var _e=Cc();R(Se,_e)};U(q,Se=>{s()&&Se(P)})}var j=I(N,2),F=B(j),D=I(k,2);He(D,21,r,Xe,(Se,_e,dt)=>{var ye=Ac();let Re;var tt=B(ye);tt.__click=()=>d(dt),tt.__keydown=()=>d(dt);var Et=B(tt);re(kt=>{Re=vt(ye,1,"nav-item svelte-sqmqfb",null,Re,kt),le(Et,o(_e).name)},[()=>({selected:o(c).tab===dt})]),R(Se,ye)});var z=I(S,2);He(z,21,r,Xe,(Se,_e,dt)=>{var ye=qc();let Re;var tt=B(ye);Es(tt,()=>o(_e).component,(Et,kt)=>{kt(Et,{get WASM(){return e.WASM},get session(){return o(c)},backupSession:g})}),re(Et=>Re=vt(ye,1,"tab-content svelte-sqmqfb",null,Re,Et),[()=>({hidden:o(c).tab!==dt})]),R(Se,ye)});var Q=I(z,2),G=B(Q);let W;var K=B(G),te=B(K),ee=I(K,2),Z=B(ee);Z.__change=b;var ne=I(ee,2);ne.__click=[Ec,e,c];var se=I(ne,2);se.__click=[kc,h];var ve=I(G,2),we=B(ve);we.__click=[Ml,a],we.__keydown=[Ml,a];var xe=I(we,2);yn(xe,()=>e.footer);var qe=I(Q,2);{var ke=Se=>{yc(Se,{closeModal:m,children:(_e,dt)=>{var ye=Sc(),Re=B(ye);yn(Re,()=>e.info),R(_e,ye)},$$slots:{default:!0}})};U(qe,Se=>{o(a)&&Se(ke)})}re(Se=>{O(A,"alt",e.appShortTitle),le(L,e.appTitle),le(F,e.appSlogan),W=vt(G,1,"session svelte-sqmqfb",null,W,Se),le(te,o(v))},[()=>({"no-buttons":o(u)})]),R(E,_)};U(C,E=>{o(c)&&E(M)})}R(t,y),me()}et(["click","keydown","change"]);function Pc(t,e,r,s,l){const a=t.ncomp,c=t.nrows,v=new Array(a),u=new Array(a),f=new Array(a),m=new Array(a);for(let d=0;d<a;d++){const h=Zt(t,e==="robust"?"fdistr":"fdistc",d+1),g=Nl(!1,h,s[d],l[d]);let p=t.nrows;const w=s[d],b=r[d],y=new Ae(h);let C=y.sort(),M=y.sortind();const E=Array.from({length:c},()=>"alien");let _=-1,S=0,k=0,A=0,N=0;for(;_<0;)S>0&&(E[M.v[p-1]-1]="external",p=p-1,M=M.slice(1,p),C=C.slice(1,p)),k=Dn(C),A=jr(C,!0),N=A/(k*k),_=4-2*b*N,S=S+1;const L=(2+Math.sqrt(_))/N,q=L-b,P=k/L,j=w/P,F=1-2*(b+q)*(b+3*q)/(3*(b+2*q)**2),D=(F-1)*(1-3*F),z=(b+2*q)/(b+q)**2,Q=1+F*z*(F-1-.5*(2-F)*D*z),G=F*Math.sqrt(2*z)*(1+.5*D*z),W=Ir((Math.pow(j/(b+q),F)-Q)/G);v[d]=g,v[d].beta=W,v[d].s=q,v[d].k=b,v[d].Mz=Q,v[d].Sz=G,v[d].m=k,v[d].f0=P,v[d].hz=F,v[d].anum={aliens:p,external:c-p},v[d].a=E,f[d]=1-W,u[d]=g.TN/(g.TN+g.FP),m[d]=d+1}return{class:["simcares"],classes:t.classes,classNames:t.classNames,target:!1,v,nrows:t.nrows,stat:{specificity:u,selectivity:f,components:m}}}function Nl(t,e,r,s){const l=e.length,a=new Array(l),c=new Array(l),v={regular:0,extreme:0,outliers:0},u={in:0,out:0};let f=0,m=0,d=0,h=0;for(let g=0;g<l;g++){const p=e[g];p<r?(a[g]="regular",c[g]="in",v.regular+=1,u.in+=1):p>s?(a[g]="outlier",c[g]="out",v.outliers+=1,u.out+=1):(a[g]="extreme",c[g]="out",v.extreme+=1,u.out+=1),f=f+(c[g]==="in"&&t),h=h+(c[g]!=="in"&&t),d=d+(c[g]!=="in"&&!t),m=m+(c[g]==="in"&&!t)}return{f:e,c:a,d:c,cnum:v,dnum:u,TP:f,TN:d,FN:h,FP:m}}function Tc(t,e,r,s){const l=t.ncomp,a=new Array(l),c=new Array(l),v=new Array(l);for(let u=0;u<l;u++){const f=Zt(t,e==="robust"?"fdistr":"fdistc",u+1),m=Nl(!0,f,r[u],s[u]);c[u]=m.TP/(m.TP+m.FN),v[u]=u+1,a[u]=m}return{class:["simcares"],classes:t.classes,target:!0,v:a,nrows:t.nrows,stat:{sensitivity:c,components:v}}}function Rc(t,e,r,s,l,a){(!a||!Array.isArray(a))&&(a=[]);let c=t.exclvars;(!c||!Array.isArray(c))&&(c=[]);const v=s.values.nrows,u=a.length,f=v-u,m=e.ncomp,d=Zt(r.pca,"qdist",m),h=Zt(r.pca,"hdist",m),g=e.limType==="classic"?"c":"r",p=Zt(r.pca,"fdist"+g,m),w=rt(t,g+"Nh")[m-1],b=rt(t,g+"Nq")[m-1],y=rt(t,g+"h0")[m-1],C=rt(t,g+"q0")[m-1],M=w+b,E=r.simca.v[m-1],_=s.sep,S=r.simca.classes&&r.simca.classes.length===f,k=S?["","","","",""]:["","","",""];let A="";if(A+=["Reference classes:",S?"provided":"not provided",...k].join(_)+`
`,A+=["Number of components:",m,...k].join(_)+`
`,A+=["Alpha:",(e.alpha/100).toFixed(3),...k].join(_)+`
`,A+=["Limits estimator:",e.limType,...k].join(_)+`
`,A+=`
`,A+=["Nh:",w,...k].join(_)+`
`,A+=["Nq:",b,...k].join(_)+`
`,A+=["Nf:",M,...k].join(_)+`
`,A+=`
`,A+=["F crit (extremes):",e.eCrit[m-1],...k].join(_)+`
`,A+=["F crit (outliers):",e.oCrit[m-1],...k].join(_)+`
`,A+=`
`,c.length>0&&(A+=["Number of excluded varibles:",c.length,...k].join(_)+`
`,A+=["Indices of excluded varibles:",bc(c),...k].join(_)+`
`,A+=`
`),E.beta!==null&&E.beta!==void 0){A+=["Objects treated as from non-target class","",...k].join(_)+`
`,A+=["Objects:",v,...k].join(_)+`
`,A+=["In:",E.dnum.in,...k].join(_)+`
`,A+=["Out:",E.dnum.out,...k].join(_)+`
`,A+=["Aliens:",E.anum.aliens,...k].join(_)+`
`,A+=["External:",E.anum.external,...k].join(_)+`
`,A+=["Specificity:",r.simca.stat.specificity?r.simca.stat.specificity[m-1]:"-",...k].join(_)+`
`,A+=["Selectivity:",r.simca.stat.selectivity?r.simca.stat.selectivity[m-1]:"-",...k].join(_)+`
`,A+=["Beta:",E.beta,...k].join(_)+`
`,A+=["Non-centrality, s:",E.s,...k].join(_)+`
`,A+=["Scaling, f0:",E.f0,...k].join(_)+`
`,A+=`
`,A+=["","object","class","role","decision","h/h0","q/q0","f"].join(_)+`
`;for(let j=0;j<v;j++)A+=["",s.objlabels[j],r.simca.classes[j],E.a[j],E.d[j],h[j]/y,d[j]/C,p[j]].join(_)+`
`}else{A+=["Objects treated as from target class","",...k].join(_)+`
`,A+=["Objects:",v,...k].join(_)+`
`,A+=["Removed:",u,...k].join(_)+`
`,A+=["In:",E.dnum.in,...k].join(_)+`
`,A+=["Out:",E.dnum.out,...k].join(_)+`
`,A+=["Regular:",E.cnum.regular,...k].join(_)+`
`,A+=["Extreme:",E.cnum.extreme,...k].join(_)+`
`,A+=["Outliers:",E.cnum.outliers,...k].join(_)+`
`,A+=["Sensitivity:",r.simca.stat.sensitivity?r.simca.stat.sensitivity[m-1]:"-",...k].join(_)+`
`,A+=`
`,A+=["","object","class","role","decision","h/h0","q/q0","f"].join(_)+`
`;let j=0;for(let F=0;F<v;F++){if(u>0&&a.includes(F)){A+=["",s.objlabels[F],"-","removed","-","-","-","-"].join(_)+`
`;continue}A+=["",s.objlabels[j],r.pca.classes[j],E.c[j],E.d[j],h[j]/y,d[j]/C,p[j]].join(_)+`
`,j=j+1}}A+=`
`,s.dec!=="."&&(A=A.replace(/\./g,s.dec)),A=["Target class:",e.className,...k].join(_)+`
`+A,A=["Data filename:",s.fileName,...k].join(_)+`
`+A;let N=["DD-SIMCA results ("+l+")","https://mda.tools/ddsimca/",...k].join(_)+`

`;const L=new Blob([N+A],{type:"text/csv"}),q=window.URL.createObjectURL(L),P=document.createElement("a");P.setAttribute("href",q),P.setAttribute("download",`ddsimca-results-${l}.csv`),P.click()}function Lc(t,e){const r=new Blob([JSON.stringify({pca:t,simca:e},Yr)],{type:"application/json"}),s=window.URL.createObjectURL(r),l=document.createElement("a");l.setAttribute("href",s),l.setAttribute("download","ddsimca-model.json"),l.click()}async function Pl(t,e,r=.1,s="classic"){const l=e.calset.values,a=e.tarset.values,c=e.altset.values,v=e.calset.classNames[0],u=l.ncols-e.varsExcluded.length,f=e.model.ncomp>u?u:e.model.ncomp;return t().then(m=>{const d=Os(m,l,f,e.model.center,e.model.scale,[],e.varsExcluded),h=rr(m,d,a);h.objindices=e.tarset.objindices,h.objlabels=e.tarset.objlabels,h.classes=e.tarset.classes,h.classNames=e.tarset.classNames;const g=rr(m,d,c);g.objindices=e.altres.objindices,g.objlabels=e.altres.objlabels,g.classes=e.altres.classes,g.classNames=e.altres.classNames,d.hash=Ur(),d.varlabels=e.calset.varlabels.filter(k=>!e.varsExcluded.includes(k)),d.varindices=e.calset.varindices.filter(k=>!e.varsExcluded.includes(k)),d.varvalues=e.calset.varvalues.filter(k=>!e.varsExcluded.includes(k)),d.varvaluesName=e.calset.varvaluesName,d.varvaluesUnits=e.calset.varvaluesUnits,d.varrev=e.calset.varrev,d.header=e.calset.header,d.prep=[];const p=1-e.alpha/100,w=Math.pow(1-r/100,1/d.nrows),b=s.charAt(0),y=rt(d,b+"Nh"),C=rt(d,b+"Nq"),M=y.map((k,A)=>k+C[A]),E=M.map(k=>Fr(p,k)),_=M.map(k=>Fr(w,k)),S={ncomp:e.nComp,alpha:e.alpha,gamma:r,limType:s,Nf:M,eCrit:E,oCrit:_,className:v,hash:Ur()};e.currentRes={model:d,simca:S,tar:{pca:h,simca:Tc(h,s,E,_)},alt:{pca:g,simca:Pc(g,s,M,E,_)}}}).catch(m=>{console.error(m)})}function jc(t,e,r){let s=t.length;const l=Qe(t);let a=l.sort(),c=l.sortind(),v=-1,u=0,f=0,m=0,d=0;for(;v<0;)u>0&&(s=s-1,c=c.slice(1,s),a=a.slice(1,s)),f=Dn(a),m=jr(a,!0),d=m/(f*f),v=4-2*r*d,u=u+1;const h=(2+Math.sqrt(v))/d,g=h-r,p=f/h,w=e/p,b=1-2*(r+g)*(r+3*g)/(3*(r+2*g)**2),y=(b-1)*(1-3*b),C=(r+2*g)/(r+g)**2,M=1+b*C*(b-1-.5*(2-b)*y*C),E=b*Math.sqrt(2*C)*(1+.5*y*C);return 1-Ir((Math.pow(w/(r+g),b)-M)/E)}function Tl(t,e,r,s,l=5){if(l<.01||l>50)throw new Error("getStat: wrong value for 'alpha' parameter.");let a,c,v,u,f;s?(f=s.ncompBest,a=s.sens,c=s.spec,v=s.eff,u=s.sel):(a=new Float64Array(t.ncomp),c=new Float64Array(t.ncomp),v=new Float64Array(t.ncomp),u=new Float64Array(t.ncomp));const m=rt(t,"cNh"),d=rt(t,"ch0"),h=rt(t,"cNq"),g=rt(t,"cq0"),p=new Float64Array(t.ncomp),w=new Float64Array(t.ncomp),b=new Float64Array(t.ncomp),y=new Float64Array(t.ncomp),C=new Float64Array(t.ncomp),M=new Float64Array(t.ncomp),E=new Float64Array(t.ncomp),_=new Float64Array(t.ncomp),S=1-l/100;for(let k=0;k<t.ncomp;k++){const A=m[k],N=d[k],L=h[k],q=g[k],P=A+L,j=Fr(S,P);let F,D;F=Zt(e,"qdist",k+1),D=Zt(e,"hdist",k+1);let z=0;for(let W=0;W<e.nrows;W++){const K=D[W]/N*A+F[W]/q*L;z+=K<j}z=z/e.nrows,p[k]=z,C[k]=p[k]-a[f?f-1:k],F=Zt(r,"qdist",k+1),D=Zt(r,"hdist",k+1);const Q=Array(r.nrows);let G=0;for(let W=0;W<r.nrows;W++){const K=D[W]/N*A+F[W]/q*L;G+=K>=j,Q[W]=K}G=G/r.nrows,w[k]=G,b[k]=jc(Q,j,P),M[k]=w[k]-c[f?f-1:k],E[k]=b[k]-u[f?f-1:k],y[k]=Math.sqrt(z*G),_[k]=y[k]-v[f?f-1:k]}return{alpha:l,ncomp:t.ncomp,sens:{diff:C,val:p},spec:{diff:M,val:w},sel:{diff:E,val:b},eff:{diff:_,val:y}}}async function Ic(t,e){const{varInd:r,nComp:s,Xcal:l,Xtar:a,Xalt:c,center:v,scale:u,statsCurrent:f,alpha:m}=e;return t().then(d=>{const h=Os(d,l,s,v,u,[],r),g=rr(d,h,a),p=rr(d,h,c);return Tl(h,g,p,f,m)}).catch(d=>{console.error(d)})}function zc(t,e,r,s){if(!r&&!e)throw new Error('One of the two arguments "nInt" or "intSize" must be specified.');if(e?r=Math.round(t/e):e=Math.round(t/r),!Number.isInteger(e)||e<2||e>t)throw new Error('Wrong value for "nInt" or "intSize" arguments.');if(!Number.isInteger(r)||r<1||r>t/2)throw new Error('Wrong value for "nInt" or "intSize" arguments.');const l=Array(e),a=Array(e),c=Array(e),v=Array(e),u=Array(e),f=t%e,m=Math.trunc(t/e);let d,h,g;if(e===t)for(r=1,d=0;d<e;d++)l[d]=d,a[d]=d;else if(f===0)for(d=0;d<e;d++)h=d*m,l[d]=h,a[d]=h+m-1;else{let k=0;for(d=0;d<f;d++)l[d]=k,k+=m+1,a[d]=k-1;for(d=f;d<e;d++)l[d]=k,k+=m,a[d]=k-1}let p,w,b,y,C,M,E,_,S=[0,1];for(d=0;d<e;d++)h=l[d],b=s[h],g=a[d],y=s[g],d>0&&(w=a[d-1],M=s[w],E=(b-M)/2),d<e-1&&(p=l[d+1],C=s[p],_=(C-y)/2),d===0&&(E=_,S[0]=b-2*E),d===e-1&&(E=_,S[1]=y+2*_),v[d]=b-E,u[d]=y-b+E+_,c[d]=(b+y)/2;return{nVars:t,nInt:e,intSize:r,intLeftIndices:l,intRightIndices:a,limX:S,left:v,width:u,mid:c}}function Fc(t){const e=[4,6,7,8,9].filter(l=>l<=t&&t%l===0);let r;return t>=10&&t<20?r=[t]:t>=20&&t<30?r=[10,t]:t>=30&&t<=50?r=[10,20,t]:t>50&&t<70?r=[10,20,30]:t>=70&&t<90?r=[10,20,30,40]:t>=90?r=[10,20,30,40,50]:t===5?r=[5]:r=[],[...e,...r].sort((l,a)=>l-a)}var Vc=X('<button tabindex="0" class="button svelte-ymtj5z"> </button>');function ut(t,e){let r=Y(e,"text",3,"button");var s=Vc();s.__click=function(...a){var c;(c=e.onclick)==null||c.apply(this,a)};var l=B(s);re(()=>le(l,r())),R(t,s)}et(["click"]);var Oc=X('<button tabindex="0"></button>');function Us(t,e){var r=Oc();r.__click=function(...s){var l;(l=e.onclick)==null||l.apply(this,s)},re(()=>{O(r,"title",e.title),O(r,"aria-label",e.title),O(r,"alt",e.title),vt(r,1,`button ${e.className??""}`,"svelte-bx9fh5")}),R(t,r)}et(["click"]);function or(t,e){let r=Y(e,"title",3,"Reset");Us(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-cancel"})}function Dc(t,e){let r=Y(e,"title",3,"Undo");Us(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-undo"})}function Bc(t,e){let r=Y(e,"title",3,"Download");Us(t,{get title(){return r()},get onclick(){return e.onclick},className:"button-download"})}function Wc(t){const e={};for(const r of Object.keys(t))e[r]=t[r].default;return e}var Uc=X('<span class="label svelte-vzu0vi"> </span>'),Yc=X("<div><!> <!></div>");function ce(t,e){let r=Y(e,"label",3,null),s=Y(e,"name",3,""),l=Y(e,"status",3,""),a=Y(e,"colors",3,""),c=Y(e,"labelWidth",3,12);var v=Yc(),u=B(v);{var f=d=>{var h=Uc(),g=B(h);re(()=>{Dt(h,`flex-basis:${c()??""}ch;`),le(g,r())}),R(d,h)};U(u,d=>{r()&&d(f)})}var m=I(u,2);yn(m,()=>e.children??gt),re(()=>{vt(v,1,`control-element ${s()??""} ${l()??""}`,"svelte-vzu0vi"),Dt(v,a())}),R(t,v)}const Rl=(t,e,r,s)=>{const l=e(t);l<0||l>1||H(r,l*100>o(s)-5&&l*100<o(s)+5,!0)},Ll=(t,e,r,s,l,a)=>{H(e,!1);const c=r(t);c<0||c>1||(s(l(c)),a()&&a()(s()))},jl=(t,e,r,s,l,a)=>{if(!o(e))return;const c=r(t);c<0||c>1||(s(l(c)),a()&&a()(s()))},Gc=(t,e,r,s,l,a)=>{if(t.key==="ArrowLeft"){e(e()-r()<s()?s():e()-r()),l()&&l()(e());return}if(t.key==="ArrowRight"){e(e()+r()>a()?a():e()+r()),l()&&l()(e());return}};var Hc=X('<div role="slider" class="range-slider-container svelte-vhx0r0" tabindex="0"><div><span> </span></div></div>');function Il(t,e){de(e,!0);let r=Y(e,"min",7,0),s=Y(e,"max",3,100),l=Y(e,"value",31,()=>Ge(r())),a=Y(e,"decNum",3,1),c=Y(e,"step",19,()=>+((s()-r())/100).toFixed(4)),v=Y(e,"onchange",3,null);he(()=>{l()<r()&&(l(r()),v()&&v()(l())),l()>s()&&(l(s()),v()&&v()(l())),r()>s()&&r(s())});let u=ae(void 0),f=ae(void 0),m=ae(!1);const d=S=>{const k=r()+S*(s()-r());return+(Math.round(k/c())*c()).toFixed(4)},h=S=>{const k=o(u).getBoundingClientRect(),A=o(f).getBoundingClientRect(),N=k.x,L=A.x+A.width;return(S.clientX-N)/(L-N)},g=S=>{H(m,!1)},p=S=>{let k=l()+c()*S.deltaY*.5;k<r()&&(k=r()),k>s()&&(k=s()),l(+(Math.round(k/c())*c()).toFixed(4)),S.preventDefault(),v()&&v()(l())},w=T(()=>r()===s()?100:(l()-r())/(s()-r())*100);var b=Hc();b.__keydown=[Gc,l,c,r,v,s],b.__mousemove=[jl,m,h,l,d,v],b.__mousedown=[Rl,h,m,w],b.__mouseup=[Ll,m,h,l,d,v],b.__touchmove=[jl,m,h,l,d,v],b.__touchstart=[Rl,h,m,w],b.__touchend=[Ll,m,h,l,d,v];var y=B(b);let C;var M=B(y);let E;var _=B(M);Rr(y,S=>H(u,S),()=>o(u)),Rr(b,S=>H(f,S),()=>o(f)),re((S,k,A)=>{O(b,"aria-valuenow",l()),O(b,"aria-valuemin",r()),O(b,"aria-valuemax",s()),C=vt(y,1,"range-slider svelte-vhx0r0",null,C,S),Dt(y,`width:${o(w)??""}%`),E=vt(M,1,"range-value svelte-vhx0r0",null,E,k),le(_,A)},[()=>({"range-slider_right":o(w)<50}),()=>({"range-value_right":o(w)<50}),()=>l().toFixed(a())]),Nr("mousewheel",b,p),Nr("mouseleave",b,g),Nr("touchcancel",b,g),R(t,b),me()}et(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]),et(["keydown","mousemove","mousedown","mouseup","touchmove","touchstart","touchend"]);const Kc=(t,e,r)=>{if(t.key==="ArrowLeft"){const s=e.options.findIndex(l=>l===r());s>0&&r(e.options[s-1]);return}if(t.key==="ArrowRight"){const s=e.options.findIndex(l=>l===r());s<e.options.length-1&&r(e.options[s+1]);return}};var Xc=(t,e,r)=>e(r),Qc=X('<button tabindex="-1"><!></button>'),Jc=X('<div role="radiogroup" tabindex="0"></div> <input class="svelte-1i17tox">',1);function Nt(t,e){de(e,!0);let r=Y(e,"value",31,()=>Ge(e.options[0])),s=Y(e,"className",3,"");var l=Jc(),a=$(l);a.__keydown=[Kc,e,r],He(a,20,()=>e.options,v=>v,(v,u)=>{var f=Qc();f.__click=[Xc,r,u];let m;var d=B(f);xt(d,()=>u,!1,!1),re((h,g)=>m=vt(f,1,`option option_${h??""}`,"svelte-1i17tox",m,g),[()=>u.toString().replace(".","_"),()=>({selected:u==r()})]),R(v,f)});var c=I(a,2);re(()=>vt(a,1,`selector ${s()??""}`,"svelte-1i17tox")),tl(c,r),R(t,l),me()}et(["keydown","click"]);function lr(t,e){de(e,!0);let r=Y(e,"options",19,()=>["no","yes"]),s=Y(e,"value",15,!1),l=ae(!0);const a=T(()=>r().length!=2?(console.error('Switch: parameter "option" must gave two values.'),null):r());he(()=>H(l,s()?r()[1]:r()[0],!0)),he(()=>s(o(l)===r()[1]));var c=ue(),v=$(c);{var u=f=>{Nt(f,{get options(){return o(a)},get value(){return o(l)},set value(m){H(l,m,!0)}})};U(v,f=>{o(a)&&f(u)})}R(t,c),me()}var Zc=X('<div tabindex="0" role="radiogroup"> <input type="file" class="svelte-1k0x7uv"></div> <!>',1);function $c(t,e){de(e,!0);let r=Y(e,"file",15),s=Y(e,"message",3,"Select CSV file with dataset"),l=Y(e,"acceptType",3,".csv"),a;function c(b){a&&a.files.length>0?r(a.files[0]):r(null)}function v(b){(b.type==="click"||b.type==="keydown"&&(b.code==="Space"||b.code==="Enter"))&&a.click()}function u(b){a.value=null,r(null)}var f=Zc(),m=$(f);m.__keydown=v,m.__click=v;let d;var h=B(m),g=I(h);g.__change=c,Rr(g,b=>a=b,()=>a);var p=I(m,2);{var w=b=>{or(b,{onclick:u})};U(p,b=>{r()&&b(w)})}re(b=>{d=vt(m,1,"file-selector svelte-1k0x7uv",null,d,b),le(h,`${(r()?r().name:s())??""} `),O(g,"accept",l())},[()=>({selected:r()})]),R(t,f),me()}et(["keydown","click","change"]);function eu(t,e,r,s){e()&&H(r,e()(s()),!0)}var tu=X('<div class="error-message svelte-1qtiwcs"> </div>'),nu=X('<div><input type="text" class="svelte-1qtiwcs"> <!></div>');function zl(t,e){de(e,!0);let r=Y(e,"value",15,""),s=Y(e,"className",3,""),l=Y(e,"placeholder",3,""),a=Y(e,"maxLength",3,25),c=Y(e,"validator",3,null),v=ae("");var u=nu();let f;var m=B(u);m.__input=[eu,c,v,r];var d=I(m,2);{var h=g=>{var p=tu(),w=B(p);re(()=>le(w,o(v))),R(g,p)};U(d,g=>{o(v)&&o(v).length>0&&g(h)})}re(g=>{f=vt(u,1,`textinput ${s()??""}`,"svelte-1qtiwcs",f,g),O(m,"placeholder",l()),O(m,"maxlength",a())},[()=>({error:o(v)&&o(v).length>0})]),tl(m,r),R(t,u),me()}et(["input"]);var ru=X('<div class="spinner svelte-n48urb"></div>');function Ys(t){var e=ru();R(t,e)}et(["keydown","click"]),et(["keydown","click"]);var su=X("<h2> </h2>"),ou=X("<!> <!>",1),lu=X('<div class="widget"><!></div>');function au(t,e){de(e,!0);let r=Y(e,"title",3,""),s=Y(e,"value",15),l=Y(e,"labelWidth",3,13);function a(f){const m={};for(const d of Object.keys(f))m[d]=f[d].default;return m}he(()=>{!s()&&e.options&&s(a(e.options))});var c=lu(),v=B(c);{var u=f=>{var m=ou(),d=$(m);{var h=p=>{ce(p,{children:(w,b)=>{var y=su(),C=B(y);re(()=>le(C,r())),R(w,y)},$$slots:{default:!0}})};U(d,p=>{r()&&p(h)})}var g=I(d,2);He(g,17,()=>Object.keys(e.options),Xe,(p,w)=>{var b=ue();const y=T(()=>e.options[o(w)]);var C=$(b);{var M=E=>{ce(E,{get name(){return o(y).name},get label(){return o(y).label},get labelWidth(){return l()},children:(_,S)=>{var k=ue(),A=$(k);Es(A,()=>o(y).el,(N,L)=>{L(N,ze(()=>o(y).props,{get value(){return s()[o(w)]},set value(q){s(s()[o(w)]=q,!0)}}))}),R(_,k)},$$slots:{default:!0}})};U(C,E=>{o(y).hidden||E(M)})}R(p,b)}),R(f,m)};U(v,f=>{s()&&f(u)})}R(t,c),me()}var iu=X('<span style="font-weight:bold"> </span><br>',1),cu=X('<p class="dataset-info svelte-gdjwex"><!> <span>Data file:</span> <span class="file-name svelte-gdjwex"> </span><br> <span>Size:</span> <span class="file-size svelte-gdjwex"> </span></p> <!>',1);function uu(t,e){de(e,!0);let r=Y(e,"title",3,"");var s=ue(),l=$(s);{var a=c=>{ce(c,{children:(v,u)=>{var f=cu(),m=$(f),d=B(m);{var h=C=>{var M=iu(),E=$(M),_=B(E);re(()=>le(_,r())),R(C,M)};U(d,C=>{r()&&r()!==""&&C(h)})}var g=I(d,4),p=B(g),w=I(g,5),b=B(w),y=I(m,2);or(y,{get onclick(){return e.reset}}),re(()=>{O(g,"title",e.dataset.fileName),le(p,e.dataset.fileName),le(b,`${e.dataset.values.nrows??""} × ${e.dataset.values.ncols??""}`)}),R(v,f)},$$slots:{default:!0}})};U(l,c=>{e.dataset&&c(a)})}R(t,s),me()}var fu=X("<!> <!>",1),vu=X("<!> <!> <!> <!> <!> <!>",1),du=X("<!> <!>",1),mu=X("<p> </p>"),hu=X("<!> <p> </p>",1),gu=X("<p> </p>"),bu=X("<!> <!> <!>",1);function Gs(t,e){de(e,!0);let r=Y(e,"model",3,null),s=Y(e,"outliers",19,()=>[]),l=Y(e,"className",3,"Class"),a=Y(e,"classMandatory",3,!1),c=Y(e,"classUnique",3,!1),v=Y(e,"title",3,""),u=Y(e,"dataset",15),f=Y(e,"resobj",15);const m=[",",";"],d=T(()=>r()?["no","yes"]:["no","labels","values"]);let h=ae(void 0),g=ae(""),p=ae(""),w=ae(","),b=ae("no"),y=ae(!1),C=ae(!1),M=ae(null),E=ae("neutral"),_=ae("");function S(W,K,te){H(M,e.WASM().then(ee=>{f(Ds(ee,W,K,te))}).catch(ee=>{console.error(ee),f(null),H(E,"error"),H(_,ee,!0)}),!0)}function k(W,K){if(!W||W.size<10)return;const ee=W.slice(0,1e5),Z=new FileReader;Z.onload=()=>{const ne=Z.result;!ne||ne.length<0||((se=>(H(w,se[0],!0),H(y,se[1],!0),H(C,se[2],!0),H(b,se[3],!0)))(mc(ne)),H(C,a()||o(C),!0),K&&o(b)!=="no"&&H(b,"yes"))},Z.onerror=function(ne){csvString=null,H(E,"error"),H(_,ne,!0),console.error("Error reading CSV file.",ne)},Z.readAsText(ee)}function A(W){try{const K=fc(W,o(w),o(b)==="yes"?"labels":o(b),o(y),o(C),o(g),o(p));if(K.values.nrows<1)throw new Error("Dataset must have at least 1 row.");if(r()&&K.values.ncols!==r().ncols+r().exclvars.length)throw new Error("Dataset has different number of columns than the training set.");if(K.classNames.length>K.values.nrows/2)throw new Error("Dataset has too many unique "+l().toLowerCase()+" labels ("+K.classNames.length+"), check your CSV file.");if(a()&&K.classNames.length===0)throw new Error("Dataset set must have a column filled with class names.");if(c()&&K.classNames.length>1)throw new Error("Dataset set must have a column filled with only single (target) class name.");K.fileName=o(h).name.replace(/\.[^/.]+$/,""),r()&&(K.varrev=r().varrev,K.header=r().header,K.varlabels=r().varlabels,K.varvalues=r().varvalues,K.varvaluesName=r().varvaluesName,K.varvaluesUnits=r().varvaluesUnits),u(K),H(_,""),H(E,"success")}catch(K){console.error(K),u(null),H(E,"error"),H(_,K,!0)}}function N(W){const K=new FileReader;K.onload=()=>{A(K.result)},K.readAsText(o(h))}function L(){H(h,""),u(null),f(null),H(g,""),H(p,""),H(E,"neutral"),H(_,"")}he(()=>{o(h)===null?L():(k(o(h),r()),H(E,"neutral"),H(_,""))}),he(()=>{o(w)&&(H(E,"neutral"),H(_,""))}),he(()=>{if(u()&&r()&&!f()&&!o(_))try{f(S(r(),u(),s())),H(_,""),H(E,"success")}catch(W){console.error(W),u(null),f(null),H(E,"error"),H(_,W,!0)}});var q=bu(),P=$(q);{var j=W=>{var K=du(),te=$(K);Ko(te,()=>o(h)===void 0,ne=>{ce(ne,{children:(se,ve)=>{$c(se,{id:"dataFile",message:"Select CSV file with dataset",get file(){return o(h)},set file(we){H(h,we,!0)}})},$$slots:{default:!0}})});var ee=I(te,2);{var Z=ne=>{var se=vu(),ve=$(se);ce(ve,{label:"Delimiter",children:(ye,Re)=>{Nt(ye,{id:"sep",options:m,get value(){return o(w)},set value(tt){H(w,tt,!0)}})},$$slots:{default:!0}});var we=I(ve,2);ce(we,{label:"Row labels",children:(ye,Re)=>{lr(ye,{id:"hasLabels",options:["no","yes"],get value(){return o(y)},set value(tt){H(y,tt,!0)}})},$$slots:{default:!0}});var xe=I(we,2);{var qe=ye=>{ce(ye,{get label(){return`${l()??""} labels`},children:(Re,tt)=>{lr(Re,{id:"hasLabels",options:["no","yes"],get value(){return o(C)},set value(Et){H(C,Et,!0)}})},$$slots:{default:!0}})};U(xe,ye=>{a()||ye(qe)})}var ke=I(xe,2);ce(ke,{label:"Header",children:(ye,Re)=>{Nt(ye,{id:"header",get options(){return o(d)},get value(){return o(b)},set value(tt){H(b,tt,!0)}})},$$slots:{default:!0}});var Se=I(ke,2);{var _e=ye=>{var Re=fu(),tt=$(Re);ce(tt,{label:"Header name",children:(kt,Yn)=>{zl(kt,{id:"varvaluesName",placeholder:"e.g. Wavelength",get value(){return o(g)},set value(mt){H(g,mt,!0)}})},$$slots:{default:!0}});var Et=I(tt,2);ce(Et,{label:"Header units",children:(kt,Yn)=>{zl(kt,{id:"varvaluesUnits",maxLength:10,placeholder:"e.g. nm",get value(){return o(p)},set value(mt){H(p,mt,!0)}})},$$slots:{default:!0}}),R(ye,Re)};U(Se,ye=>{o(b)==="values"&&ye(_e)})}var dt=I(Se,2);ce(dt,{label:" ",children:(ye,Re)=>{ut(ye,{text:"Load",onclick:N})},$$slots:{default:!0}}),R(ne,se)};U(ee,ne=>{o(h)&&ne(Z)})}R(W,K)},F=W=>{var K=ue(),te=$(K);{var ee=Z=>{var ne=ue(),se=$(ne);ys(se,()=>o(M),ve=>{ce(ve,{children:(we,xe)=>{var qe=hu(),ke=$(qe);Ys(ke);var Se=I(ke,2),_e=B(Se);re(()=>le(_e,r()?"Loading data and apply model...":"Loading data...")),R(we,qe)},$$slots:{default:!0}})},void 0,(ve,we)=>{ce(ve,{status:"error",children:(xe,qe)=>{var ke=mu(),Se=B(ke);re(()=>le(Se,o(we))),R(xe,ke)},$$slots:{default:!0}})}),R(Z,ne)};U(te,Z=>{o(M)&&Z(ee)})}R(W,K)};U(P,W=>{u()?W(F,!1):W(j)})}var D=I(P,2);{var z=W=>{uu(W,{get dataset(){return u()},reset:L,get title(){return v()}})};U(D,W=>{u()&&W(z)})}var Q=I(D,2);{var G=W=>{ce(W,{status:"error",children:(K,te)=>{var ee=gu(),Z=B(ee);re(()=>le(Z,o(_))),R(K,ee)},$$slots:{default:!0}})};U(Q,W=>{(o(E)==="error"||o(_))&&W(G)})}R(t,q),me()}var pu=X("<!> <!> <!> <!>",1),wu=X("<p> </p>"),_u=X("<!> <p>Computing global model...</p>",1),xu=X('<p><span style="color:#a0a0a0;">PCA model:</span> </p> <!>',1),yu=X('<div class="buttons"><!> <!></div>'),Eu=X("<!> <!>",1),ku=X("<p> </p>"),Cu=X("<!> <!> <!> <!>",1);function Au(t,e){de(e,!0);let r=Y(e,"outliers",19,()=>[]),s=Y(e,"resobj",15),l=Y(e,"model",15),a=Y(e,"downloadModel",3,null),c=Y(e,"downloadResults",3,null),v=ae("neutral"),u=ae(""),f=ae(1),m=ae(!0),d=ae(!1),h=ae(void 0);async function g(L,q,P,j){H(h,e.WASM().then(F=>{H(v,"computing");const D=Os(F,L.values,q,P,j,r());D.hash=Ur(),D.exclvars=[],D.varlabels=L.varlabels,D.varindices=L.varindices,D.varvalues=L.varvalues,D.varvaluesName=L.varvaluesName,D.varvaluesUnits=L.varvaluesUnits,D.varrev=L.varrev,D.prep=[];const z=Ds(F,D,L,r());l(D),s(z),H(v,"success")}).catch(F=>{console.error(F),l(null),H(v,"error"),H(u,F,!0)}),!0)}function p(L){H(v,"neutral"),H(u,null),g(e.dataset,o(f),o(m),o(d))}function w(){H(v,"neutral"),H(h,null),s(null),l(null),H(u,null)}let b=T(()=>e.dataset?Math.min(e.dataset.values.nrows-2-r().length,e.dataset.values.ncols-1,50):null);he(()=>{e.dataset===null&&w()}),he(()=>{H(f,o(b)?Math.min(o(b),20):null,!0)});var y=Cu(),C=$(y);{var M=L=>{var q=pu(),P=$(q);ce(P,{name:"ncomp",label:"# of PCs",children:(z,Q)=>{Il(z,{id:"ncomp",min:1,get max(){return o(b)},step:1,decNum:0,get value(){return o(f)},set value(G){H(f,G,!0)}})},$$slots:{default:!0}});var j=I(P,2);ce(j,{name:"center",label:"Center",children:(z,Q)=>{lr(z,{id:"center",options:["no","yes"],get value(){return o(m)},set value(G){H(m,G,!0)}})},$$slots:{default:!0}});var F=I(j,2);ce(F,{name:"scale",label:"Scale",children:(z,Q)=>{lr(z,{id:"scale",options:["no","yes"],get value(){return o(d)},set value(G){H(d,G,!0)}})},$$slots:{default:!0}});var D=I(F,2);ce(D,{name:"create-model",label:" ",children:(z,Q)=>{ut(z,{onclick:p,text:"Create model"})},$$slots:{default:!0}}),R(L,q)};U(C,L=>{e.dataset&&!l()&&o(v)!=="computing"&&L(M)})}var E=I(C,2);{var _=L=>{var q=ue(),P=$(q);ys(P,()=>o(h),j=>{ce(j,{name:"spinner",children:(F,D)=>{var z=_u(),Q=$(z);Ys(Q),R(F,z)},$$slots:{default:!0}})},void 0,(j,F)=>{ce(j,{name:"error",status:"error",children:(D,z)=>{var Q=wu(),G=B(Q);re(()=>le(G,o(F))),R(D,Q)},$$slots:{default:!0}})}),R(L,q)};U(E,L=>{o(h)&&L(_)})}var S=I(E,2);{var k=L=>{var q=Eu(),P=$(q);ce(P,{name:"info",children:(D,z)=>{var Q=xu(),G=$(Q),W=I(B(G)),K=I(G,2);or(K,{onclick:w}),re(()=>le(W,` ${l().ncomp??""} PCs${(l().center?", centered":"")??""}${(l().scale?", scaled":"")??""}`)),R(D,Q)},$$slots:{default:!0}});var j=I(P,2);{var F=D=>{ce(D,{name:"download-buttons",label:"Download",children:(z,Q)=>{var G=yu(),W=B(G);ut(W,{onclick:()=>c()(s(),e.dataset,"train",r(),l()),text:"Results"});var K=I(W,2);ut(K,{onclick:()=>a()(l()),text:"Model"}),R(z,G)},$$slots:{default:!0}})};U(j,D=>{a()&&c()&&D(F)})}R(L,q)};U(S,L=>{l()&&L(k)})}var A=I(S,2);{var N=L=>{ce(L,{name:"error",status:"error",children:(q,P)=>{var j=ku(),F=B(j);re(()=>le(F,o(u))),R(q,j)},$$slots:{default:!0}})};U(A,L=>{(o(v)==="error"||o(u))&&L(N)})}R(t,y),me()}var qu=X('<span class="buttons svelte-t7v4gx"><!> <!></span>'),Su=X('<span class="buttons svelte-t7v4gx"><!> <!></span>'),Mu=X('<span class="buttons svelte-t7v4gx"><!> <!> <!></span>'),Nu=X("<!> <!> <!>",1);function Pu(t,e){de(e,!0);function r(f,m,d){let h=["#","excluded interval","nPCs","sensitivity","specificity","efficiency","selectivity"].join(m)+`
`;const g=f.length;for(let y=0;y<g;y++)h+=[y,y===0?"-":f[y].int,f[y].ncomp,f[y].sens,f[y].spec,f[y].eff,f[y].sel].join(m)+`
`;d!=="."&&(h=h.replace(/\./g,d));const p=new Blob([h],{type:"text/csv"}),w=window.URL.createObjectURL(p),b=document.createElement("a");b.setAttribute("href",w),b.setAttribute("download","ddsimca-love-progress.csv"),b.click()}function s(f,m){if(!m||m.length===0){Bs(f,`${f.fileName}`);return}Bs(gc(f,m),`${f.fileName}-reduced`)}function l(f,m,d){const h=d.model,g=d.simca,p=d[f];Rc(h,g,p,m,f,[])}function a(f){Lc(f.model,f.simca,f.simca.ncomp)}var c=ue(),v=$(c);{var u=f=>{var m=Nu(),d=$(m);ce(d,{label:"Outcomes",children:(p,w)=>{var b=qu(),y=B(b);ut(y,{onclick:()=>r(e.s.statsProgress,e.s.calset.sep,e.s.calset.dec),text:"Full progress"});var C=I(y,2);ut(C,{onclick:()=>a(e.s.currentRes),text:"Model"}),R(p,b)},$$slots:{default:!0}});var h=I(d,2);ce(h,{label:"Results",children:(p,w)=>{var b=Su(),y=B(b);ut(y,{onclick:()=>l("tar",e.s.tarset,e.s.currentRes),text:"Target"});var C=I(y,2);ut(C,{onclick:()=>l("alt",e.s.altset,e.s.currentRes),text:"Alt"}),R(p,b)},$$slots:{default:!0}});var g=I(h,2);ce(g,{label:"Reduced data",children:(p,w)=>{var b=Mu(),y=B(b);ut(y,{onclick:()=>s(e.s.calset,e.s.varsExcluded),text:"Train"});var C=I(y,2);ut(C,{onclick:()=>s(e.s.tarset,e.s.varsExcluded),text:"Target"});var M=I(C,2);ut(M,{onclick:()=>s(e.s.altset,e.s.varsExcluded),text:"Alt"}),R(p,b)},$$slots:{default:!0}}),R(f,m)};U(v,f=>{e.s.varsExcluded&&e.s.varsExcluded.length>0&&f(u)})}R(t,c),me()}var Tu=X("<!> <!> <!>",1),Ru=X("<p> </p>"),Lu=X("<!> <p>Computing PV-set...</p>",1),ju=X('<p><span style="color:#a0a0a0;">PV-set:</span> </p> <!> <!>',1),Iu=X("<p> </p>"),zu=X("<!> <!> <!> <!>",1);function Fu(t,e){de(e,!0);let r=Y(e,"outliers",19,()=>[]),s=Y(e,"pvset",15),l=Y(e,"pvres",15),a=ae("neutral"),c=ae(""),v=ae(Ge(["ven","rand","loo"])),u=ae("ven"),f=ae(void 0),m=e.calset.values.nrows-r().length,d=e.calset&&e.calset.values.nrows>0?[3,4,5,10,20].filter(N=>N>=m/(m-e.model.ncomp-1)&&N<=m/2):[],h=ae(Ge(d.length>0?d[0]:0));he(()=>{d.length===0&&(H(v,["loo"],!0),H(u,"loo"))});async function g(N,L,q){H(f,e.WASM().then(P=>{const j=q.type=="loo"?0:q.type=="rand"?2:1,F=ic(P,L,N.values,L.ncomp,q.nseg,j,0,r());s({classLabelsVarname:N.classLabelsVarname,classNames:N.classNames,classes:N.classes,dec:N.dec,fileName:N.fileName+"-pcv",hasClassNames:N.hasClassNames,hasLabels:N.hasLabels,header:N.header,labelsVarname:N.labelsVarname,objindices:e.calres.objindices,objlabels:e.calres.objlabels,responses:e.calres.responses,sep:N.sep,values:F,varAxisTitle:N.varAxisTitle,varindices:L.varindices,varlabels:L.varlabels,varrev:L.varrev,varvalues:L.varvalues,varvaluesName:L.varvaluesName,varvaluesUnits:L.varvaluesUnits}),l(Ds(P,L,s(),[]))}).catch(P=>{console.error(P),s(null),l(null),H(a,"error"),H(c,P,!0)}),!0)}function p(N){H(a,"neutral"),H(c,""),g(e.calset,e.model,{type:o(u),nseg:o(h)})}function w(){H(a,"neutral"),H(c,""),H(f,null),s(null),l(null)}he(()=>{e.model===null&&w()});var b=zu(),y=$(b);{var C=N=>{var L=Tu(),q=$(L);ce(q,{name:"split",label:"Split type:",children:(D,z)=>{Nt(D,{id:"cvType",get options(){return o(v)},get value(){return o(u)},set value(Q){H(u,Q,!0)}})},$$slots:{default:!0}});var P=I(q,2);{var j=D=>{ce(D,{name:"nseg",label:"Segments:",children:(z,Q)=>{Nt(z,{id:"nseg",options:d,get value(){return o(h)},set value(G){H(h,G,!0)}})},$$slots:{default:!0}})};U(P,D=>{o(u)!=="loo"&&D(j)})}var F=I(P,2);ce(F,{name:"run-button",label:" ",children:(D,z)=>{ut(D,{onclick:p,text:"Compute PV-set"})},$$slots:{default:!0}}),R(N,L)};U(y,N=>{e.model&&!s()&&o(a)!=="busy"&&N(C)})}var M=I(y,2);{var E=N=>{var L=ue(),q=$(L);ys(q,()=>o(f),P=>{ce(P,{name:"spinner",children:(j,F)=>{var D=Lu(),z=$(D);Ys(z),R(j,D)},$$slots:{default:!0}})},void 0,(P,j)=>{ce(P,{name:"error",status:"error",children:(F,D)=>{var z=Ru(),Q=B(z);re(()=>le(Q,o(j))),R(F,z)},$$slots:{default:!0}})}),R(N,L)};U(M,N=>{o(f)&&N(E)})}var _=I(M,2);{var S=N=>{ce(N,{name:"info",children:(L,q)=>{var P=ju(),j=$(P),F=I(B(j)),D=I(j,2);Bc(D,{onclick:()=>Bs(s(),e.calset.fileName+"-pv")});var z=I(D,2);or(z,{onclick:w}),re(()=>le(F,` ${s().values.nrows??""} × ${s().values.ncols??""}, ${o(u)??""}
      ${(o(u)!=="loo"?o(h)+" seg":"")??""}`)),R(L,P)},$$slots:{default:!0}})};U(_,N=>{s()&&N(S)})}var k=I(_,2);{var A=N=>{ce(N,{name:"error",status:"error",children:(L,q)=>{var P=Iu(),j=B(P);re(()=>le(j,o(c))),R(L,P)},$$slots:{default:!0}})};U(k,N=>{o(a)==="error"&&o(c)&&N(A)})}R(t,b),me()}var Vu=X('<tr class="global svelte-16n1t3l"><td class="svelte-16n1t3l">0</td><td class="svelte-16n1t3l">-</td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Ou=X('<tr class="global svelte-16n1t3l"><td class="svelte-16n1t3l"></td><td class="svelte-16n1t3l">-</td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr> <tr class="svelte-16n1t3l"><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td><td class="svelte-16n1t3l">...</td></tr>',1),Du=X('<tr><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Bu=X("<!> <!>",1),Wu=X('<tr class="selected svelte-16n1t3l"><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td><td class="svelte-16n1t3l"> </td></tr>'),Uu=X('<table class="svelte-16n1t3l"><thead><tr class="svelte-16n1t3l"><th class="svelte-16n1t3l">#</th><th class="svelte-16n1t3l">int</th><th class="svelte-16n1t3l">#PCs</th><th class="svelte-16n1t3l">sens</th><th class="svelte-16n1t3l">spec</th><th class="svelte-16n1t3l">eff</th><th class="svelte-16n1t3l">sel</th></tr></thead><tbody><!><!></tbody></table>');function Yu(t,e){de(e,!0);const r=5,s=T(()=>e.s.statsProgress?e.s.statsProgress.length:0),l=T(()=>o(s)-r+1),a=T(()=>Wr(o(l)<=0?0:o(l),o(s)-1)),c=T(()=>e.s.outcomes&&e.s.outcomes.status==="done"&&e.s.intSelected>=0?{i:o(s),ncomp:e.s.nComp,int:e.s.intSelected+1,sens:e.s.outcomes.sens.val.getcolumn(e.s.nComp).v[e.s.intSelected],spec:e.s.outcomes.spec.val.getcolumn(e.s.nComp).v[e.s.intSelected],eff:e.s.outcomes.eff.val.getcolumn(e.s.nComp).v[e.s.intSelected],sel:e.s.outcomes.sel.val.getcolumn(e.s.nComp).v[e.s.intSelected]}:null);var v=ue(),u=$(v);{var f=m=>{var d=Uu(),h=I(B(d)),g=B(h);{var p=C=>{var M=Vu(),E=I(B(M),2),_=B(E),S=I(E),k=B(S),A=I(S),N=B(A),L=I(A),q=B(L),P=I(L),j=B(P);re((F,D,z,Q)=>{le(_,e.s.nComp),le(k,F),le(N,D),le(q,z),le(j,Q)},[()=>e.s.statsGlobal.sens[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.spec[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.eff[e.s.nComp-1].toFixed(3),()=>e.s.statsGlobal.sel[e.s.nComp-1].toFixed(3)]),R(C,M)},w=C=>{var M=Bu(),E=$(M);{var _=k=>{var A=Ou(),N=$(A),L=B(N);L.textContent="0";var q=I(L,2),P=B(q),j=I(q),F=B(j),D=I(j),z=B(D),Q=I(D),G=B(Q),W=I(Q),K=B(W);re((te,ee,Z,ne)=>{le(P,e.s.statsProgress[0].ncomp),le(F,te),le(z,ee),le(G,Z),le(K,ne)},[()=>e.s.statsProgress[0].sens.toFixed(3),()=>e.s.statsProgress[0].spec.toFixed(3),()=>e.s.statsProgress[0].eff.toFixed(3),()=>e.s.statsProgress[0].sel.toFixed(3)]),R(k,A)};U(E,k=>{o(l)>0&&k(_)})}var S=I(E,2);He(S,17,()=>o(a),Xe,(k,A)=>{var N=Du();let L;var q=B(N),P=B(q),j=I(q),F=B(j),D=I(j),z=B(D),Q=I(D),G=B(Q),W=I(Q),K=B(W),te=I(W),ee=B(te),Z=I(te),ne=B(Z);re((se,ve,we,xe,qe)=>{L=vt(N,1,"svelte-16n1t3l",null,L,se),le(P,o(A)),le(F,o(A)>0?e.s.statsProgress[o(A)].int:"-"),le(z,e.s.statsProgress[o(A)].ncomp),le(G,ve),le(K,we),le(ee,xe),le(ne,qe)},[()=>({global:o(A)==0,current:o(A)===e.s.statsProgress.length-1}),()=>e.s.statsProgress[o(A)].sens.toFixed(3),()=>e.s.statsProgress[o(A)].spec.toFixed(3),()=>e.s.statsProgress[o(A)].eff.toFixed(3),()=>e.s.statsProgress[o(A)].sel.toFixed(3)]),R(k,N)}),R(C,M)};U(g,C=>{e.s.statsProgress?C(w,!1):C(p)})}var b=I(g);{var y=C=>{var M=Wu(),E=B(M),_=B(E),S=I(E),k=B(S),A=I(S),N=B(A),L=I(A),q=B(L),P=I(L),j=B(P),F=I(P),D=B(F),z=I(F),Q=B(z);re((G,W,K,te)=>{le(_,o(c).i),le(k,o(c).int),le(N,o(c).ncomp),le(q,G),le(j,W),le(D,K),le(Q,te)},[()=>o(c).sens.toFixed(3),()=>o(c).spec.toFixed(3),()=>o(c).eff.toFixed(3),()=>o(c).sel.toFixed(3)]),R(C,M)};U(b,C=>{o(c)&&C(y)})}R(m,d)};U(u,m=>{e.s.statsGlobal&&e.s.nComp&&m(f)})}R(t,v),me()}const Gu={small:30,medium:40,large:50,xlarge:60},Hu={small:5,medium:8,large:12,xlarge:15},Ku={small:6,medium:10,large:14,xlarge:18},Hs={small:4,medium:6,large:8,xlarge:10},Xu={small:12,medium:15,large:19,xlarge:21},Fl={small:11,medium:15,large:17,xlarge:19},Gr={small:["0","3,3","1,1","3,1,1,1"],medium:["0","5,5","2,2","5,2,2,2"],large:["0","7,7","3,3","7,3,2,3"],xlarge:["0","9,9","4,4","9,3,3,3"]},ar=["●","◼","▲","▼","⬥","＋","✳","✕"],Qu=.8,Vl=.5,Ju={small:5,medium:8,large:12,xlarge:15},wt={MIDDLEGRAY:"#dadada",DARKGRAY:"#606060",LEGEND:"#303030",PRIMARY:"#2679B2",PRIMARY_TEXT:"#333"};function Ol(t,e){return Array.isArray(t)&&t.length===e&&!t.some(r=>r===void 0)&&!t.some(r=>isNaN(r))}function Dl(t,e){if(t!=null&&(Array.isArray(t)&&(t=Qe(t)),!(!Pe(t)||t.length<1)))return t.apply(r=>Qs((r-e[1])*e[0]+e[2])).v}function at(t,e){return Dl(t,e.coords)}function Bl(t,e){return Dl(t,e.objects)}function Wl(t,e){if(t!=null&&(Array.isArray(t)&&(t=Qe(t)),!(!Pe(t)||t.length<1)))return t.apply(r=>(r-e[2])/e[0]+e[1]).v}function Ul(t,e){return Wl(t,e.coords)}function Yl(t,e){return Wl(t,e.objects)}function Ks(t){return t===0?"":`<tspan>&times;10</tspan><tspan font-size="0.75em" dy="-0.5em">${t.toString()}</tspan>`}function Cn(t){if(t===Math.round(t))return t;if(Math.abs(t)>10**6)return Math.round(t);if(Math.abs(t)<10**-6)return t;let e=t.toPrecision(10);return e=e.replace(/\.?0+$/,""),parseFloat(e)}function Xs(t){if(t===void 0)return[0,void 0];if(t.length<1)return[0,void 0];if(t.length===1)return[0,[t[0].toString()]];let e=Cn(Math.abs(Bn(ll(t)))),r=0;if(e>=1)return e<100?[0,Array.from(t).map(a=>a.toFixed(0))]:(r=Math.ceil(Cn(Math.log10(e)))-2,[r,Array.from(t).map(a=>(a/Math.pow(10,r)).toFixed(0))]);let s=Math.ceil(-Cn(Math.log10(e)));return s<=2?[0,Array.from(t).map(l=>l.toFixed(s))]:(r=s-2,s=2,Cn(Math.abs(En(t)))<=10?[-r,Array.from(t).map(l=>(l*Math.pow(10,r)).toFixed(s))]:[-r,Array.from(t).map(l=>(l/Math.pow(10,r)).toString())])}function It(t,e,r){return Array.isArray(t)&&(t=Qe(t)),Pe(t)?t.length<1?(console.error(e+": vector with coordinates is empty."),null):r&&t.length!==r?(console.error(e+": vector does not have the expected length of "+r+"."),null):t:(console.error(e+": coordinates must be provided as array or instance of Vector class."),null)}function Zu(t,e,r,s){if(!t||!e||t.length!==e.length)return console.error("val2p: provided coordinate values are not correct."),null;const l=r.coords,a=s.coords;let c="";for(let v=0;v<t.length;v++){const u=Qs((t.v[v]-l[1])*l[0]+l[2]),f=Qs((e.v[v]-a[1])*a[0]+a[2]);c+=u+","+f+" "}return c}function Gl(t,e){return t?Array.isArray(t)?!e||e.length<1?[null,"tick labels must be accompanied with tick values."]:e.v.length!==t.length?[null,"number of tick labels and values should be the same."]:[t.map(r=>cr(r)),""]:[null,"tick labels must be provided as array."]:[null,""]}function Hl(t,e){if(Array.isArray(t)&&(t=Qe(t)),!Pe(t))return[null,"tick values must be provided as an array or as a vector."];if(t.v.some(c=>isNaN(c)))return[null,"tick values must be numeric"];const r=new Set(t.v);if(t.length!==r.size)return[null,"ticks values must be unique."];const s=e[0]<e[1]?e[0]:e[1],l=e[0]<e[1]?e[1]:e[0],a=t.filter(c=>c>=s&c<=l);return a.length!==t.length?[null,"some of ticks values are outside axis limits."]:[a,""]}function Kl(t,e,r,s,l,a){l==null&&(l=!1),a===void 0&&(a=1e-4);const c=e[0]<e[1]?e:[e[1],e[0]];if(t)return t;if(typeof c!="object"||c[0]===void 0||c[1]===void 0){console.error("getAxisTicks: provided axis limits are not valid.");return}const v=Math.abs(c[1]-c[0])*a,u=c[1]-c[0]-2*v,f=Math.floor(Math.log10(u)),m=1/Math.pow(10,f-1),d=Math.round(u*m)/m;let h=$u(d/r);l&&(Math.abs(c[1]-c[0])<=1?console.error('getAxisTicks: parameter "whole" will be ignored as axis limits are too narrow to fit whole ticks.'):(h<1&&(h=1),h=Math.round(h)));let g=Math.ceil((c[0]+v)/h)*h,p=Math.floor((c[1]-v)/h)*h;Math.abs(c[0]-g)<h/10&&(g=g+h),Math.abs(c[1]-p)<h/10&&(p=p-h),r=Math.ceil(Cn((p-g)/h))+1,t=Ae.zeros(r);for(let w=0;w<r;w++)t.v[w]=g+h*w;if(Math.abs(h)<1){const w=Math.pow(10,1+Math.round(-Math.log10(h)));t=t.apply(b=>Math.round((b+Number.EPSILON)*w)/w)}return t.filter(w=>w>=c[0]&w<=c[1])}function $u(t,e){const r=Math.floor(Math.log10(t)),s=t/Math.pow(10,r);let l;return s<=1?l=1:s<=2?l=2:s<=5?l=5:l=10,l*Math.pow(10,r)}function Qs(t){return Math.round(t*10)/10}function ef(t,e){return e<300.2||t<400.2?"small":e<400.2||t<700.2?"medium":e<650.2||t<850.2?"large":"xlarge"}function Xl(t,e){return t<400.2?"small":t<700.2?"medium":t<900.2?"large":"xlarge"}function tf(){const t=new Int32Array(256);for(let e=0;e<256;e++){let r=e;for(let s=0;s<8;s++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t}function nf(t){let e=-1,r=tf();for(let s=0;s<t.length;s++)e=r[(e^t[s])&255]^e>>>8;return e^-1}function rf(t,e){const r=new Uint8Array(13);e*=39.3701,r[0]=112,r[1]=72,r[2]=89,r[3]=115,r[4]=e>>>24,r[5]=e>>>16,r[6]=e>>>8,r[7]=e&255,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;const s=nf(r),l=new Uint8Array(4);l[0]=s>>>24,l[1]=s>>>16,l[2]=s>>>8,l[3]=s&255;const a=new Uint8Array(4);a[0]=0,a[1]=0,a[2]=0,a[3]=9;const c=new Uint8Array(54);return c.set(t,0),c.set(a,33),c.set(r,37),c.set(l,50),c}function sf(t,e){const r=t.split(","),s=r[0],l=r[1],a=33/3*4,c=l.substring(0,a),v=l.substring(a),u=atob(c),f=new Uint8Array(u.length);for(let h=0;h<f.length;h++)f[h]=u.charCodeAt(h);const m=rf(f,e),d=btoa(String.fromCharCode(...m));return[s,",",d,v].join("")}function of(t,e,r,s,l){if(r||(r=10),s||(s=10),l||(l=300),r<1||r>30)return console.error('Parameter "width" must be between 1 and 30 (cm).'),null;if(s<1||s>30)return console.error('Parameter "height" must be between 1 and 30 (cm).'),null;if(l<50||l>1200)return console.error('Parameter "res" must be between 50 and 1200 (ppi).'),null;if(!t||!(t instanceof SVGElement))return console.error('Parameter "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const a=r/2.54*l,c=s/2.54*l;setTimeout(()=>{const v=t.clientHeight,u=t.clientWidth;let f=Math.max(a/u,c/v),m=1;f<1&&(m=f,f=1);const d=document.createElement("canvas"),h=d.getContext("2d");d.width=u*(m<1?m:f),d.height=v*(m<1?m:f),t.setAttribute("width",u*f),t.setAttribute("height",v*f),h.fillStyle="white",h.fillRect(0,0,d.width,d.height),h.scale(f,f);const g=new XMLSerializer().serializeToString(t),p=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(p),b=new Image;b.onload=function(){m<0&&(b.width=b.width*m,b.height=b.height*m),h.drawImage(b,0,0,d.width,d.height);const y=d.toDataURL("image/png"),C=sf(y,l),M=document.createElement("a");M.href=C,M.download=`${e}.png`,M.click()},b.src=w},20)}function lf(t,e){if(!t||!(t instanceof SVGElement))return console.error('Variable "svg" is not an instance of SVGElement.'),null;(!e||e.trim()==="")&&(e="plot");const r=t.clientHeight,s=t.clientWidth;t.setAttribute("width",s+"px"),t.setAttribute("height",r+"px"),t.setAttribute("viewBox",`0 0 ${s} ${r}`);const l=new Blob([t.outerHTML],{type:"image/svg+xml"}),a=window.URL.createObjectURL(l),c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",`${e}.svg`),c.click()}function af(t,e,r,s){const l=t.textContent;navigator.clipboard.write([new ClipboardItem({"image/png":cf(e,r,s)})]).then(()=>{t.classList.add("copied"),t.textContent="✓ done",setTimeout(()=>{t.classList.remove("copied"),t.textContent=l},500)},a=>{console.error(a),t.classList.add("error"),t.textContent="x copy",setTimeout(()=>{t.classList.remove("error"),t.textContent=l},500)}).catch(a=>console.error(a))}async function cf(t,e,r){const s=t.clientHeight,l=t.clientWidth,a=Math.max(e/l,r/s),c=document.createElement("canvas"),v=c.getContext("2d");return c.width=l*a,c.height=s*a,v.scale(a,a),t.setAttribute("width",c.width),t.setAttribute("height",c.height),await new Promise((f,m)=>{const d=new XMLSerializer().serializeToString(t),h=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),g=window.URL||window.webkitURL||window,p=g.createObjectURL(h),w=new Image;w.onload=function(){v.drawImage(w,0,0,c.width,c.height),g.revokeObjectURL(p),c.toBlob(function(b){b?f(b):m(new Error("Failed to create blob"))},"image/png")},w.onerror=function(b){m(b)},w.src=p})}function uf(t,e,r,s,l){let a=l.ticks,c=l.tickLabels,v=0;const u=Kl(a,t,Hu[r.x],!0,l.whole),f=u.length,m=Yl([Hs[r.plot]],s)[0],d=Ae.fill(e[0],f),h=d.add(m),g=Ae.fill(e[1],f);if(c||(a?(v=0,c=a.v.map(A=>Cn(A).toString())):[v,c]=Xs(u.v)),!c||c.length!==u.length)return console.error('XAxis: "tickLabels" must be a array of the same size as ticks.'),null;const p=[[u,d],[u,g]],w=[[Qe([t[0]]),Qe([e[0]])],[Qe([t[1]]),Qe([e[0]])]],b=[[u,h],[u,d]],y=(t[1]-t[0])*.01,C=[[null,null],[[t[1]-(v>9?1:0)*y],[d.v[f-1]]]],M=Ks(v),E=c.length,_=Math.abs(t[1]>t[0]?t[1]-u.v[E-1]:t[1]-u.v[0]),S=Math.abs(t[1]-t[0]),k=Math.abs(u.v[1]-u.v[0]);if(M.length>0&&_<S*.1&&_<k*.5){const A=t[1]>t[0]?E-1:0;c[A]=" "}return{grid:p,axisLine:w,tickCoords:b,tfCoords:C,ticks:a,tickLabels:c,tickFactor:v,tfLabel:M}}function ff(t,e,r,s,l){let a=l.ticks,c=l.tickLabels,v=0;const u=Kl(l.ticks,e,Ku[r.y],!0,l.whole),f=u.length,m=Yl([Hs[r.plot]],s)[0],d=Ae.fill(t[0],f),h=d.add(m),g=Ae.fill(t[1],f);if(c||(a?(v=0,c=a.v.map(k=>Cn(k).toString())):[v,c]=Xs(u.v)),c.length!==u.length)return console.error('YAxis: "tickLabels" must be a array of the same size as ticks.'),null;const p=[[d,u],[g,u]],w=[[Qe([t[0]]),Qe([e[0]])],[Qe([t[0]]),Qe([e[1]])]],b=[[d,u],[h,u]],y=[[[],[]],[[h.v[f-1]+(Math.abs(v)>9?3:2)*m],[e[1]]]],C=Ks(v),M=c.length,E=Math.abs(e[1]>e[0]?e[1]-u.v[M-1]:e[1]-u.v[0]),_=Math.abs(e[1]-e[0]),S=Math.abs(u.v[1]-u.v[0]);if(C.length>0&&E<_*.1&&E<S*.5){const k=e[1]>e[0]?M-1:0;c[k]=" "}return{grid:p,axisLine:w,tickCoords:b,tfCoords:y,ticks:a,tickLabels:c,tickFactor:v,tfLabel:C}}function vf(t){if(!t.breaks)return console.error("ColormapLegend: breaks values must be provided."),null;const e=Pe(t.breaks)?t.breaks.v:t.breaks;if(e.length<2)return console.error("ColormapLegend: incorrect breaks values."),null;if(!t.colmap)return console.error('ColormapLegend: values for "colmap" parameter must be provided.'),null;if(!Array.isArray(t.colmap))return console.error('ColormapLegend: parameter "colmap" must be array with colors.'),null;if(t.colmap.length!==e.length-1)return console.error('ColormapLegend: number of color values in "colmap" does not match number of intervals defined by breaks.'),null;const r=t.colmap;let s,l;if(t.labels?(s=t.labels,l=0):[l,s]=Xs(e),!(s.length===e.length-1||s.length===e.length))return console.error('ColormapLegend: number of values in "labels" should be equal to or by one less than number of values in "breaks".'),null;const a=s.length===r.length;return{colmap:r,breaks:e,labels:s,isCentered:a,labelsFactor:l,fontSize:t.fontSize,labelColor:t.labelColor}}function df(t,e,r,s){const l=t.colmap.length,a=e*Qu,c=a/l,v=r[1]+(e-a)*.5,u=Ju[s.y],f=r[2]+u*Vl,m=f+u*(1+Vl),d=t.isCentered?c/2:0;return{start:v,top:f,height:u,width:c,dxl:d,ltop:m}}function ir(t,e,r){if(!t||!e||!r||typeof r!="function")return;const s=t.target;if(s.tagName===e){const l=Array.prototype.indexOf.call(s.parentNode.children,s);if(l<0)return;r(l),t.stopPropagation()}}function mf(t,e){const s=document.createElement("canvas").getContext("2d");return s.font=e,s.measureText(t.replace(/<(.|\n)*?>/g,"")).width}function hf(t,e){const r="Arial",s=e/8,l=e*1.5,a=Array(t.length),c=Array(t.length);let v=0,u=0,f=0;for(let d=0;d<t.length;d++){const h=mf("  "+t[d].label+"  ",e+"px "+r);f=h>f?h:f;const g=e*t[d].labelHeight+2*s;a[d]=g,c[d]=v,v=v+g,u=u+g}const m=l+2*s+f;return[c,a,l,s,u,m]}function gf(t,e,r,s,l){const[a,c,v,u,f,m]=hf(t.items,s*t.fontSize),d=t.position.includes("left")?e[0]+l:t.position.includes("right")?e[1]-m-l:(e[1]+e[0]-m)*.5,h=t.position.includes("top")?r[1]+l:t.position.includes("bottom")?r[0]-f-l:(r[1]+r[0]-f)*.5;return{lgl:d,lgt:h,lgw:m,lgh:f,ely:a,elh:c,elw:v,elp:u}}function cr(t){if(!t||t.length<1)return t;function e(a){return'<tspan font-size="0.75em" dy="-0.5em">'+a+'</tspan><tspan dy="0.4em"> </tspan>'}function r(a){return'<tspan font-size="0.75em" dy="0.5em">'+a+'</tspan><tspan dy="-0.4em"> </tspan>'}let s=0,l="";for(;s<t.length;){const a=t[s];if((a==="^"||a==="_")&&s<t.length-1){const c=a==="^";if(s++,t[s]==="("){let v=s+1;for(;v<t.length&&t[v]!==")";)v++;const u=t.slice(s+1,v);l+=c?e(u):r(u),s=v+1}else if(t[s]==="-"||t[s]==="–"){const v=t.slice(s,s+2);l+=c?e(v):r(v),s=s+2}else l+=c?e(t[s]):r(t[s]),s++}else l+=a,s++}return l}var bf=ge('<line vector-effect="non-scaling-stroke"></line>'),pf=ge("<g></g>");function Js(t,e){de(e,!0);let r=Y(e,"lineCoords",19,()=>[]),s=Y(e,"lineColor",19,()=>wt.DARKGRAY),l=Y(e,"lineType",3,1),a=Y(e,"lineWidth",3,1),c=Y(e,"className",3,"");const v=Vt("axes");let u=T(()=>at(r()[0][0],v.tX())),f=T(()=>at(r()[1][0],v.tX())),m=T(()=>at(r()[0][1],v.tY())),d=T(()=>at(r()[1][1],v.tY())),h=T(()=>`stroke:${s()};stroke-width: ${a()}px;stroke-dasharray:${Gr[v.scales().plot][l()-1]}`);var g=ue(),p=$(g);{var w=b=>{var y=pf();He(y,21,()=>o(u),Xe,(C,M,E)=>{var _=bf();re(()=>{O(_,"x1",o(u)[E]),O(_,"x2",o(f)[E]),O(_,"y1",o(m)[E]),O(_,"y2",o(d)[E]),Dt(_,o(h))}),R(C,_)}),re(()=>vt(y,0,xi(c()))),R(b,y)};U(p,b=>{o(u)&&o(m)&&o(f)&&b(w)})}R(t,g),me()}var wf=ge('<text text-anchor="middle"><!></text>'),_f=ge("<text><!></text>"),xf=ge("<text><!></text>"),yf=ge('<g class="tick-labels"><!></g>');function Ql(t,e){de(e,!0);let r=Y(e,"pos",3,1),s=Y(e,"las",3,1),l=T(()=>["middle","middle","start","middle","end"][r()]),a=T(()=>`fill:${e.textColor};`);const c=Vt("axes");let v=T(()=>at(e.tickCoords[1][0],c.tX())),u=T(()=>at(e.tickCoords[1][1],c.tY())),f=T(()=>Fl[c.scales().plot]),m=T(()=>[0,0,o(f),0,-o(f)][r()]),d=T(()=>[0,o(f),0,-o(f),0][r()]);var h=yf(),g=B(h);{var p=b=>{var y=ue(),C=$(y);He(C,17,()=>o(v),Xe,(M,E,_)=>{var S=wf();O(S,"data-id",_),O(S,"dx",0);var k=B(S);xt(k,()=>e.tickLabels[_],!0,!1),re(()=>{O(S,"x",o(v)[_]),O(S,"y",o(u)[_]),O(S,"dy",o(m)*1.25),O(S,"transform",`rotate(-90, ${o(v)[_]}, ${o(u)[_]})`)}),R(M,S)}),R(b,y)},w=(b,y)=>{{var C=E=>{var _=ue(),S=$(_);He(S,17,()=>o(v),Xe,(k,A,N)=>{var L=_f();O(L,"data-id",N),O(L,"dy",0),O(L,"text-anchor","end");var q=B(L);xt(q,()=>e.tickLabels[N],!0,!1),re(()=>{O(L,"x",o(v)[N]),O(L,"y",o(u)[N]),O(L,"dx",-o(d)/2),O(L,"transform",`rotate(-90, ${o(v)[N]}, ${o(u)[N]})`)}),R(k,L)}),R(E,_)},M=E=>{var _=ue(),S=$(_);He(S,17,()=>o(v),Xe,(k,A,N)=>{var L=xf();O(L,"data-id",N);var q=B(L);xt(q,()=>e.tickLabels[N],!0,!1),re(()=>{O(L,"x",o(v)[N]),O(L,"y",o(u)[N]),O(L,"dx",o(m)),O(L,"dy",o(d)),O(L,"text-anchor",o(l))}),R(k,L)}),R(E,_)};U(b,E=>{s()===2&&r()===1?E(C):E(M,!1)},y)}};U(g,b=>{s()===2&&r()===4?b(p):b(w,!1)})}re(()=>Dt(h,o(a))),R(t,h),me()}const Ef=(t,e=gt,r=gt)=>{var s=Nf();T(()=>r().height*1.25);const l=T(()=>e().colmap.length);var a=$(s);He(a,17,()=>e().colmap,Xe,(m,d,h)=>{var g=qf();const p=T(()=>r().start+h*r().width);var w=$(g),b=I(w);O(b,"dy",0);var y=B(b);xt(y,()=>e().labels[h],!0,!1),re(()=>{O(w,"x",o(p)),O(w,"y",r().top),O(w,"width",r().width),O(w,"height",r().height),O(w,"fill",o(d)),O(b,"x",o(p)),O(b,"y",r().ltop),O(b,"dx",r().dxl),O(b,"fill",e().labelColor),O(b,"font-size",e().fontSize+"em")}),R(m,g)});var c=I(a);{var v=m=>{var d=Sf();const h=T(()=>r().start+o(l)*r().width);O(d,"dx",0),O(d,"dy",0);var g=B(d);xt(g,()=>e().labels[o(l)],!0,!1),re(()=>{O(d,"x",o(h)),O(d,"y",r().ltop),O(d,"fill",e().labelColor),O(d,"font-size",`${e().fontSize??""}em`)}),R(m,d)};U(c,m=>{e().isCentered||m(v)})}var u=I(c);{var f=m=>{var d=Mf();const h=T(()=>r().start+o(l)*r().width);var g=B(d);xt(g,()=>Ks(e().labelsFactor),!0,!1),re(()=>{O(d,"x",o(h)),O(d,"y",r().ltop),O(d,"fill",e().labelColor),O(d,"font-size",`${e().fontSize??""}em`)}),R(m,d)};U(u,m=>{e().labelsFactor!==0&&m(f)})}R(t,s)};function Jl(t,e,r){e(t,r())}function Zl(t,e,r){e(t,r())}function $l(t,e,r){e(t,r())}function Hr(t,e,r){e(t,r())}async function ea(t,e,r,s){af(t.target,o(e),r(),s())}function ta(t,e,r){lf(o(e),r())}function na(t,e,r,s,l,a){of(o(e),r(),s(),l(),a())}var kf=ge('<text fill="crimson" text-anchor="middle"> </text>'),Cf=ge('<text dy="10px" fill="crimson" text-anchor="middle" dominant-baseline="hanging"> </text>'),Af=ge("<!><!><!><!><!>",1),qf=ge('<rect></rect><text dominant-baseline="hanging" text-anchor="middle"><!></text>',1),Sf=ge('<text dominant-baseline="hanging" text-anchor="middle"><!></text>'),Mf=ge('<text dx="1.2em" dy="-0.25em" dominant-baseline="hanging" text-anchor="right"><!></text>'),Nf=ge("<!><!><!>",1),Pf=ge("<line></line>"),Tf=ge('<text dominant-baseline="middle" text-anchor="middle"> </text>'),Rf=ge('<svg><!><!><text class="legend-text" xml:space="preserve" dominant-baseline="middle" text-anchor="start"><!></text></svg>'),Lf=ge('<svg><rect height="100%" width="100%"></rect><!></svg>'),jf=ge('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),If=ge('<text dominant-baseline="middle" style="font-size:1.1em;"><!></text>'),zf=ge('<text dominant-baseline="middle" style="font-size:1.2em;"><!></text>'),Ff=ge('<g class="plot-labels"><!><!><!></g>'),Vf=ge('<g class="axis x-axis"><!></g>'),Of=ge('<g class="axis y-axis"><!></g>'),Df=ge('<rect fill="transparent" id="axes-box"></rect>'),Bf=ge('<rect stroke="transparent" fill="transparent" id="axes-box"></rect>'),Wf=ge('<g class="colormap-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Uf=ge('<g class="group-legend" style="stroke:0;stroke-width:0px;"><!></g>'),Yf=ge('<!><!><g class="axes-box"><!></g><g class="axes-content svelte-1jtdxd0"><!></g><!><!>',1),Gf=X('<p class="message-error svelte-1jtdxd0">Axes component was not properly initialized. <br> Check that you defined axes limits and margins correctly.</p>'),Hf=X('<div class="download-links svelte-1jtdxd0"><button class="svelte-1jtdxd0">⇩ svg</button> <button class="svelte-1jtdxd0">⇩ png</button> <button class="svelte-1jtdxd0">⧉ copy</button></div>'),Kf=X(`<div><svg class="plot svelte-1jtdxd0" xmlns="http://www.w3.org/2000/svg"><style>.plot {
            font-family: Arial, Helvetica, sans-serif;
         }

         .plot-labels text {
            font-weight:bold;
            text-anchor:middle;
            user-select: none;
         }

         .series-points text {
            /* dominant-baseline: central;
            alignment-baseline: central */
         }

         .tick-labels text,
         .tick-labels tspan,
         .series-textlabels text,
         .series-textlabels tspan,
         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }


         .colormap-legend text,
         .colormap-legend tspan,
         .series-points text,
         .series-points tspan {
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
         }

         .series-points1 text,
         .series-points1 tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
         }

         .series-points2 text,
         .series-points2 tspan {
            dominant-baseline: central;
            alignment-baseline: central;
         }

         .series-text text,
         .series-text tspan {
            dominant-baseline: middle;
            alignment-baseline: middle;
            text-anchor: middle;
            user-select: none;
            -webkit-user-select: none;
         }

         .tick-labels text,
         .tick-labels tspan {
            user-select: none;
            -webkit-user-select: none;
         }</style><!><svg preserveAspectRatio="none" class="axes"><defs><clipPath><rect></rect></clipPath></defs><!></svg></svg> <!></div>`);function Xf(t,e){de(e,!0);const r=(fe,Ce=gt,Ee=gt)=>{var Je=ue(),ht=$(Je);{var Yt=At=>{var Ve=ue(),Me=$(Ve);{var it=Ze=>{var We=kf(),Ft=B(We);re(()=>{O(We,"x",o(ne)[0]-10),O(We,"y",o(ee)),O(We,"transform",`rotate(-90, ${o(ne)[0]-10}, ${o(ee)})`),le(Ft,Ee().error)}),R(Ze,We)},ot=Ze=>{var We=Cf(),Ft=B(We);re(()=>{O(We,"x",o(Z)),O(We,"y",o(se)[0]),le(Ft,Ee().error)}),R(Ze,We)};U(Me,Ze=>{Ee().pos===4?Ze(it):Ze(ot,!1)})}R(At,Ve)},Ct=At=>{var Ve=Af(),Me=$(Ve);{var it=ie=>{Js(ie,{get lineCoords(){return Ce().grid},get lineColor(){return wt.MIDDLEGRAY},lineType:3})};U(Me,ie=>{Ee().showGrid&&ie(it)})}var ot=I(Me);Js(ot,{get lineCoords(){return Ce().axisLine},get lineColor(){return wt.DARKGRAY},lineType:1});var Ze=I(ot);Js(Ze,{get lineCoords(){return Ce().tickCoords},get lineColor(){return wt.DARKGRAY},lineType:1});var We=I(Ze);{var Ft=ie=>{Ql(ie,{get las(){return Ee().las},get pos(){return Ee().pos},get tickCoords(){return Ce().tickCoords},get tickLabels(){return Ce().tickLabels},get tickColor(){return wt.DARKGRAY},get hideLast(){return Ee().hideLast}})};U(We,ie=>{Ce().tickCoords.length===2&&Ce().tickLabels.length===Ce().tickCoords[1][0].length&&ie(Ft)})}var nt=I(We);{var Ie=ie=>{const ft=T(()=>[Ce().tfLabel]);Ql(ie,{get pos(){return Ee().pos},get tickCoords(){return Ce().tfCoords},get tickLabels(){return o(ft)},get textColor(){return wt.DARKGRAY}})};U(nt,ie=>{Ce().tickFactor!==0&&ie(Ie)})}R(At,Ve)};U(ht,At=>{Ee().error?At(Yt):At(Ct,!1)})}R(fe,Je)},s=(fe,Ce=gt,Ee=gt)=>{var Je=Lf();const ht=T(()=>Ee().elw+2*Ee().elp),Yt=T(()=>Ee().elp),Ct=T(()=>Ee().elh),At=T(()=>Ee().ely);var Ve=B(Je),Me=I(Ve);He(Me,17,()=>Ce().items,Xe,(it,ot,Ze)=>{var We=Rf();O(We,"x",0);var Ft=B(We);{var nt=Gt=>{var V=Pf();re(()=>{O(V,"x1",o(Yt)),O(V,"x2",o(ht)-o(Yt)),O(V,"y1",o(Ct)[Ze]/2),O(V,"y2",o(Ct)[Ze]/2),O(V,"stroke",o(ot).line.lineColor),O(V,"stroke-width",o(ot).line.lineWidth),O(V,"stroke-dasharray",o(q)[o(ot).line.lineType-1])}),R(Gt,V)};U(Ft,Gt=>{o(ot).line&&Gt(nt)})}var Ie=I(Ft);{var ie=Gt=>{var V=Tf(),J=B(V);re(()=>{O(V,"x",o(ht)/2),O(V,"y",o(Ct)[Ze]/2),O(V,"fill",o(ot).point.faceColor),O(V,"stroke-width",o(ot).point.lineWidth),O(V,"stroke",o(ot).point.lineColor),O(V,"font-size",o(N)),le(J,ar[o(ot).point.marker-1])}),R(Gt,V)};U(Ie,Gt=>{o(ot).point&&Gt(ie)})}var ft=I(Ie),oo=B(ft);xt(oo,()=>o(ot).label,!0,!1),re(()=>{O(We,"y",o(At)[Ze]),O(We,"width",Ee().lgw),O(We,"height",o(Ct)[Ze]),O(ft,"x",o(ht)+o(Yt)),O(ft,"y",o(Ct)[Ze]/2),O(ft,"fill",wt.LEGEND),O(ft,"font-size",`${Ce().fontSize??""}em`)}),R(it,We)}),re(()=>{O(Je,"x",Ee().lgl),O(Je,"y",Ee().lgt),O(Je,"height",Ee().lgh),O(Je,"width",Ee().lgw),O(Ve,"fill",Ce().faceColor),O(Ve,"stroke",Ce().lineColor),O(Ve,"stroke-width",Ce().lineWidth)}),R(fe,Je)};let l=Y(e,"limX",19,()=>[0,1]),a=Y(e,"limY",19,()=>[0,1]),c=Y(e,"margins",19,()=>[1,1.1,.55,.6]),v=Y(e,"downloadLinks",3,"none"),u=Y(e,"fileName",3,"plot"),f=Y(e,"pngWidth",3,8),m=Y(e,"pngHeight",3,8),d=Y(e,"pngRes",3,300),h=Y(e,"clipboardWidth",3,1200),g=Y(e,"clipboardHeight",3,800),p=Y(e,"onclick",3,null),w=Y(e,"onmousemove",3,null),b=Y(e,"onmousedown",3,null),y=Y(e,"onmouseup",3,null);function C(fe,Ce){if(Ce&&fe.target.id=="axes-box"){const Ee=Ul([fe.offsetX-o(j)],o(K))[0],Je=Ul([fe.offsetY-o(F)],o(te))[0];Ce(Ee,Je)}}const M="plottingArea"+Math.round(Math.random()*1e4);let E=ae(0),_=ae(0),S=ae(0);const k=T(()=>({plot:ef(o(_),o(S)),x:Xl(o(_)),y:Xl(o(S))})),A=T(()=>c().map(fe=>fe*Gu[o(k).plot])),N=T(()=>Xu[o(k).plot]),L=T(()=>Hs[o(k).plot]),q=T(()=>Gr[o(k).plot]),P=T(()=>o(qe).show&&o(qe).label!==""?o(N)*1.5:0),j=T(()=>o(ke).show&&o(ke).label!==""?o(N)*1.5:0),F=T(()=>e.title&&e.title!==""?o(N)*1.5:0),D=T(()=>o(_)>o(j)?o(_)-o(j):0),z=T(()=>o(S)>o(P)+o(F)?o(S)-o(P)-o(F):0),Q=T(()=>o(z)-o(A)[0]-o(A)[2]),G=T(()=>o(D)-o(A)[1]-o(A)[3]),W=T(()=>Ol(l(),2)&&Ol(a(),2)&&o(D)>o(A)[1]+o(A)[3]&&o(z)>o(A)[0]+o(A)[2]),K=T(()=>o(W)?{coords:[o(G)/(l()[1]-l()[0]),l()[0],o(A)[1]],objects:[o(G)/(l()[1]-l()[0]),0,0]}:{coords:[1,0,0],objects:[1,0,0]}),te=T(()=>o(W)?{coords:[-o(Q)/(a()[1]-a()[0]),a()[1],o(A)[2]],objects:[o(Q)/(a()[1]-a()[0]),0,0]}:{coords:[0,1,0],objects:[0,1,0]}),ee=T(()=>o(Q)*.5+o(F)+o(A)[2]),Z=T(()=>o(G)*.5+o(j)+o(A)[1]),ne=T(()=>o(W)?at(l(),o(K)):[0,1]),se=T(()=>o(W)?at(a(),o(te)):[1,0]),ve=T(()=>cr(e.title)),we=T(()=>o(ve)?o(ve).length===e.title.left?1:1.4:0);let xe=ae(Ge({show:!1})),qe=ae(Ge({show:!1,error:""})),ke=ae(Ge({show:!1,error:""})),Se=ae(Ge({show:!1,colmap:null,breaks:null})),_e=ae(Ge({show:!1,items:null,position:null}));const dt=T(()=>o(W)&&o(Se)&&o(Se).show?vf(o(Se)):null),ye=T(()=>o(W)&&o(qe).show?uf(l(),a(),o(k),o(te),o(qe)):null),Re=T(()=>o(W)&&o(ke).show?ff(l(),a(),o(k),o(K),o(ke)):null),tt=T(()=>o(W)&&o(dt)?df(o(dt),o(G),o(A),o(k)):null),Et=T(()=>o(W)&&o(_e)&&o(_e).show&&o(ne)?gf(o(_e),o(ne),o(se),o(N),o(L)):null);Va("axes",{setBox:fe=>H(xe,fe,!0),setXAxis:fe=>H(qe,fe,!0),setYAxis:fe=>H(ke,fe,!0),setColmapLegend:fe=>H(Se,fe,!0),setGroupLegend:fe=>H(_e,fe,!0),scales:()=>o(k),tX:()=>o(K),tY:()=>o(te),limX:()=>l(),limY:()=>a()});var kt=Kf();let Yn;var mt=B(kt),fr=I(B(mt));{var es=fe=>{var Ce=Ff(),Ee=B(Ce);{var Je=Ve=>{var Me=jf();O(Me,"dx",0),O(Me,"dy",0);var it=B(Me);xt(it,()=>o(qe).label,!0,!1),re(()=>{O(Me,"x",o(Z)),O(Me,"y",o(z)+o(F))}),R(Ve,Me)};U(Ee,Ve=>{o(qe).show&&o(qe).label&&o(qe).label!==""&&Ve(Je)})}var ht=I(Ee);{var Yt=Ve=>{var Me=If();O(Me,"dx",0),O(Me,"dy",0);var it=B(Me);xt(it,()=>o(ke).label,!0,!1),re(()=>{O(Me,"x",o(N)/1.1*o(ke).labelHeight),O(Me,"y",o(ee)),O(Me,"transform",`rotate(-90, ${o(N)*o(ke).labelHeight/1.1}, ${o(ee)})`)}),R(Ve,Me)};U(ht,Ve=>{o(ke).show&&o(ke).label&&o(ke).label!==""&&Ve(Yt)})}var Ct=I(ht);{var At=Ve=>{var Me=zf();O(Me,"dx",0),O(Me,"dy",0);var it=B(Me);xt(it,()=>o(ve),!0,!1),re(()=>{O(Me,"x",o(Z)),O(Me,"y",o(N)*o(we))}),R(Ve,Me)};U(Ct,Ve=>{o(ve)&&o(ve)!==""&&Ve(At)})}R(fe,Ce)};U(fr,fe=>{o(W)&&fe(es)})}var pn=I(fr),ts=B(pn),ns=B(ts);O(ns,"id",M);var Gn=B(ns),eo=I(ts);{var to=fe=>{var Ce=Yf(),Ee=$(Ce);{var Je=Ie=>{var ie=Vf(),ft=B(ie);r(ft,()=>o(ye),()=>o(qe)),R(Ie,ie)};U(Ee,Ie=>{o(qe).show&&o(ye)&&Ie(Je)})}var ht=I(Ee);{var Yt=Ie=>{var ie=Of(),ft=B(ie);r(ft,()=>o(Re),()=>o(ke)),R(Ie,ie)};U(ht,Ie=>{o(ke).show&&o(Re)&&Ie(Yt)})}var Ct=I(ht),At=B(Ct);{var Ve=Ie=>{var ie=Df();ie.__keydown=[Hr,C,p],ie.__click=[Hr,C,p],ie.__mousemove=[$l,C,w],ie.__mousedown=[Jl,C,b],ie.__mouseup=[Zl,C,y],re(()=>{O(ie,"stroke",o(xe).lineColor),O(ie,"stroke-width",`${o(xe).lineWidth??""}px`),O(ie,"x",o(ne)[0]),O(ie,"y",o(se)[1]),O(ie,"width",o(ne)[1]-o(ne)[0]),O(ie,"height",o(se)[0]-o(se)[1])}),R(Ie,ie)},Me=Ie=>{var ie=Bf();ie.__keydown=[Hr,C,p],ie.__click=[Hr,C,p],ie.__mousemove=[$l,C,w],ie.__mousedown=[Jl,C,b],ie.__mouseup=[Zl,C,y],re(()=>{O(ie,"x",o(ne)[0]),O(ie,"y",o(se)[1]),O(ie,"width",o(ne)[1]-o(ne)[0]),O(ie,"height",o(se)[0]-o(se)[1])}),R(Ie,ie)};U(At,Ie=>{o(xe).show?Ie(Ve):Ie(Me,!1)})}var it=I(Ct);O(it,"clip-path",`url(#${M??""})`);var ot=B(it);yn(ot,()=>e.children??gt);var Ze=I(it);{var We=Ie=>{var ie=Wf(),ft=B(ie);Ef(ft,()=>o(dt),()=>o(tt)),R(Ie,ie)};U(Ze,Ie=>{o(tt)&&Ie(We)})}var Ft=I(Ze);{var nt=Ie=>{var ie=Uf(),ft=B(ie);s(ft,()=>o(_e),()=>o(Et)),R(Ie,ie)};U(Ft,Ie=>{o(Et)&&Ie(nt)})}R(fe,Ce)};U(eo,fe=>{o(W)&&fe(to)})}Rr(mt,fe=>H(E,fe),()=>o(E));var no=I(mt,2);{var ro=fe=>{var Ce=Gf();R(fe,Ce)},so=fe=>{var Ce=Hf(),Ee=B(Ce);Ee.__click=[ta,E,u],Ee.__keydown=[ta,E,u];var Je=I(Ee,2);Je.__click=[na,E,u,f,m,d],Je.__keydown=[na,E,u,f,m,d];var ht=I(Je,2);ht.__click=[ea,E,h,g],ht.__keydown=[ea,E,h,g],R(fe,Ce)};U(no,fe=>{o(W)?fe(so,!1):fe(ro)})}re(fe=>{Yn=vt(kt,1,`plot-container show-download-links-${v()??""}`,"svelte-1jtdxd0",Yn,fe),Dt(mt,`font-size:${o(N)??""}px`),O(pn,"x",o(j)),O(pn,"y",o(F)),O(pn,"width",o(D)),O(pn,"height",o(z)),O(Gn,"x",o(ne)[0]),O(Gn,"y",o(se)[1]),O(Gn,"width",o(ne)[1]-o(ne)[0]),O(Gn,"height",o(se)[0]-o(se)[1])},[()=>({"plot-error":!o(W)})]),nl(mt,"clientWidth",fe=>H(_,fe)),nl(mt,"clientHeight",fe=>H(S,fe)),R(t,kt),me()}et(["keydown","click","mousemove","mousedown","mouseup"]);function Kr(t,e){de(e,!0);let r=Y(e,"tickLabels",7),s=Y(e,"las",3,1),l=Y(e,"whole",3,!1),a=Y(e,"show",3,!0),c=Y(e,"showGrid",3,!1);const v=Vt("axes");he(()=>{const u=cr(e.label),f=u?u.length===e.label.length?1:1.4:0;let m,d="";e.ticks&&([m,d]=Hl(e.ticks,v.limX())),!d&&r()&&(h=>(r(h[0]),d=h[1]))(Gl(r(),m)),v.setXAxis({show:a(),error:d,label:u,ticks:m,labelHeight:f,showGrid:c(),las:s(),whole:l(),tickLabels:r()})}),me()}function Xr(t,e){de(e,!0);let r=Y(e,"tickLabels",7),s=Y(e,"las",3,1),l=Y(e,"whole",3,!1),a=Y(e,"show",3,!0),c=Y(e,"showGrid",3,!1);const v=Vt("axes");he(()=>{const u=cr(e.label),f=u?u.length===e.label.length?1:1.4:0;let m,d="";e.ticks&&([m,d]=Hl(e.ticks,v.limY())),!d&&r()&&(h=>(r(h[0]),d=h[1]))(Gl(r(),m)),v.setYAxis({show:a(),error:d,label:u,ticks:m,labelHeight:f,showGrid:c(),las:s(),whole:l(),tickLabels:r(),pos:4})}),me()}function Qr(t,e){de(e,!0);let r=Y(e,"lineWidth",3,1),s=Y(e,"lineColor",3,"#606060");const l=Vt("axes");he(()=>{l.setBox({show:!0,lineWidth:r(),lineColor:s()})}),me()}var Qf=(t,e)=>ir(t,"rect",e.onclick),Jf=ge("<rect></rect>"),Zf=ge("<g></g>");function $t(t,e){de(e,!0);let r=Y(e,"faceColor",19,()=>wt.PRIMARY),s=Y(e,"lineColor",19,r),l=Y(e,"lineWidth",3,1),a=Y(e,"className",3,"series-rect");const c=T(()=>It(e.left,"Rectangles (left)")),v=T(()=>o(c)?It(e.top,"Rectangles (top)",o(c).length):null),u=T(()=>o(v)?typeof e.width!="object"?Ae.fill(e.width,o(c).length):e.width:null),f=T(()=>o(v)?typeof e.height!="object"?Ae.fill(e.height,o(c).length):e.height:null),m=Vt("axes"),d=T(()=>o(c)?at(o(c),m.tX()):null),h=T(()=>o(v)?at(o(v),m.tY()):null),g=T(()=>o(u)?Bl(o(u),m.tX()):null),p=T(()=>o(f)?Bl(o(f),m.tY()):null),w=T(()=>`fill:${r()};stroke:${s()};stroke-width:${l()}px;`),b=T(()=>o(d)&&o(h)&&o(g)&&o(p)&&o(g).length===o(d).length&&o(p).length===o(d).length);var y=ue(),C=$(y);{var M=E=>{var _=Zf();_.__click=[Qf,e],He(_,21,()=>e.left,Xe,(S,k,A)=>{var N=Jf();re(()=>{O(N,"x",o(d)[A]),O(N,"y",o(h)[A]),O(N,"width",o(g)[A]),O(N,"height",o(p)[A])}),R(S,N)}),re(()=>{vt(_,0,`series ${a()??""}`),Dt(_,o(w))}),R(E,_)};U(C,E=>{o(b)&&E(M)})}R(t,y),me()}et(["click"]);var $f=(t,e)=>ir(t,"line",e.onclick),ev=ge("<line></line>"),tv=ge('<g class="series series-segment"></g>');function Zs(t,e){de(e,!0);let r=Y(e,"lineColor",19,()=>wt.PRIMARY),s=Y(e,"lineType",3,1),l=Y(e,"lineWidth",3,1);const a=T(()=>It(e.xStart,"Segments")),c=T(()=>o(a)?It(e.yStart,"Segments",o(a).length):null),v=T(()=>o(c)?It(e.xEnd,"Segments",o(a).length):null),u=T(()=>o(v)?It(e.yEnd,"Segments",o(a).length):null),f=Vt("axes"),m=T(()=>o(a)?at(o(a),f.tX()):null),d=T(()=>o(v)?at(o(v),f.tX()):null),h=T(()=>o(c)?at(o(c),f.tY()):null),g=T(()=>o(u)?at(o(u),f.tY()):null),p=T(()=>`stroke:${r()};stroke-width: ${l()}px;stroke-dasharray:${Gr[f.scales().plot][s()-1]}`),w=T(()=>o(m)&&o(d)&&o(h)&&o(g));var b=ue(),y=$(b);{var C=M=>{var E=tv();E.__click=[$f,e],He(E,21,()=>o(m),Xe,(_,S,k)=>{var A=ev();re(()=>{O(A,"x1",o(m)[k]),O(A,"x2",o(d)[k]),O(A,"y1",o(h)[k]),O(A,"y2",o(g)[k])}),R(_,A)}),re(()=>Dt(E,o(p))),R(M,E)};U(y,M=>{o(w)&&M(C)})}R(t,b),me()}et(["click"]);var nv=(t,e)=>ir(t,"text",e.onclick),rv=ge("<text><!></text>"),sv=ge("<text><!></text>"),ov=ge("<text><!></text>"),lv=ge('<g class="series series-textlabels"><!></g>');function $s(t,e){de(e,!0);let r=Y(e,"pos",3,0),s=Y(e,"faceColor",19,()=>wt.PRIMARY_TEXT),l=Y(e,"lineColor",3,"transparent"),a=Y(e,"lineWidth",3,0),c=Y(e,"textSize",3,1),v=Y(e,"rotateAngle",3,0);const u=["middle","middle","start","middle","end"],f=T(()=>It(e.xValues,"TextLabels")),m=T(()=>o(f)?It(e.yValues,"TextLabels",o(f).length):null),d=T(()=>o(m)?Array.isArray(e.labels)&&e.labels.length!==o(m).length?(console.error('TextLabels: number of elements in "labels" does not match number of coordinates'),null):e.labels:null),h=T(()=>o(d)?typeof e.labels=="string"&&typeof r()!="number"?(console.error('TextLabels: parameter "labels" is provided as single string, so "pos" must be a single number.'),null):r():null),g=Vt("axes"),p=T(()=>o(f)&&o(h)!==null?at(o(f),g.tX()):null),w=T(()=>o(m)&&o(p)?at(o(m),g.tY()):null),b=T(()=>Fl[g.scales().plot]),y=T(()=>[0,0,-o(b),0,o(b),o(b)]),C=T(()=>[0,o(b),0,-o(b),0,o(b)]),M=T(()=>`fill:${s()};stroke-width:${a()}px;stroke:${l()};font-size:${c()}em;`),E=T(()=>o(p)&&o(w)&&o(h)!==null&&o(d)&&o(p).length===o(w).length);var _=ue(),S=$(_);{var k=A=>{var N=lv();N.__click=[nv,e];var L=B(N);{var q=j=>{var F=ue(),D=$(F);He(D,17,()=>o(p),Xe,(z,Q,G)=>{var W=rv();O(W,"data-id",G);var K=B(W);xt(K,()=>e.labels,!0,!1),re(()=>{O(W,"x",o(p)[G]),O(W,"y",o(w)[G]),O(W,"dx",o(y)[r()]),O(W,"dy",o(C)[r()]),O(W,"transform",v()!==void 0?`rotate(${v()}, ${o(p)[G]+o(y)[r()]}, ${o(w)[G]+o(C)[r()]})`:""),O(W,"text-anchor",u[r()[G]])}),R(z,W)}),R(j,F)},P=(j,F)=>{{var D=Q=>{var G=ue(),W=$(G);He(W,17,()=>o(p),Xe,(K,te,ee)=>{var Z=sv();O(Z,"data-id",ee);var ne=B(Z);xt(ne,()=>e.labels[ee],!0,!1),re(()=>{O(Z,"x",o(p)[ee]),O(Z,"y",o(w)[ee]),O(Z,"dx",o(y)[r()[ee]]),O(Z,"dy",o(C)[r()[ee]]),O(Z,"transform",v()!==void 0?`rotate(${v()}, ${o(p)[ee]+o(y)[r()]}, ${o(w)[ee]+o(C)[r()]})`:""),O(Z,"text-anchor",u[r()[ee]])}),R(K,Z)}),R(Q,G)},z=Q=>{var G=ue(),W=$(G);He(W,17,()=>o(p),Xe,(K,te,ee)=>{var Z=ov();O(Z,"data-id",ee);var ne=B(Z);xt(ne,()=>e.labels[ee],!0,!1),re(()=>{O(Z,"x",o(p)[ee]),O(Z,"y",o(w)[ee]),O(Z,"dx",o(y)[r()]),O(Z,"dy",o(C)[r()]),O(Z,"transform",v()!==void 0?`rotate(${v()}, ${o(p)[ee]+o(y)[r()]}, ${o(w)[ee]+o(C)[r()]})`:""),O(Z,"text-anchor",u[r()])}),R(K,Z)}),R(Q,G)};U(j,Q=>{Array.isArray(r())||ArrayBuffer.isView(r())?Q(D):Q(z,!1)},F)}};U(L,j=>{typeof e.labels=="string"?j(q):j(P,!1)})}re(()=>Dt(N,o(M))),R(A,N)};U(S,A=>{o(E)&&A(k)})}R(t,_),me()}et(["click"]),et(["click"]);var av=(t,e)=>ir(t,"text",e.onclick),iv=ge("<text> </text>"),cv=ge('<g text-anchor="middle"></g>');function zt(t,e){de(e,!0);let r=Y(e,"marker",3,1),s=Y(e,"faceColor",3,"transparent"),l=Y(e,"lineColor",19,()=>wt.PRIMARY),a=Y(e,"lineWidth",3,1),c=Y(e,"markerSize",3,1);const v=T(()=>typeof r()!="number"||r()<1||r()>ar.length?(console.error('Points: parameter "marker" must be a number from 1 to '+ar.length+"."),null):ar[r()-1]),u=T(()=>It(e.xValues,"Points")),f=T(()=>o(u)?It(e.yValues,"Points",o(u).length):null),m=Vt("axes"),d=T(()=>o(u)?at(o(u),m.tX()):null),h=T(()=>o(d)&&o(f)?at(o(f),m.tY()):null),g=T(()=>["＋","✳","✕"].includes(o(v))?`fill:${l()&&l()!=="transparent"?l():s()};stroke-width:0px;font-size:${c()}em;`:`fill:${s()};stroke-width:${a()}px;stroke:${l()}; font-size:${c()}em;`),p=T(()=>["◼","⬥","＋","✳","✕"].includes(o(v))?"series-points2":"series-points1"),w=T(()=>o(d)&&o(h)&&o(d).length===o(h).length);var b=ue(),y=$(b);{var C=M=>{var E=cv();E.__click=[av,e],He(E,21,()=>o(d),Xe,(_,S,k)=>{var A=iv(),N=B(A);re(()=>{O(A,"x",o(d)[k]),O(A,"y",o(h)[k]),le(N,o(v))}),R(_,A)}),re(()=>{vt(E,0,`series series-points ${o(p)??""}`),Dt(E,o(g))}),R(M,E)};U(y,M=>{o(w)&&M(C)})}R(t,b),me()}et(["click"]);var uv=(t,e)=>ir(t,"polyline",e.onclick),fv=ge('<g class="series series-line"><polyline class="line"></polyline></g>');function en(t,e){de(e,!0);let r=Y(e,"lineColor",19,()=>wt.PRIMARY),s=Y(e,"lineType",3,1),l=Y(e,"lineWidth",3,1);const a=T(()=>It(e.xValues,"Lines")),c=T(()=>o(a)?It(e.yValues,"Lines",o(a).length):null),v=Vt("axes"),u=T(()=>o(a)&&o(c)?Zu(o(a),o(c),v.tX(),v.tY()):null),f=T(()=>`fill:transparent;stroke:${r()};stroke-width: ${l()}px; stroke-dasharray:${Gr[v.scales().plot][s()-1]}`);var m=ue(),d=$(m);{var h=g=>{var p=fv();p.__click=[uv,e];var w=B(p);re(()=>{Dt(p,o(f)),O(w,"points",o(u))}),R(g,p)};U(d,g=>{o(u)&&g(h)})}R(t,m),me()}et(["click"]),et(["click"]);function vv(t,e){de(e,!0);let r=Y(e,"show",3,!0),s=Y(e,"position",3,"topleft"),l=Y(e,"lineColor",19,()=>wt.LEGEND),a=Y(e,"lineWidth",3,1),c=Y(e,"faceColor",3,"#fff"),v=Y(e,"fontSize",3,.85);function u(d){return typeof d!="string"?(console.error('Legend: value of "position" must be a string.'),null):["top","left","right","topleft","topright","bottom","bottomleft","bottomright"].includes(d)?d:(console.error('Legend: wrong value of "position" property'),null)}function f(d){if(!d||!Array.isArray(d)||d.length<1)return console.error('Legend: property "items" must be provided as array of JSONs.'),null;for(let h=0;h<d.length;h++){const g=d[h];if(!g.label)return console.error('Legend: all elements of "items" must include at least one field: "label".'),null;const p=cr(g.label),w=p.length===g.label?1:1.4;g.label=p,g.labelHeight=w,g.line&&(g.line.lineType||(g.line.lineType=1),g.line.lineType>0&&g.line.lineType<=4||console.error('Legend: parameter "lineType" for legend item '+(h+1)+" is incorrect."),g.line.lineColor=g.line.lineColor?g.line.lineColor:wt.PRIMARY,g.line.lineWidth=g.line.lineWidth?g.line.lineWidth:1),g.point&&(g.point.marker||(g.point.marker=1),g.point.marker>0&&g.point.marker<=ar.length||console.error('Legend: parameter "marker" for legend item '+(h+1)+" is incorrect."),g.point.faceColor=g.point.faceColor?g.point.faceColor:"transparent",g.point.lineWidth=g.point.lineWidth?g.point.lineWidth:1,g.point.lineColor=g.point.lineColor?g.point.lineColor:wt.PRIMARY)}return d}const m=Vt("axes");he(()=>{const d=f(e.items),h=u(s());m.setGroupLegend(d&&h?{show:r(),position:s(),items:e.items,lineColor:l(),faceColor:c(),lineWidth:a(),fontSize:v()}:{show:!1,position:null,items:null})}),me()}var dv=X("<!> <!> <!>",1);function ra(t,e){de(e,!0);const r="#80808060",s=T(()=>e.calset.varvalues),l=T(()=>{if(!e.calset)return null;const f=o(s).length;let m=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY;const h=Ae.zeros(f),g=Ae.zeros(f);for(let p=0;p<o(s).length;p++){const w=e.calset.values.getcolumn(p+1),b=Dn(w),y=Ss(w),C=b+y,M=b-y;h.v[p]=b,g.v[p]=y,m=Math.min(m,M),d=Math.max(d,C)}return{m:h,s:g,mn:m,mx:d,scale:1/(d-m)}}),a=T(()=>{if(!o(l))return null;let f=e.limY[1]-e.limY[0],m=e.limY[0]+f*.1;f=e.limY[1]-f*.3-m;const h=o(s).length,g=Ae.zeros(h),p=Ae.zeros(h),w=Ae.zeros(h),b=o(l).scale*f;for(let y=0;y<h;y++){const C=o(l).m.v[y],M=o(l).s.v[y],E=C+M,_=C+M;p.v[y]=(E-o(l).mn)*b+m,w.v[y]=(_-o(l).mn)*b+m,g.v[y]=(C-o(l).mn)*b+m}return{m:g,su:p,sb:w}});var c=ue(),v=$(c);{var u=f=>{var m=dv(),d=$(m);en(d,{get xValues(){return o(s)},get yValues(){return o(a).m},lineColor:r,lineWidth:2});var h=I(d,2);en(h,{get xValues(){return o(s)},get yValues(){return o(a).sb},lineColor:r,lineWidth:1,lineType:3});var g=I(h,2);en(g,{get xValues(){return o(s)},get yValues(){return o(a).su},lineColor:r,lineWidth:1,lineType:3}),R(f,m)};U(v,f=>{o(a)&&f(u)})}R(t,c),me()}const mv=[1,1.1,.45,.4],hv=8,gv=8,bv=600;function Jr(t,e){Xf(t,{get limX(){return e.limX},get limY(){return e.limY},get title(){return e.title},get fileName(){return e.fileName},downloadLinks:"hover",margins:mv,pngWidth:hv,pngHeight:gv,pngRes:bv,children:(r,s)=>{var l=ue(),a=$(l);yn(a,()=>e.children),R(r,l)},$$slots:{default:!0}})}var pv=X("<!> <!> <!> <!> <!> <!> <!>",1);function wv(t,e){de(e,!0);const r="ddsimca-love-intervals",s=T(()=>e.props.s);function l(y){if(!y)return[0,1];const C=y.varvalues[0],M=y.varvalues[y.varvalues.length-1],E=M-C;return[C-E*.1,M+E*.025]}const a=T(()=>{if(!o(s).outcomes)return"Data and intervals";if(o(s).outcomes.status==="running")return"Calculation in progress..."}),c=T(()=>o(s).calset.varAxisTitle),v=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(10):null),u=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(22):null),f=T(()=>o(v)&&o(u)?{left:o(s).varselparams.left,width:o(s).varselparams.width,top:o(v),height:o(u)}:null),m=T(()=>{if(o(f)&&o(s).intExcluded.length>0){const y=o(s).intExcluded.length,C=Array(y),M=Array(y),E=Array(y),_=Array(y);for(let S=0;S<y;S++)C[S]=o(f).left[o(s).intExcluded[S]],M[S]=o(f).width[o(s).intExcluded[S]],E[S]=o(f).top[o(s).intExcluded[S]],_[S]=o(f).height[o(s).intExcluded[S]];return{left:C,width:M,top:E,height:_}}else return null}),d=T(()=>o(s).outcomes&&o(s).outcomes.status==="running"&&o(f)?{left:[o(f).left[o(s).outcomes.curInt]],width:[o(f).width[o(s).outcomes.curInt]],top:[2],height:[4],faceColor:"#fffa0040"}:null),h=T(()=>l(o(s).calset)),g=T(()=>[0,1.1]);var p=ue(),w=$(p);{var b=y=>{Jr(y,{fileName:r,get limX(){return o(h)},get limY(){return o(g)},get title(){return o(a)},children:(C,M)=>{var E=pv(),_=$(E);ra(_,{get calset(){return o(s).calset},get limY(){return o(g)}});var S=I(_,2);{var k=D=>{$t(D,ze({lineColor:"transparent",faceColor:"#00000040"},()=>o(m)))};U(S,D=>{o(m)&&D(k)})}var A=I(S,2);{var N=D=>{var z=ue(),Q=$(z);{var G=W=>{$t(W,ze(()=>o(d)))};U(Q,W=>{o(d)&&W(G)})}R(D,z)};U(A,D=>{o(s).outcomes&&o(s).outcomes.status==="running"&&D(N)})}var L=I(A,2);{var q=D=>{$t(D,ze({lineColor:"#00000010",faceColor:"#00000005"},()=>o(f)))};U(L,D=>{o(f)&&D(q)})}var P=I(L,2);Qr(P,{});var j=I(P,2);Kr(j,{get label(){return o(c)}});var F=I(j,2);Xr(F,{showGrid:!0}),R(C,E)}})};U(w,y=>{o(h)&&o(g)&&y(b)})}R(t,p),me()}var _v=X("<!> <!> <!>",1),xv=X("<!> <!>",1),yv=X("<!> <!>",1),Ev=X("<!> <!>",1),kv=X("<!> <!> <!>; <!>",1);function Cv(t,e){de(e,!0);let r=Y(e,"yMin",15),s=Y(e,"yMax",15);const l=T(()=>{if(!e.fomView||!e.s.outcomes||e.s.outcomes.status!=="done")return{min:0,max:1,values:null};const p=e.s.varselparams.mid,w=e.s.varselparams.width,b=p.length;let y=0,C=0,M={};const E=e.fomView==="diff"?.21:.84,_=e.fomView==="diff"?1:0,S=.42;let k=0;for(const A of e.fomKeys){const N=e.s.outcomes[A][e.fomView].getcolumn(e.s.nComp).v,L=Array(b),q=Array(b),P=Array(b),j=Array(b);for(let F=0;F<b;F++)L[F]=p[F]-S*w[F]+k*E*_*w[F],j[F]=E*w[F],N[F]>=0?(q[F]=N[F],P[F]=N[F],C=Math.max(C,N[F])):(q[F]=0,P[F]=-N[F],y=Math.min(y,N[F]));M[A]={left:L,top:q,height:P,width:j,faceColor:"#a8a04060"},k=k+1}return{values:M,min:y,max:C}}),a=T(()=>o(l)?(o(l).max-o(l).min)*.2:0);he(()=>{r(o(l).min-o(a)),s(o(l).max+o(a))});const c=T(()=>{if(!o(l)||!o(l).values||e.s.intSelected===void 0||e.s.intSelected===null||e.s.intSelected<0)return null;const p={},w={};for(const b of e.fomKeys){const y=o(l).values[b],C=y.left[e.s.intSelected],M=y.width[e.s.intSelected],E=y.top[e.s.intSelected],_=y.height[e.s.intSelected],S=E===0?-_:_;p[b]={left:[C],width:[M],top:[E],height:[_]},w[b]={xValues:[C+M*.5],yValues:[s()-o(a)],labels:e.fomView==="diff"?[S.toFixed(3)+" ("+b+")"]:[S.toFixed(3)],pos:3,textSize:.8,faceColor:e.seriesColors.selected}}return{psl:p,tsl:w}}),v=T(()=>e.s.statsGlobal&&e.fom?e.s.statsGlobal[e.fom][e.s.statsGlobal.ncompBest?e.s.statsGlobal.ncompBest-1:e.s.nComp-1]:null),u=T(()=>e.s.statsCurrent&&e.fom&&e.s.statsCurrent.ncompBest?e.s.statsCurrent[e.fom][e.s.statsCurrent.ncompBest?e.s.statsCurrent.ncompBest-1:e.s.nComp-1]:null),f=T(()=>o(l).values&&e.fom?o(l).values[e.fom]:null),m=T(()=>o(f)?(e.limX[0]+o(f).left[0])*.5:0);var d=ue(),h=$(d);{var g=p=>{var w=ue(),b=$(w);{var y=M=>{var E=_v(),_=$(E);const S=T(()=>[e.limX[0]]),k=T(()=>[e.limX[1]]);Zs(_,{get xStart(){return o(S)},get xEnd(){return o(k)},yStart:[0],yEnd:[0],lineColor:"#808080"});var A=I(_,2);He(A,17,()=>e.fomKeys,Xe,(q,P)=>{const j=T(()=>"#a8a040"+(o(P)===e.fom?"e0":"60"));$t(q,ze(()=>o(l).values[o(P)],{lineWidth:0,get faceColor(){return o(j)}}))});var N=I(A,2);{var L=q=>{var P=ue(),j=$(P);He(j,17,()=>e.fomKeys,Xe,(F,D)=>{const z=T(()=>e.seriesColors.selected+(o(D)===e.fom?"":"40"));$t(F,ze(()=>o(c).psl[o(D)],{lineWidth:0,get faceColor(){return o(z)}}))}),R(q,P)};U(N,q=>{o(c)&&q(L)})}R(M,E)},C=M=>{var E=kv(),_=$(E);{var S=P=>{var j=xv(),F=$(j);const D=T(()=>[e.limX[0]]),z=T(()=>[e.limX[1]]),Q=T(()=>[o(v)]),G=T(()=>[o(v)]);Zs(F,{get xStart(){return o(D)},get xEnd(){return o(z)},get yStart(){return o(Q)},get yEnd(){return o(G)},get lineColor(){return e.seriesColors.global}});var W=I(F,2);const K=T(()=>[o(m)]),te=T(()=>[o(v)]),ee=T(()=>[o(v).toFixed(3)]),Z=T(()=>o(v)>o(u)?3:1);$s(W,{get xValues(){return o(K)},get yValues(){return o(te)},get labels(){return o(ee)},get pos(){return o(Z)},textSize:.85,get faceColor(){return e.seriesColors.global}}),R(P,j)};U(_,P=>{o(v)&&P(S)})}var k=I(_,2);{var A=P=>{var j=yv(),F=$(j);const D=T(()=>[e.limX[0]]),z=T(()=>[e.limX[1]]),Q=T(()=>[o(u)]),G=T(()=>[o(u)]);Zs(F,{get xStart(){return o(D)},get xEnd(){return o(z)},get yStart(){return o(Q)},get yEnd(){return o(G)},lineType:3,get lineColor(){return e.seriesColors.best}});var W=I(F,2);const K=T(()=>[o(m)]),te=T(()=>[o(u)]),ee=T(()=>[o(u).toFixed(3)]),Z=T(()=>o(v)>o(u)?1:3);$s(W,{get xValues(){return o(K)},get yValues(){return o(te)},get labels(){return o(ee)},get pos(){return o(Z)},textSize:.85,get faceColor(){return e.seriesColors.best}}),R(P,j)};U(k,P=>{o(u)&&P(A)})}var N=I(k,2);$t(N,ze(()=>o(f),{faceColor:"#a8a04080"}));var L=I(N,2);{var q=P=>{var j=Ev(),F=$(j);$t(F,ze(()=>o(c).psl[e.fom],{lineWidth:0,get faceColor(){return e.seriesColors.selected}}));var D=I(F,2);$s(D,ze(()=>o(c).tsl[e.fom])),R(P,j)};U(L,P=>{o(c)&&P(q)})}R(M,E)};U(b,M=>{e.fomView==="diff"?M(y):M(C,!1)})}R(p,w)};U(h,p=>{o(l)&&p(g)})}R(t,d),me()}var Av=X("<!> <!> <!> <!> <!> <!> <!> <!>",1);function qv(t,e){de(e,!0);const r="ddsimca-love-outcomes",s=T(()=>e.props?e.props.s:null),l=T(()=>e.props?e.props.fomKeys:null),a=T(()=>e.props?e.props.fomNames:null),c=T(()=>e.props?e.props.seriesColors:null);let v=ae(0),u=ae(1),f=T(()=>o(s).calset.varAxisTitle);function m(S){if(!S)return[0,1];const k=S.varvalues[0],A=S.varvalues[S.varvalues.length-1],N=A-k;return[k-N*.1,A+N*.025]}const d=T(()=>o(s).outcomes?o(s).outcomes.status==="running"?"Selection in progress...":"Variable selection outcomes (A = "+o(s).nComp+")":"Data and intervals"),h=T(()=>!o(s).outcomes||o(s).outcomes.status==="running"?" ":(e.params.fomView==="diff"?"Difference in ":"")+o(a)[e.params.fom]),g=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(10):null),p=T(()=>o(s).varselparams?Array(o(s).varselparams.nInt).fill(22):null),w=T(()=>o(g)&&o(p)?{left:o(s).varselparams.left,width:o(s).varselparams.width,top:o(g),height:o(p)}:null),b=T(()=>{if(o(w)&&o(s).intExcluded.length>0){const S=o(s).intExcluded.length,k=Array(S),A=Array(S),N=Array(S),L=Array(S);for(let q=0;q<S;q++)k[q]=o(w).left[o(s).intExcluded[q]],A[q]=o(w).width[o(s).intExcluded[q]],N[q]=o(w).top[o(s).intExcluded[q]],L[q]=o(w).height[o(s).intExcluded[q]];return{left:k,width:A,top:N,height:L}}else return null}),y=T(()=>m(o(s).calset)),C=T(()=>e.params.fomView==="diff"?[o(v),o(u)]:[0,1.1]);var M=ue(),E=$(M);{var _=S=>{Jr(S,{fileName:r,get limX(){return o(y)},get limY(){return o(C)},get title(){return o(d)},children:(k,A)=>{var N=Av(),L=$(N);ra(L,{get calset(){return o(s).calset},get limY(){return o(C)}});var q=I(L,2);{var P=ee=>{Cv(ee,{get s(){return o(s)},get limX(){return o(y)},get fomKeys(){return o(l)},get seriesColors(){return o(c)},get fomView(){return e.params.fomView},get fom(){return e.params.fom},get yMin(){return o(v)},set yMin(Z){H(v,Z,!0)},get yMax(){return o(u)},set yMax(Z){H(u,Z,!0)}})};U(q,ee=>{o(s).outcomes&&ee(P)})}var j=I(q,2);{var F=ee=>{const Z=T(()=>[o(w).left[o(s).intSelected]]),ne=T(()=>[o(w).width[o(s).intSelected]]),se=T(()=>[o(w).top[o(s).intSelected]]),ve=T(()=>[o(w).height[o(s).intSelected]]);$t(ee,{get left(){return o(Z)},get width(){return o(ne)},get top(){return o(se)},get height(){return o(ve)},lineColor:"#00000010",faceColor:"#ff000010"})};U(j,ee=>{o(w)&&o(s).intSelected>=0&&ee(F)})}var D=I(j,2);{var z=ee=>{$t(ee,ze({className:"series-love-intervals",lineColor:"#00000010",faceColor:"#00000005"},()=>o(w),{get onclick(){return e.callbacks.select}}))};U(D,ee=>{o(w)&&ee(z)})}var Q=I(D,2);{var G=ee=>{$t(ee,ze({lineColor:"transparent",faceColor:"#00000040"},()=>o(b)))};U(Q,ee=>{o(b)&&ee(G)})}var W=I(Q,2);Qr(W,{});var K=I(W,2);Kr(K,{get label(){return o(f)}});var te=I(K,2);Xr(te,{get label(){return o(h)},showGrid:!0}),R(k,N)}})};U(E,S=>{e.params&&o(y)&&o(C)&&S(_)})}R(t,M),me()}var Sv=X("<!> <!>",1),Mv=X("<!> <!> <!>",1),Nv=X("<!> <!>",1),Pv=X("<!> <!> <!> <!> <!>",1),Tv=X("<!> <!> <!> <!> <!>",1);function Rv(t,e){de(e,!0);const r="ddsimca-love-progress",s=T(()=>e.props?e.props.s:null),l=T(()=>e.props?e.props.fomKeys:null),a=T(()=>e.props?e.props.fomNames:null),c=T(()=>e.props?e.props.seriesColors:null),v="Variable selection progress",u="Steps",f=T(()=>o(a)[e.params.fom]),m=T(()=>o(s).statsProgress?o(s).statsProgress.length:0),d=T(()=>o(m)>0?Wr(0,o(m)-1):null),h=T(()=>{if(o(m)<1)return null;const A={};let N=1.1,L=0;for(let q=0;q<o(m);q++){const P=o(s).statsProgress[q];for(const j of o(l)){q===0&&(A[j]=[]);const F=P[j];A[j].push(F),N=Math.min(N,F),L=Math.max(L,F)}}return{series:A,min:N,max:L}}),g=T(()=>o(h)?{xValues:o(d),yValues:o(h).series[e.params.fom]}:null),p=T(()=>o(g)?{xValues:[o(m)-1],yValues:[o(g).yValues[o(m)-1]]}:null),w=T(()=>o(g)?{xValues:[0],yValues:[o(g).yValues[0]]}:null),b=T(()=>{if(!o(g)||!o(s).outcomes||o(s).outcomes.status!=="done"||o(s).intSelected<0)return null;let A=1,N=0,L={};for(const q of o(l)){const P=o(s).outcomes[q].val.getcolumn(o(s).nComp).v[o(s).intSelected];A=Math.min(A,P),N=Math.max(N,P),L[q]={xValues:[o(m)-1,o(m)],yValues:[o(h).series[q][o(m)-1],P]}}return{series:L,min:A,max:N}}),y=T(()=>o(b)?o(b).series[e.params.fom]:null),C=T(()=>o(p)?{xValues:[o(m)-1,o(m)],yValues:[o(p).yValues[0],o(y).yValues[1]]}:null),M=T(()=>o(m)>0?o(y)?[-.5,o(m)+.5]:[-.5,o(m)-.5]:[0,1]),E=T(()=>{if(!o(h)||!e.params.zoom)return[0,1.1];const A=o(h).min,N=o(h).max;return o(b)?[Math.min(A,o(b).min)-.02,Math.max(N,o(b).max+.02)]:[A-.02,N+.02]});var _=ue(),S=$(_);{var k=A=>{Jr(A,{fileName:r,get limX(){return o(M)},get limY(){return o(E)},title:v,children:(N,L)=>{var q=Tv(),P=$(q);{var j=W=>{var K=Mv(),te=$(K);He(te,17,()=>Object.keys(o(b).series),Xe,(ne,se)=>{var ve=Sv(),we=$(ve);en(we,ze(()=>o(b).series[o(se)],{lineColor:"#d0d0d0",lineType:3}));var xe=I(we,2);zt(xe,ze(()=>o(b).series[o(se)],{markerSize:.75,lineColor:"#d0d0d0",faceColor:"#e0e0e0"})),R(ne,ve)});var ee=I(te,2);en(ee,ze(()=>o(C),{get lineColor(){return o(c).selected},lineType:3}));var Z=I(ee,2);zt(Z,ze(()=>o(y),{get lineColor(){return o(c).selected},get faceColor(){return o(c).selected},borderWidth:2})),R(W,K)};U(P,W=>{o(y)&&W(j)})}var F=I(P,2);{var D=W=>{var K=Pv(),te=$(K);He(te,17,()=>Object.keys(o(h).series),Xe,(ve,we)=>{var xe=Nv(),qe=$(xe);en(qe,{get xValues(){return o(d)},get yValues(){return o(h).series[o(we)]},lineColor:"#d0d0d0"});var ke=I(qe,2);zt(ke,{get xValues(){return o(d)},get yValues(){return o(h).series[o(we)]},markerSize:.75,lineColor:"#d0d0d0",faceColor:"#e0e0e0"}),R(ve,xe)});var ee=I(te,2);en(ee,ze(()=>o(g),{lineColor:"#808080",lineWidth:2}));var Z=I(ee,2);zt(Z,ze(()=>o(g),{lineColor:"#808080",faceColor:"#fafafa"}));var ne=I(Z,2);zt(ne,ze(()=>o(p),{get lineColor(){return o(c).best},lineWidth:2}));var se=I(ne,2);zt(se,ze(()=>o(w),{get lineColor(){return o(c).global},lineWidth:2})),R(W,K)};U(F,W=>{o(g)&&W(D)})}var z=I(F,2);Qr(z,{});var Q=I(z,2);Kr(Q,{showGrid:!0,label:u,whole:!0});var G=I(Q,2);Xr(G,{showGrid:!0,get label(){return o(f)}}),R(N,q)}})};U(S,A=>{o(h)&&A(k)})}R(t,_),me()}var Lv=X("<!> <!> <!>",1),jv=X("<!> <!> <!>",1),Iv=X("<!> <!> <!>",1),zv=X("<!> <!> <!> <!> <!> <!> <!>",1);function Fv(t,e){de(e,!0);const r=T(()=>e.props.s),s=T(()=>e.props?e.props.fomKeys:null),l=T(()=>e.props?e.props.fomNames:null),a=T(()=>e.props?e.props.seriesColors:null),c="ddsimca-love-models",v="PCs",u="Variable selection outcomes",f=[0,1.1],m=T(()=>o(l)[e.params.fom]);function d(N,L){return{label:N,line:{lineColor:L.lineColor},point:{lineColor:L.lineColor,lineWidth:1.25,faceColor:"#fafafa",marker:1}}}function h(N,L,q){const P=[];return N&&P.push(d("global",N)),L&&P.push(d("current",L)),q&&P.push(d("selected ("+(o(r).intSelected+1)+")",q)),P}let g=T(()=>o(r).statsGlobal?o(r).statsGlobal[[o(s)[0]]].length:1),p=T(()=>[0,o(g)+1]),w=T(()=>o(r).statsGlobal&&e.params.fom?{xValues:Ae.seq(1,o(g)),yValues:new Ae(o(r).statsGlobal[e.params.fom]),lineColor:o(a).global}:null),b=T(()=>o(w)?{xValues:[o(r).nComp],yValues:[o(w).yValues.v[o(r).nComp-1]],lineColor:o(a).global}:null),y=T(()=>o(r).statsCurrent&&e.params.fom?{xValues:Ae.seq(1,o(r).statsCurrent[e.params.fom].length),yValues:new Ae(o(r).statsCurrent[e.params.fom]),lineColor:o(a).best}:null),C=T(()=>o(y)?{xValues:[o(r).nComp],yValues:[o(y).yValues.v[o(r).nComp-1]],lineColor:o(a).best}:null),M=T(()=>o(r).outcomes&&e.params.fom&&o(r).intSelected>=0?{xValues:Ae.seq(1,o(r).outcomes[e.params.fom].val.ncols),yValues:o(r).outcomes[e.params.fom].val.getrow(o(r).intSelected+1),lineColor:o(a).selected}:null),E=T(()=>o(M)?{xValues:[o(r).nComp],yValues:[o(M).yValues.v[o(r).nComp-1]],lineColor:o(a).selected}:null),_=T(()=>h(o(w),o(y),o(M)));var S=ue(),k=$(S);{var A=N=>{Jr(N,{fileName:c,get limX(){return o(p)},limY:f,title:u,children:(L,q)=>{var P=zv(),j=$(P);{var F=Z=>{var ne=Lv(),se=$(ne);en(se,ze(()=>o(w)));var ve=I(se,2);zt(ve,ze(()=>o(w),{faceColor:"#fafafa"}));var we=I(ve,2);zt(we,ze(()=>o(b),{faceColor:"#fafafa",lineWidth:3})),R(Z,ne)};U(j,Z=>{o(w)&&Z(F)})}var D=I(j,2);{var z=Z=>{var ne=jv(),se=$(ne);en(se,ze(()=>o(y)));var ve=I(se,2);zt(ve,ze(()=>o(y),{faceColor:"#fafafa"}));var we=I(ve,2);zt(we,ze(()=>o(C),{faceColor:"#fafafa",lineWidth:3})),R(Z,ne)};U(D,Z=>{o(y)&&Z(z)})}var Q=I(D,2);{var G=Z=>{var ne=Iv(),se=$(ne);en(se,ze(()=>o(M)));var ve=I(se,2);zt(ve,ze(()=>o(M),{faceColor:"#fafafa"}));var we=I(ve,2);zt(we,ze(()=>o(E),{faceColor:"#fafafa",lineWidth:3})),R(Z,ne)};U(Q,Z=>{o(M)&&Z(G)})}var W=I(Q,2);vv(W,{get items(){return o(_)},position:"bottomright"});var K=I(W,2);Qr(K,{});var te=I(K,2);Kr(te,{showGrid:!0,label:v,whole:!0});var ee=I(te,2);Xr(ee,{showGrid:!0,get label(){return o(m)}}),R(L,P)}})};U(k,N=>{e.params&&N(A)})}R(t,S),me()}function Vv(t,e){de(e,!0);const r=T(()=>e.props.s);he(()=>{o(r).intSelected=e.selected}),he(()=>{o(r).intSelected<0&&e.callbacks.select(o(r).intSelected)});var s=ue(),l=$(s);{var a=v=>{qv(v,{get props(){return e.props},get params(){return e.params},get callbacks(){return e.callbacks},get selected(){return e.selected}})},c=(v,u)=>{{var f=d=>{Rv(d,{get props(){return e.props},get params(){return e.params}})},m=(d,h)=>{{var g=w=>{Fv(w,{get props(){return e.props},get params(){return e.params}})},p=w=>{wv(w,{get props(){return e.props},get params(){return e.params}})};U(d,w=>{e.params.plot==="statistics"?w(g):w(p,!1)},h)}};U(v,d=>{e.params.plot==="progress"&&o(r).statsProgress?d(f):d(m,!1)},u)}};U(l,v=>{e.params.plot==="intervals"&&o(r).outcomes&&o(r).outcomes.status==="done"?v(a):v(c,!1)})}R(t,s),me()}var Ov=X('<div class="msg-select"> </div>'),Dv=X('<div class="msg-select"> </div>'),Bv=X('<div class="selected-buttons svelte-8mh2yv"><!></div>'),Wv=X("<!> <!>",1),Uv=()=>switchPlot(i),Yv=(t,e,r)=>H(e,o(r),!0),Gv=X('<button class="plot-selector svelte-8mh2yv"> </button>'),Hv=X('<div class="plot-panel svelte-8mh2yv"><div class="plot-area svelte-8mh2yv"><div class="plot svelte-8mh2yv"><!></div> <div class="plot-select-msg svelte-8mh2yv"><!></div></div> <div class="plot-controls-area svelte-8mh2yv"></div></div>');function Kv(t,e){de(e,!0);let r=Y(e,"selobjText",3,"Click to select an object...");Y(e,"selvarText",3,"Click to select a variable...");let s=Y(e,"clearText",3,"Click anywhere to remove selection..."),l=Y(e,"params",15),a=Ge({objects:-1,variables:-1}),c=ae(Ge(Object.keys(e.plots)[0]));function v(S){a.objects=S}function u(S){a.objects=-1}function f(S){a.variables=S}function m(S){a.variables=-1}let d={objects:{select:v,unselect:u},variables:{select:f,unselect:m},stats:{}},h=T(()=>o(c)?e.plots[o(c)]:null),g=T(()=>o(h)?o(h).component:null);var p=Hv(),w=B(p),b=B(w),y=B(b);Es(y,()=>o(g),(S,k)=>{k(S,{get params(){return l()[o(c)]},get callbacks(){return d[o(h).scope]},get selected(){return a[o(h).scope]},get props(){return e.props}})});var C=I(b,2),M=B(C);{var E=S=>{var k=ue(),A=$(k);{var N=q=>{var P=Ov(),j=B(P);re(()=>le(j,r())),R(q,P)},L=q=>{var P=Dv(),j=B(P);re(()=>le(j,s())),R(q,P)};U(A,q=>{a[o(h).scope]<0?q(N):q(L,!1)})}R(S,k)};U(M,S=>{o(h).scope==="objects"&&l()[o(c)].plotType!=="l"&&r().length>0&&S(E)})}var _=I(w,2);He(_,21,()=>Object.keys(e.plots),Xe,(S,k)=>{var A=ue(),N=$(A);{var L=P=>{var j=Wv(),F=$(j);au(F,{get title(){return o(h).label},labelWidth:12,get options(){return e.controls[o(c)]},get value(){return l()[o(c)]},set value(Q){l(l()[o(c)]=Q,!0)}});var D=I(F,2);{var z=Q=>{var G=Bv(),W=B(G);yn(W,()=>o(h).buttons,()=>a.objects),R(Q,G)};U(D,Q=>{o(h).buttons&&a.objects>=0&&Q(z)})}R(P,j)},q=P=>{var j=Gv();j.__keydown=[Uv],j.__click=[Yv,c,k];var F=B(j);re(()=>le(F,e.plots[o(k)].label)),R(P,j)};U(N,P=>{o(h)&&o(c)===o(k)?P(L):P(q,!1)})}R(S,A)}),R(t,p),me()}et(["keydown","click"]);var Xv=X("<!> <!>",1);function Qv(t,e){de(e,!0);const r=(b,y=gt)=>{var C=ue(),M=$(C);{var E=_=>{const S=T(()=>s().intSelected+1);ce(_,{get label(){return`Selected (${o(S)??""})`},children:(k,A)=>{var N=Xv(),L=$(N);ut(L,{onclick:()=>s().intSelected=-1,text:"cancel"});var q=I(L,2);ut(q,{onclick:()=>e.setExcluded(s().intSelected),text:"exclude"}),R(k,N)},$$slots:{default:!0}})};U(M,_=>{s().intSelected>=0&&_(E)})}R(b,C)};let s=Y(e,"s",7),l=ae(!0);const a={sens:"sensitivity",spec:"specificity",eff:"efficiency",sel:"selectivity"},c=Object.keys(a),v={global:"#404040",best:"#2679B2",selected:"#D22C2F"},m={txt:{el:Nt,hidden:!1,default:"Run selection",label:"Run selection"},plot:{el:Nt,name:"plot",hidden:!1,default:"intervals",label:"Show",props:{options:["intervals","progress","statistics"]}},fom:{el:Nt,name:"fom",hidden:!1,default:"sens",label:"Statistic",props:{options:["sens","spec","eff","sel"]}},nComp:{el:Il,name:"ncomp",hidden:!1,default:1,label:"# PCs",props:{min:1,max:1,step:1,decNum:0}},fomView:{el:Nt,name:"fomview",hidden:!1,default:"val",label:"Show",props:{options:["diff","val"]}},zoom:{el:lr,name:"zoom",hidden:!1,default:!1,label:"Zoom",props:{options:["off","on"]}}},d=T(()=>({main:{label:"Outcomes",scope:"objects",component:Vv,buttons:r}})),h=Ge({main:m});let g=ae(Ge({main:Wc(m)}));he(()=>{s().outcomes&&s().outcomes.status==="done"&&(h.main.nComp.props.max=s().outcomes.ncomp)}),he(()=>{s().outcomes&&s().outcomes.status==="running"?(H(l,!0),o(g).main.plot="intervals",h.main.txt.hidden=!1,h.main.plot.hidden=!0):(H(l,!1),h.main.txt.hidden=!0,h.main.plot.hidden=!1)}),he(()=>{o(g).main.plot==="intervals"&&s().outcomes&&s().outcomes.status==="done"?h.main.fomView.hidden=!1:h.main.fomView.hidden=!0}),he(()=>{o(g).main.plot==="intervals"&&s().outcomes&&s().outcomes.status==="done"||o(g).main.plot==="progress"||o(g).main.plot==="statistics"?h.main.fom.hidden=!1:h.main.fom.hidden=!0}),he(()=>{o(g).main.plot!=="progress"?h.main.zoom.hidden=!0:h.main.zoom.hidden=o(l)}),he(()=>{o(g).main.plot==="progress"||!s().outcomes||s().outcomes.status!=="done"?h.main.nComp.hidden=!0:h.main.nComp.hidden=o(l)}),he(()=>{s().statsProgress?h.main.plot={label:"Show",hidden:!1,el:Nt,props:{options:["intervals","progress","statistics"]}}:(h.main.plot={label:"Show",hidden:!1,el:Nt,props:{options:["intervals","statistics"]}},o(g).plot==="progress"&&(o(g).plots="intervals"))}),he(()=>{s().nComp=o(g).main.nComp});const p=T(()=>({s:s(),seriesColors:v,fomKeys:c,fomNames:a}));Kv(t,{get props(){return o(p)},callbacks:{},get plots(){return o(d)},get controls(){return h},selobjText:"",",":!0,get params(){return o(g)},set params(b){H(g,b,!0)}}),me()}var Jv=X('<p class="title">Variable selection settings</p>'),Zv=X('<p style="padding: 0.25em; font-weight:bold;"> </p>'),$v=X('<p style="padding: 0.25em; font-weight:bold;"> </p>'),ed=X("<!> <!>",1),td=X('<p style="padding: 0.25em; font-weight:bold;"> </p> <!>',1),nd=X('<p style="padding: 0.25em;font-weight:bold;">Calculation in progress...</p>'),rd=X('<p style="padding: 0.25em;font-weight:bold;">Select interval</p>'),sd=X('<p style="padding: 0.25em;color:crimson;font-weight:bold;">No intervals left for selection.</p>'),od=X("<!> <!> <!> <!>",1);function ld(t,e){de(e,!0);let r=Y(e,"s",7);const s=[10,5,1,.1];let l=r().calset.values.ncols,a=ae(Ge(r().varselparams?r().varselparams.nInt:l<=50?l:10)),c=ae(Ge(o(a))),v=r().calset.varvalues,u=Fc(l);async function f(_){const{calset:S,tarset:k,altset:A,model:N,alpha:L,statsCurrent:q,varselparams:P,varsExcluded:j,intExcluded:F}=_,{center:D,scale:z,ncomp:Q}=N,{nInt:G}=P,W=S.values,K=k.values,te=A.values,ee=W.ncols-_.varsExcluded.length-_.varselparams.intSize,Z=Q>ee?ee:Q,ne=lt.zeros(Z,G),se=lt.zeros(Z,G),ve=lt.zeros(Z,G),we=lt.zeros(Z,G),xe=lt.zeros(Z,G),qe=lt.zeros(Z,G),ke=lt.zeros(Z,G),Se=lt.zeros(Z,G);console.time("do0");for(let _e=0;_e<G;_e++){if(F.length>0&&F.includes(_e))continue;_.outcomes={status:"running",curInt:_e};const dt=Wr(P.intLeftIndices[_e],P.intRightIndices[_e]),ye=P.intSize===1?[...j,_e]:j.concat(dt),Re=await Ic(e.WASM,{varInd:ye,nComp:Z,Xcal:W,Xtar:K,Xalt:te,center:D,scale:z,statsCurrent:q,alpha:L});ne.v.set(Re.sens.val,_e*Z),se.v.set(Re.spec.val,_e*Z),ve.v.set(Re.eff.val,_e*Z),we.v.set(Re.sel.val,_e*Z),xe.v.set(Re.sens.diff,_e*Z),qe.v.set(Re.spec.diff,_e*Z),ke.v.set(Re.eff.diff,_e*Z),Se.v.set(Re.sel.diff,_e*Z)}_.outcomes={status:"done",ncomp:Z,sens:{val:ne.t(),diff:xe.t()},spec:{val:se.t(),diff:qe.t()},eff:{val:ve.t(),diff:ke.t()},sel:{val:we.t(),diff:Se.t()}},console.timeEnd("do0")}he(()=>{o(c)!==o(a)&&(H(c,o(a),!0),r().outcomes=null)}),he(()=>{r().varselparams=zc(l,o(a),null,v)});var m=od(),d=$(m);ce(d,{label:"",children:(_,S)=>{var k=Jv();R(_,k)},$$slots:{default:!0}});var h=I(d,2);{var g=_=>{ce(_,{name:"alpha",label:"Alpha, %:",children:(S,k)=>{Nt(S,{id:"alpha",options:s,get value(){return r().alpha},set value(A){r().alpha=A}})},$$slots:{default:!0}})},p=_=>{ce(_,{label:"Alpha, %:",children:(S,k)=>{var A=Zv(),N=B(A);re(()=>le(N,r().alpha)),R(S,A)},$$slots:{default:!0}})};U(h,_=>{r().intExcluded.length===0&&!r().outcomes?_(g):_(p,!1)})}var w=I(h,2);{var b=_=>{var S=ue(),k=$(S);{var A=L=>{ce(L,{name:"nint",label:"N. of intervals:",children:(q,P)=>{Nt(q,{id:"nInt",options:u,get value(){return o(a)},set value(j){H(a,j,!0)}})},$$slots:{default:!0}})},N=L=>{ce(L,{label:"N. of intervals:",children:(q,P)=>{var j=$v(),F=B(j);re(()=>le(F,o(a))),R(q,j)},$$slots:{default:!0}})};U(k,L=>{!r().outcomes||r().outcomes.status!=="running"?L(A):L(N,!1)})}R(_,S)},y=_=>{ce(_,{label:"N. of intervals:",children:(S,k)=>{var A=td(),N=$(A),L=B(N),q=I(N,2);{var P=j=>{var F=ed(),D=$(F);{var z=G=>{Dc(G,{get onclick(){return e.undoExcluded}})};U(D,G=>{r().intExcluded.length>=2&&G(z)})}var Q=I(D,2);or(Q,{get onclick(){return e.resetExcluded}}),R(j,F)};U(q,j=>{(!r().outcomes||r().outcomes.status!=="running")&&j(P)})}re(()=>le(L,`${o(a)??""} (${r().intExcluded.length??""} out, ${r().varselparams.nInt-r().intExcluded.length} in)`)),R(S,A)},$$slots:{default:!0}})};U(w,_=>{r().intExcluded.length===0||!r().varselparams?_(b):_(y,!1)})}var C=I(w,2);{var M=_=>{ce(_,{label:" ",children:(S,k)=>{var A=ue(),N=$(A);{var L=P=>{var j=nd();R(P,j)},q=P=>{var j=rd();R(P,j)};U(N,P=>{r().outcomes.status==="running"?P(L):P(q,!1)})}R(S,A)},$$slots:{default:!0}})},E=_=>{var S=ue(),k=$(S);{var A=N=>{ce(N,{label:" ",children:(L,q)=>{var P=ue(),j=$(P);{var F=z=>{const Q=T(()=>r().intExcluded.length>0?"new":"");ut(z,{id:"run",onclick:()=>f(r()),get text(){return`Run ${o(Q)??""}`}})},D=z=>{var Q=sd();R(z,Q)};U(j,z=>{r().intExcluded.length<r().varselparams.nInt-1&&r().varsExcluded.length<r().varselparams.nVars-2?z(F):z(D,!1)})}R(L,P)},$$slots:{default:!0}})};U(k,N=>{r().varselparams&&N(A)})}R(_,S)};U(C,_=>{r().outcomes&&!(r().outcomes.status==="done"&&r().intExcluded.length===0)?_(M):_(E,!1)})}R(t,m),me()}var ad=X('<div class="model-calculator svelte-vtn33g"><!></div>'),id=X("<!> <!>",1),cd=X("<h2>Upload target test set</h2>"),ud=X("<!> <!>",1),fd=X("<h2>Generate PV-set</h2>"),vd=X("<!> <!>",1),dd=X('<div class="tarset-loader svelte-vtn33g"><!></div>'),md=X("<h2>Upload alternative test set</h2>"),hd=X('<div class="data-loader-alt svelte-vtn33g"><!> <!></div>'),gd=X('<div class="love-settings svelte-vtn33g"><!></div>'),bd=X('<div class="res-table svelte-vtn33g"><!></div>'),pd=X('<div class="downloads-widget svelte-vtn33g"><!></div>'),wd=X(`<p class="svelte-vtn33g"><strong>Step 1. Load training set from a CSV file.</strong></p> <p class="svelte-vtn33g">The file should contain data as numeric values delimited
               by comma (with dot as decimal separator) or by semicolon (with comma as decimal separator). Rows correspond to observations or objects, columns — to variables.</p> <p class="svelte-vtn33g">First column must contain class names for each row. All rows in the training set should belong to the target class, so it is expected that the class names are the same (you will get error message if not).</p> <p class="svelte-vtn33g">First row can contain variable names (<strong>header</strong>) and first column can contain labels for the objects/observations (<strong>row labels</strong>) — just set the corresponding options after selecting the file. In this case it is assumed that column with the class names is located next to the column with row labels. Here is an example:</p> <div class="svelte-vtn33g"><table class="svelte-vtn33g"><thead><tr class="svelte-vtn33g"><td class="svelte-vtn33g">Name</td><td class="svelte-vtn33g">Class</td><td class="svelte-vtn33g">x1</td><td class="svelte-vtn33g">x2</td><td class="svelte-vtn33g">x3</td></tr></thead><tbody><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O1</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">3.8</td><td class="svelte-vtn33g">1.3</td><td class="svelte-vtn33g">13.6</td></tr><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O2</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">11.1</td><td class="svelte-vtn33g">12.3</td><td class="svelte-vtn33g">3.3</td></tr><tr class="svelte-vtn33g"><td class="svelte-vtn33g">O3</td><td class="svelte-vtn33g">A</td><td class="svelte-vtn33g">1.2</td><td class="svelte-vtn33g">2.3</td><td class="svelte-vtn33g">4.2</td></tr></tbody></table></div> <p class="svelte-vtn33g"></p>`,1),_d=X(`<p class="svelte-vtn33g"><strong>Step 2. Create a global PCA model</strong></p> <p class="svelte-vtn33g">Next step is to create a global PCA model for the calibration set, which will be the basis for the SIMCA model. Use more components/latent variables (PCs) than you expect to be optimal. You will have possibility to set
               optimal number later.</p>`,1),xd=X('<p class="svelte-vtn33g"><strong>Step 3. Compute PV-set</strong></p> <p class="svelte-vtn33g">Now set necessary parameters for Procrustes cross-validation and click button to compute the PV-set, which will help you to optimize SIMCA model parameters. The parameters are the same as for conventional cross-validation: type of splits and number of segments. It is recommended to use fewer number of segments (e.g. 3, 4 or 5).</p>',1),yd=X('<p class="svelte-vtn33g"><strong>Step 4. Load dataset with objects of alternative classes</strong></p> <p class="svelte-vtn33g">Finally load test set with alternative classes members from a CSV file. The file should be organized in the same way as the training set.</p> <p class="svelte-vtn33g">After this step you will be able to start variable selection procedure.</p>',1),Ed=X('<div class="help-text svelte-vtn33g"><p class="svelte-vtn33g">In this tab you can train a DD-SIMCA model and remove variables which are not important for classification. After you done with selection you can save it to a file and use it in other tabs. For example, validate and tune it using test set with target class members (tab <strong>Predict: Target</strong>) or apply it to a dataset with non-target class members (tab <strong>Predict: New</strong>).</p> <!> <!> <!> <!></div>'),kd=X('<div class="app-container svelte-vtn33g"><div class="app-controls svelte-vtn33g"><div class="data-loader-train svelte-vtn33g"><!></div> <!> <!> <!> <!> <!> <!></div> <div class="app-content svelte-vtn33g"><!></div></div>');function Cd(t,e){de(e,!0);const r=T(()=>e.session.train);let s=ae(!1);function l(){if(o(r).intExcluded.length<2)return;o(r).intSelected=-1;const q=o(r).intExcluded[o(r).intExcluded.length-1];if(!(q>=0))return;o(r).statsProgress.pop();const P=o(r).varselparams.intLeftIndices[q],j=o(r).varselparams.intRightIndices[q],F=j===P?1:j-P+1;o(r).intExcluded.pop(),o(r).varsExcluded=o(r).varsExcluded.slice(0,o(r).varsExcluded.length-F);const D=o(r).statsProgress.length;o(r).nComp=o(r).statsProgress[D-1].ncomp,o(r).intSelected=-1,o(r).outcomes=null,H(s,!0),Pl(e.WASM,o(r))}function a(){const q=o(r).intSelected;Number.isNaN(q)||q<0||q>=o(r).varselparams.nInt||o(r).intExcluded.length>0&&o(r).intExcluded.includes(q)||(o(r).intExcluded.length===0&&(o(r).statsGlobal.ncompBest=o(r).nComp),o(r).statsCurrent={ncomp:o(r).outcomes.nComp,ncompBest:o(r).nComp,sens:o(r).outcomes.sens.val.getrow(q+1).v,spec:o(r).outcomes.spec.val.getrow(q+1).v,eff:o(r).outcomes.eff.val.getrow(q+1).v,sel:o(r).outcomes.sel.val.getrow(q+1).v},o(r).statsProgress||(o(r).statsProgress=[{ncomp:o(r).nComp,int:q+1,sens:o(r).statsGlobal.sens[o(r).nComp-1],spec:o(r).statsGlobal.spec[o(r).nComp-1],eff:o(r).statsGlobal.eff[o(r).nComp-1],sel:o(r).statsGlobal.sel[o(r).nComp-1]}]),o(r).statsProgress.push({ncomp:o(r).nComp,int:q+1,sens:o(r).statsCurrent.sens[o(r).nComp-1],spec:o(r).statsCurrent.spec[o(r).nComp-1],eff:o(r).statsCurrent.eff[o(r).nComp-1],sel:o(r).statsCurrent.sel[o(r).nComp-1]}),o(r).intExcluded.push(q),o(r).varsExcluded=o(r).varsExcluded.concat(Wr(o(r).varselparams.intLeftIndices[q],o(r).varselparams.intRightIndices[q])),o(r).intSelected=-1,o(r).outcomes=null,Pl(e.WASM,o(r)))}function c(){o(r).intExcluded=[],o(r).varsExcluded=[],o(r).statsCurrent=o(r).statsGlobal?{ncompBest:null,ncomp:o(r).statsGlobal.ncomp,sens:o(r).statsGlobal.sens,spec:o(r).statsGlobal.spec,eff:o(r).statsGlobal.eff,sel:o(r).statsGlobal.sel}:null,o(r).statsProgress=null,o(r).intSelected=-1,o(r).outcomes=null,o(r).statsGlobal&&(o(r).statsGlobal.ncompBest=null)}he(()=>{o(r).calset===null&&(o(r).calres=null,o(r).model=null)}),he(()=>{o(r).model===null&&(o(r).tarres=null,o(r).tarsetType=null,o(r).tarset=null)}),he(()=>{o(r).tarset===null&&(o(r).tarres=null,o(r).tarsetType=null,o(r).altres=null,o(r).altset=null)}),he(()=>{o(r).altset===null&&(o(r).intExcluded=[],o(r).varsExcluded=[],o(r).statsCurrent=null,o(r).statsGlobal=null,o(r).statsProgress=null,o(r).intSelected=-1,o(r).outcomes=null,o(r).altres=null)}),he(()=>{if(o(r).tarres&&o(r).altres&&!o(r).statsGlobal){const q=Tl(o(r).model,o(r).tarres,o(r).altres,null,o(r).alpha);o(r).statsGlobal={ncomp:q.ncomp,ncompBest:null,sens:q.sens.val,spec:q.spec.val,eff:q.eff.val,sel:q.sel.val},o(r).statsCurrent={ncomp:o(r).statsGlobal.ncomp,ncompBest:null,sens:o(r).statsGlobal.sens,spec:o(r).statsGlobal.spec,eff:o(r).statsGlobal.eff,sel:o(r).statsGlobal.sel}}}),he(()=>{if(o(r).currentRes&&o(s)){H(s,!1);const q=o(r).currentRes.simca.ncomp,P=o(r).currentRes.tar.simca.stat.sensitivity,j=o(r).currentRes.alt.simca.stat.specificity,F=o(r).currentRes.alt.simca.stat.selectivity,D=P.map((z,Q)=>Math.sqrt(z*j[Q]));o(r).statsCurrent={ncomp:P.length,ncompBest:q,sens:new Float64Array(P),spec:new Float64Array(j),eff:new Float64Array(D),sel:new Float64Array(F)}}}),he(()=>{o(r).outcomes&&o(r).outcomes.status!=="done"&&o(r).intSelected>=0&&(o(r).intSelected=-1)}),he(()=>{if(o(r).outcomes&&o(r).outcomes.status==="done"){const q=Qt(()=>JSON.stringify(e.session,Yr));e.backupSession(q)}else if(!o(r).outcomes){const q=Qt(()=>JSON.stringify(e.session,Yr));e.backupSession(q,o(r).model,o(r).calset,o(r).tarres,o(r).altres,o(r).varsExcluded)}});var v=kd(),u=B(v),f=B(u),m=B(f);Gs(m,{get WASM(){return e.WASM},title:"Training set",classMandatory:!0,classUnique:!0,get dataset(){return o(r).calset},set dataset(q){o(r).calset=q}});var d=I(f,2);{var h=q=>{var P=ad(),j=B(P);Au(j,{get WASM(){return e.WASM},get dataset(){return o(r).calset},get model(){return o(r).model},set model(F){o(r).model=F},get resobj(){return o(r).calres},set resobj(F){o(r).calres=F}}),R(q,P)};U(d,q=>{o(r).calset&&q(h)})}var g=I(d,2);{var p=q=>{var P=dd(),j=B(P);{var F=z=>{ce(z,{name:"select-tarset-type",label:"Target set",children:(Q,G)=>{var W=id(),K=$(W);ut(K,{onclick:()=>o(r).tarsetType="file",text:"From file"});var te=I(K,2);ut(te,{onclick:()=>o(r).tarsetType="pv",text:"PV-set"}),R(Q,W)},$$slots:{default:!0}})},D=(z,Q)=>{{var G=K=>{var te=ud(),ee=$(te);{var Z=se=>{ce(se,{label:"",children:(ve,we)=>{var xe=cd();R(ve,xe)},$$slots:{default:!0}})};U(ee,se=>{o(r).tarset||se(Z)})}var ne=I(ee,2);Gs(ne,{get WASM(){return e.WASM},get model(){return o(r).model},title:"Target test set",get dataset(){return o(r).tarset},set dataset(se){o(r).tarset=se},get resobj(){return o(r).tarres},set resobj(se){o(r).tarres=se}}),R(K,te)},W=(K,te)=>{{var ee=Z=>{var ne=vd(),se=$(ne);{var ve=xe=>{ce(xe,{label:"",children:(qe,ke)=>{var Se=fd();R(qe,Se)},$$slots:{default:!0}})};U(se,xe=>{o(r).tarset||xe(ve)})}var we=I(se,2);Fu(we,{get WASM(){return e.WASM},get calset(){return o(r).calset},get calres(){return o(r).calres},get model(){return o(r).model},get pvres(){return o(r).tarres},set pvres(xe){o(r).tarres=xe},get pvset(){return o(r).tarset},set pvset(xe){o(r).tarset=xe}}),R(Z,ne)};U(K,Z=>{o(r).tarsetType==="pv"&&Z(ee)},te)}};U(z,K=>{o(r).tarsetType==="file"?K(G):K(W,!1)},Q)}};U(j,z=>{!o(r).tarsetType&&!o(r).tarset?z(F):z(D,!1)})}R(q,P)};U(g,q=>{o(r).model&&o(r).calset&&o(r).calres&&q(p)})}var w=I(g,2);{var b=q=>{var P=hd(),j=B(P);{var F=z=>{ce(z,{label:"",children:(Q,G)=>{var W=md();R(Q,W)},$$slots:{default:!0}})};U(j,z=>{o(r).altset||z(F)})}var D=I(j,2);Gs(D,{get WASM(){return e.WASM},title:"Alternative test set",get model(){return o(r).model},classMandatory:!0,classUnique:!1,get dataset(){return o(r).altset},set dataset(z){o(r).altset=z},get resobj(){return o(r).altres},set resobj(z){o(r).altres=z}}),R(q,P)};U(w,q=>{o(r).tarset&&o(r).tarres&&q(b)})}var y=I(w,2);{var C=q=>{var P=gd(),j=B(P);ld(j,{get WASM(){return e.WASM},get s(){return o(r)},resetExcluded:c,undoExcluded:l}),R(q,P)};U(y,q=>{o(r).calset&&o(r).altset&&o(r).altres&&o(r).statsGlobal&&q(C)})}var M=I(y,2);{var E=q=>{var P=bd(),j=B(P);Yu(j,{get s(){return o(r)}}),R(q,P)};U(M,q=>{(o(r).statsGlobal||o(r).statsCurrent)&&q(E)})}var _=I(M,2);{var S=q=>{var P=pd(),j=B(P);Pu(j,{get s(){return o(r)}}),R(q,P)};U(_,q=>{o(r).intExcluded.length>0&&o(r).intSelected<0&&(!o(r).outcomes||o(r).outcomes.status!=="running")&&q(S)})}var k=I(u,2),A=B(k);{var N=q=>{var P=Ed(),j=I(B(P),2);{var F=te=>{var ee=wd();R(te,ee)};U(j,te=>{o(r).calset||te(F)})}var D=I(j,2);{var z=te=>{var ee=_d();R(te,ee)};U(D,te=>{o(r).calset&&!o(r).model&&te(z)})}var Q=I(D,2);{var G=te=>{var ee=xd();R(te,ee)};U(Q,te=>{o(r).model&&!o(r).tarset&&te(G)})}var W=I(Q,2);{var K=te=>{var ee=yd();R(te,ee)};U(W,te=>{o(r).model&&o(r).tarset&&!o(r).altset&&te(K)})}R(q,P)},L=(q,P)=>{{var j=F=>{var D=ue(),z=$(D);Ko(z,()=>o(r).intExcluded,Q=>{Qv(Q,{get s(){return o(r)},setExcluded:a})}),R(F,D)};U(q,F=>{o(r).calset&&o(r).varselparams&&F(j)},P)}};U(A,q=>{!o(r).altres||!o(r).statsGlobal?q(N):q(L,!1)})}R(t,v),me()}const Id="modulepreload",zd=function(t){return"/"+t},Fd={},Ad=function(e,r,s){let l=Promise.resolve();function a(c){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=c,window.dispatchEvent(v),!v.defaultPrevented)throw c}return l.then(c=>{for(const v of c||[])v.status==="rejected"&&a(v.reason);return e().catch(a)})};var qd=(()=>{var t=pe&&pe.tagName.toUpperCase()==="SCRIPT"&&pe.src||new URL("ddsimca-love.js",document.baseURI).href;return async function(e={}){var r,s=e,l,a,c=new Promise((V,J)=>{l=V,a=J}),v=typeof window=="object",u=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(f){const{createRequire:V}=await Ad(()=>Promise.resolve().then(()=>Pd),void 0);var m=V(pe&&pe.tagName.toUpperCase()==="SCRIPT"&&pe.src||new URL("ddsimca-love.js",document.baseURI).href)}var d={...s},h=(V,J)=>{throw J},g="";function p(V){return s.locateFile?s.locateFile(V,g):g+V}var w,b;if(f){var y=m("fs"),C=m("path");(pe&&pe.tagName.toUpperCase()==="SCRIPT"&&pe.src||new URL("ddsimca-love.js",document.baseURI).href).startsWith("data:")||(g=C.dirname(m("url").fileURLToPath(pe&&pe.tagName.toUpperCase()==="SCRIPT"&&pe.src||new URL("ddsimca-love.js",document.baseURI).href))+"/"),b=V=>{V=L(V)?new URL(V):V;var J=y.readFileSync(V);return J},w=async(V,J=!0)=>{V=L(V)?new URL(V):V;var oe=y.readFileSync(V,J?void 0:"utf8");return oe},!s.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),h=(V,J)=>{throw process.exitCode=V,J}}else(v||u)&&(u?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),t&&(g=t),g.startsWith("blob:")?g="":g=g.slice(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(b=V=>{var J=new XMLHttpRequest;return J.open("GET",V,!1),J.responseType="arraybuffer",J.send(null),new Uint8Array(J.response)}),w=async V=>{if(L(V))return new Promise((oe,Fe)=>{var Te=new XMLHttpRequest;Te.open("GET",V,!0),Te.responseType="arraybuffer",Te.onload=()=>{if(Te.status==200||Te.status==0&&Te.response){oe(Te.response);return}Fe(Te.status)},Te.onerror=Fe,Te.send(null)});var J=await fetch(V,{credentials:"same-origin"});if(J.ok)return J.arrayBuffer();throw new Error(J.status+" : "+J.url)});s.print||console.log.bind(console);var M=s.printErr||console.error.bind(console);Object.assign(s,d),d=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram;var E=s.wasmBinary,_,S=!1,k,A,N,L=V=>V.startsWith("file://");function q(){var V=_.buffer;s.HEAP8=A=new Int8Array(V),s.HEAP16=new Int16Array(V),s.HEAPU8=N=new Uint8Array(V),s.HEAPU16=new Uint16Array(V),s.HEAP32=new Int32Array(V),s.HEAPU32=new Uint32Array(V),s.HEAPF32=new Float32Array(V),s.HEAPF64=new Float64Array(V),s.HEAP64=new BigInt64Array(V),s.HEAPU64=new BigUint64Array(V)}function P(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)dt(s.preRun.shift());qe(_e)}function j(){nt.h()}function F(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Se(s.postRun.shift());qe(ke)}var D=0,z=null;function Q(V){var J;D++,(J=s.monitorRunDependencies)==null||J.call(s,D)}function G(V){var oe;if(D--,(oe=s.monitorRunDependencies)==null||oe.call(s,D),D==0&&z){var J=z;z=null,J()}}function W(V){var oe;(oe=s.onAbort)==null||oe.call(s,V),V="Aborted("+V+")",M(V),S=!0,V+=". Build with -sASSERTIONS for more info.";var J=new WebAssembly.RuntimeError(V);throw a(J),J}var K;function te(){return s.locateFile?p("pca_wasm.wasm"):new URL("/ddsimca-love/ddsimca-love.wasm",pe&&pe.tagName.toUpperCase()==="SCRIPT"&&pe.src||new URL("ddsimca-love.js",document.baseURI).href).href}function ee(V){if(V==K&&E)return new Uint8Array(E);if(b)return b(V);throw"both async and sync fetching of the wasm failed"}async function Z(V){if(!E)try{var J=await w(V);return new Uint8Array(J)}catch{}return ee(V)}async function ne(V,J){try{var oe=await Z(V),Fe=await WebAssembly.instantiate(oe,J);return Fe}catch(Te){M(`failed to asynchronously prepare wasm: ${Te}`),W(Te)}}async function se(V,J,oe){if(!V&&typeof WebAssembly.instantiateStreaming=="function"&&!L(J)&&!f)try{var Fe=fetch(J,{credentials:"same-origin"}),Te=await WebAssembly.instantiateStreaming(Fe,oe);return Te}catch(Be){M(`wasm streaming compile failed: ${Be}`),M("falling back to ArrayBuffer instantiation")}return ne(J,oe)}function ve(){return{a:Ft}}async function we(){function V(Be,Ye){return nt=Be.exports,_=nt.g,q(),G(),nt}Q();function J(Be){return V(Be.instance)}var oe=ve();if(s.instantiateWasm)return new Promise((Be,Ye)=>{s.instantiateWasm(oe,(De,ln)=>{V(De),Be(De.exports)})});K??(K=te());try{var Fe=await se(E,K,oe),Te=J(Fe);return Te}catch(Be){return a(Be),Promise.reject(Be)}}class xe{constructor(J){Sn(this,"name","ExitStatus");this.message=`Program terminated with exit(${J})`,this.status=J}}var qe=V=>{for(;V.length>0;)V.shift()(s)},ke=[],Se=V=>ke.unshift(V),_e=[],dt=V=>_e.unshift(V),ye=s.noExitRuntime||!0,Re=V=>ie(V),tt=()=>oo(),Et=()=>W(""),kt=0,Yn=()=>{ye=!1,kt=0},mt={},fr=V=>{if(V instanceof xe||V=="unwind")return k;h(1,V)},es=()=>ye||kt>0,pn=V=>{var J;k=V,es()||((J=s.onExit)==null||J.call(s,V),S=!0),h(V,new xe(V))},ts=(V,J)=>{k=V,pn(V)},ns=ts,Gn=()=>{if(!es())try{ns(k)}catch(V){fr(V)}},eo=V=>{if(!S)try{V(),Gn()}catch(J){fr(J)}},to=()=>performance.now(),no=(V,J)=>{if(mt[V]&&(clearTimeout(mt[V].id),delete mt[V]),!J)return 0;var oe=setTimeout(()=>{delete mt[V],eo(()=>Ie(V,to()))},J);return mt[V]={id:oe,timeout_ms:J},0},ro=()=>Date.now(),so=()=>2147483648,fe=(V,J)=>Math.ceil(V/J)*J,Ce=V=>{var J=_.buffer,oe=(V-J.byteLength+65535)/65536|0;try{return _.grow(oe),q(),1}catch{}},Ee=V=>{var J=N.length;V>>>=0;var oe=so();if(V>oe)return!1;for(var Fe=1;Fe<=4;Fe*=2){var Te=J*(1+.2/Fe);Te=Math.min(Te,V+100663296);var Be=Math.min(oe,fe(Math.max(V,Te),65536)),Ye=Ce(Be);if(Ye)return!0}return!1},Je=V=>{var J=s["_"+V];return J},ht=(V,J)=>{A.set(V,J)},Yt=V=>{for(var J=0,oe=0;oe<V.length;++oe){var Fe=V.charCodeAt(oe);Fe<=127?J++:Fe<=2047?J+=2:Fe>=55296&&Fe<=57343?(J+=4,++oe):J+=3}return J},Ct=(V,J,oe,Fe)=>{if(!(Fe>0))return 0;for(var Te=oe,Be=oe+Fe-1,Ye=0;Ye<V.length;++Ye){var De=V.charCodeAt(Ye);if(De>=55296&&De<=57343){var ln=V.charCodeAt(++Ye);De=65536+((De&1023)<<10)|ln&1023}if(De<=127){if(oe>=Be)break;J[oe++]=De}else if(De<=2047){if(oe+1>=Be)break;J[oe++]=192|De>>6,J[oe++]=128|De&63}else if(De<=65535){if(oe+2>=Be)break;J[oe++]=224|De>>12,J[oe++]=128|De>>6&63,J[oe++]=128|De&63}else{if(oe+3>=Be)break;J[oe++]=240|De>>18,J[oe++]=128|De>>12&63,J[oe++]=128|De>>6&63,J[oe++]=128|De&63}}return J[oe]=0,oe-Te},At=(V,J,oe)=>Ct(V,N,J,oe),Ve=V=>ft(V),Me=V=>{var J=Yt(V)+1,oe=Ve(J);return At(V,oe,J),oe},it=typeof TextDecoder<"u"?new TextDecoder:void 0,ot=(V,J=0,oe=NaN)=>{for(var Fe=J+oe,Te=J;V[Te]&&!(Te>=Fe);)++Te;if(Te-J>16&&V.buffer&&it)return it.decode(V.subarray(J,Te));for(var Be="";J<Te;){var Ye=V[J++];if(!(Ye&128)){Be+=String.fromCharCode(Ye);continue}var De=V[J++]&63;if((Ye&224)==192){Be+=String.fromCharCode((Ye&31)<<6|De);continue}var ln=V[J++]&63;if((Ye&240)==224?Ye=(Ye&15)<<12|De<<6|ln:Ye=(Ye&7)<<18|De<<12|ln<<6|V[J++]&63,Ye<65536)Be+=String.fromCharCode(Ye);else{var An=Ye-65536;Be+=String.fromCharCode(55296|An>>10,56320|An&1023)}}return Be},Ze=(V,J)=>V?ot(N,V,J):"",We=(V,J,oe,Fe,Te)=>{var Be={string:Pt=>{var vr=0;return Pt!=null&&Pt!==0&&(vr=Me(Pt)),vr},array:Pt=>{var vr=Ve(Pt.length);return ht(Pt,vr),vr}};function Ye(Pt){return J==="string"?Ze(Pt):J==="boolean"?!!Pt:Pt}var De=Je(V),ln=[],An=0;if(Fe)for(var qn=0;qn<Fe.length;qn++){var oa=Be[oe[qn]];oa?(An===0&&(An=tt()),ln[qn]=oa(Fe[qn])):ln[qn]=Fe[qn]}var lo=De(...ln);function Td(Pt){return An!==0&&Re(An),Ye(Pt)}return lo=Td(lo),lo},Ft={c:Et,b:Yn,d:no,f:ro,e:Ee,a:pn},nt=await we();nt.h,s._pcafit_wasm=nt.i,s._malloc=nt.j,s._free=nt.k,s._pcapredict_wasm=nt.l,s._pcvpca_wasm=nt.m;var Ie=nt.o,ie=nt.p,ft=nt.q,oo=nt.r;s.ccall=We;function Gt(){if(D>0){z=Gt;return}if(P(),D>0){z=Gt;return}function V(){var J;s.calledRun=!0,!S&&(j(),l(s),(J=s.onRuntimeInitialized)==null||J.call(s),F())}s.setStatus?(s.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>s.setStatus(""),1),V()},1)):V()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();return Gt(),r=c,r}})(),Sd=X('<p>Current release: <span>1.0.4</span> Feedback: <a class="paper-link" href="mailto:help@mda.tools?subject=DDSIMCA-LOVE app">help@mda.tools</a> Tutorial: <a class="paper-link" href="" download="">paper</a> | <a href="">video lessons</a></p>'),Md=X(`<h2>DD-SIMCA variable selection</h2> <p>Authors: <em></em></p> <p>Interactive web-application for excluding least important variables in DD-SIMCA one class classifier. The method is ...</p> <h3>v. 1.0.x</h3> <p class="release-info">released 12/04/2025</p> <ul><li>Improvements to session mechanism.</li> <li>Small improvements and bug fixes.</li></ul> <h3>v. 1.0.0</h3> <p class="release-info">released 15/03/2025</p> <ul><li>Introducing sessons — app states, including model, results, datasets, and outliers
         (in all tabs). When you close tab or app window or click on reboot button, the current
         session is saved to browser's local storage and then is restored automatically. You can
         also download session as a file and load it from file.</li> <li>Many small improvements to plots and control elements.</li></ul>`,1);function Nd(t,e){de(e,!1);function r(c){c.train.altset=null,c.train.tarset=null,c.train.calset=null,c.train.intSelected=-1}function s(c){const v=Object.keys(c);if(!["date","train","tab"].every(f=>v.includes(f)))return!1;const u=Object.keys(c.train);return["calset","altset","tarset","tarres","altres","model"].every(f=>u.includes(f))?(c.train.outcomes&&c.train.outcomes.status==="running"&&(c.train.outcomes=null),c.train.tarsetType&&!c.train.tarset&&(c.train.tarsetType=null),c.train.model&&!c.train.calres&&(c.train.model=null),!0):!1}function l(){return{date:Ws(new Date),tab:0,train:{calset:0,model:0,calres:0,tarsetType:0,tarset:0,tarres:0,altset:0,altres:0,intSelected:-1,intExcluded:[],varsExcluded:[],varselparams:0,currentRes:0,statsGlobal:0,statsCurrent:0,statsProgress:0,alpha:5,nComp:0,outcomes:0,oldInt:0,oldNInt:0}}}const a=[{name:"Train",label:"train",component:Cd}];Li(),Nc(t,{appID:"ddsimca-love",appTitle:"DD-SIMCA with LOVE",appShortTitle:"DD-SIMCA variable selection",appSlogan:"Variable selection for DD-SIMCA",WASM:qd,tabs:a,initSession:l,checkSession:s,resetSession:r,footer:u=>{var f=Sd();R(u,f)},info:u=>{var f=Md();R(u,f)},$$slots:{footer:!0,info:!0}}),me()}di(Nd,{target:document.body});const Pd=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=ddsimca-love.js.map
